(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ii(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x1={exports:{}},sc={},R1={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=Symbol.for("react.element"),Vk=Symbol.for("react.portal"),zk=Symbol.for("react.fragment"),Hk=Symbol.for("react.strict_mode"),Kk=Symbol.for("react.profiler"),Wk=Symbol.for("react.provider"),Gk=Symbol.for("react.context"),Qk=Symbol.for("react.forward_ref"),Yk=Symbol.for("react.suspense"),Xk=Symbol.for("react.memo"),Jk=Symbol.for("react.lazy"),Jg=Symbol.iterator;function Zk(t){return t===null||typeof t!="object"?null:(t=Jg&&t[Jg]||t["@@iterator"],typeof t=="function"?t:null)}var P1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D1=Object.assign,L1={};function Do(t,e,n){this.props=t,this.context=e,this.refs=L1,this.updater=n||P1}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function M1(){}M1.prototype=Do.prototype;function _p(t,e,n){this.props=t,this.context=e,this.refs=L1,this.updater=n||P1}var Sp=_p.prototype=new M1;Sp.constructor=_p;D1(Sp,Do.prototype);Sp.isPureReactComponent=!0;var Zg=Array.isArray,$1=Object.prototype.hasOwnProperty,Tp={current:null},F1={key:!0,ref:!0,__self:!0,__source:!0};function j1(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)$1.call(e,r)&&!F1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Oa,type:t,key:o,ref:s,props:i,_owner:Tp.current}}function eO(t,e){return{$$typeof:Oa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oa}function tO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ev=/\/+/g;function mf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tO(""+t.key):e.toString(36)}function Dl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Oa:case Vk:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+mf(s,0):r,Zg(i)?(n="",t!=null&&(n=t.replace(ev,"$&/")+"/"),Dl(i,e,n,"",function(u){return u})):i!=null&&(bp(i)&&(i=eO(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ev,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Zg(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+mf(o,a);s+=Dl(o,e,n,l,i)}else if(l=Zk(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+mf(o,a++),s+=Dl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function rl(t,e,n){if(t==null)return t;var r=[],i=0;return Dl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function nO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},Ll={transition:null},rO={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Ll,ReactCurrentOwner:Tp};ke.Children={map:rl,forEach:function(t,e,n){rl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rl(t,function(){e++}),e},toArray:function(t){return rl(t,function(e){return e})||[]},only:function(t){if(!bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Do;ke.Fragment=zk;ke.Profiler=Kk;ke.PureComponent=_p;ke.StrictMode=Hk;ke.Suspense=Yk;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rO;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=D1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Tp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$1.call(e,l)&&!F1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Oa,type:t.type,key:i,ref:o,props:r,_owner:s}};ke.createContext=function(t){return t={$$typeof:Gk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wk,_context:t},t.Consumer=t};ke.createElement=j1;ke.createFactory=function(t){var e=j1.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:Qk,render:t}};ke.isValidElement=bp;ke.lazy=function(t){return{$$typeof:Jk,_payload:{_status:-1,_result:t},_init:nO}};ke.memo=function(t,e){return{$$typeof:Xk,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Ll.transition;Ll.transition={};try{t()}finally{Ll.transition=e}};ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ke.useCallback=function(t,e){return $t.current.useCallback(t,e)};ke.useContext=function(t){return $t.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};ke.useEffect=function(t,e){return $t.current.useEffect(t,e)};ke.useId=function(){return $t.current.useId()};ke.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return $t.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};ke.useRef=function(t){return $t.current.useRef(t)};ke.useState=function(t){return $t.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return $t.current.useTransition()};ke.version="18.2.0";R1.exports=ke;var L=R1.exports;const Bt=Ii(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iO=L,oO=Symbol.for("react.element"),sO=Symbol.for("react.fragment"),aO=Object.prototype.hasOwnProperty,lO=iO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uO={key:!0,ref:!0,__self:!0,__source:!0};function U1(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)aO.call(e,r)&&!uO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oO,type:t,key:o,ref:s,props:i,_owner:lO.current}}sc.Fragment=sO;sc.jsx=U1;sc.jsxs=U1;x1.exports=sc;var kp=x1.exports;const pi=kp.Fragment,j=kp.jsx,fe=kp.jsxs;var wh={},B1={exports:{}},en={},q1={exports:{}},V1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,F){var D=H.length;H.push(F);e:for(;0<D;){var N=D-1>>>1,P=H[N];if(0<i(P,F))H[N]=F,H[D]=P,D=N;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var F=H[0],D=H.pop();if(D!==F){H[0]=D;e:for(var N=0,P=H.length,M=P>>>1;N<M;){var V=2*(N+1)-1,q=H[V],x=V+1,U=H[x];if(0>i(q,D))x<P&&0>i(U,q)?(H[N]=U,H[x]=D,N=x):(H[N]=q,H[V]=D,N=V);else if(x<P&&0>i(U,D))H[N]=U,H[x]=D,N=x;else break e}}return F}function i(H,F){var D=H.sortIndex-F.sortIndex;return D!==0?D:H.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,y=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=H)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function g(H){if(v=!1,w(H),!y)if(n(l)!==null)y=!0,z(_);else{var F=n(u);F!==null&&B(g,F.startTime-H)}}function _(H,F){y=!1,v&&(v=!1,m(b),b=-1),d=!0;var D=f;try{for(w(F),h=n(l);h!==null&&(!(h.expirationTime>F)||H&&!T());){var N=h.callback;if(typeof N=="function"){h.callback=null,f=h.priorityLevel;var P=N(h.expirationTime<=F);F=t.unstable_now(),typeof P=="function"?h.callback=P:h===n(l)&&r(l),w(F)}else r(l);h=n(l)}if(h!==null)var M=!0;else{var V=n(u);V!==null&&B(g,V.startTime-F),M=!1}return M}finally{h=null,f=D,d=!1}}var O=!1,S=null,b=-1,A=5,k=-1;function T(){return!(t.unstable_now()-k<A)}function I(){if(S!==null){var H=t.unstable_now();k=H;var F=!0;try{F=S(!0,H)}finally{F?C():(O=!1,S=null)}}else O=!1}var C;if(typeof p=="function")C=function(){p(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=I,C=function(){$.postMessage(null)}}else C=function(){E(I,0)};function z(H){S=H,O||(O=!0,C())}function B(H,F){b=E(function(){H(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||d||(y=!0,z(_))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var D=f;f=F;try{return H()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,F){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var D=f;f=H;try{return F()}finally{f=D}},t.unstable_scheduleCallback=function(H,F,D){var N=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?N+D:N):D=N,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=D+P,H={id:c++,callback:F,priorityLevel:H,startTime:D,expirationTime:P,sortIndex:-1},D>N?(H.sortIndex=D,e(u,H),n(l)===null&&H===n(u)&&(v?(m(b),b=-1):v=!0,B(g,D-N))):(H.sortIndex=P,e(l,H),y||d||(y=!0,z(_))),H},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(H){var F=f;return function(){var D=f;f=F;try{return H.apply(this,arguments)}finally{f=D}}}})(V1);q1.exports=V1;var cO=q1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1=L,Jt=cO;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H1=new Set,js={};function Ni(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(js[t]=e,t=0;t<e.length;t++)H1.add(e[t])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eh=Object.prototype.hasOwnProperty,fO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tv={},nv={};function hO(t){return Eh.call(nv,t)?!0:Eh.call(tv,t)?!1:fO.test(t)?nv[t]=!0:(tv[t]=!0,!1)}function dO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pO(t,e,n,r){if(e===null||typeof e>"u"||dO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function Ip(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Op,Ip);wt[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Op,Ip);wt[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Op,Ip);wt[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Np(t,e,n,r){var i=wt.hasOwnProperty(e)?wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pO(e,n,i,r)&&(n=null),r||i===null?hO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,il=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),W1=Symbol.for("react.context"),Ap=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),Th=Symbol.for("react.suspense_list"),xp=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),G1=Symbol.for("react.offscreen"),rv=Symbol.iterator;function ts(t){return t===null||typeof t!="object"?null:(t=rv&&t[rv]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,gf;function ms(t){if(gf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gf=e&&e[1]||""}return`
`+gf+t}var vf=!1;function yf(t,e){if(!t||vf)return"";vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{vf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ms(t):""}function mO(t){switch(t.tag){case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return t=yf(t.type,!1),t;case 11:return t=yf(t.type.render,!1),t;case 1:return t=yf(t.type,!0),t;default:return""}}function bh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vi:return"Fragment";case qi:return"Portal";case _h:return"Profiler";case Cp:return"StrictMode";case Sh:return"Suspense";case Th:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W1:return(t.displayName||"Context")+".Consumer";case K1:return(t._context.displayName||"Context")+".Provider";case Ap:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xp:return e=t.displayName||null,e!==null?e:bh(t.type)||"Memo";case pr:e=t._payload,t=t._init;try{return bh(t(e))}catch{}}return null}function gO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bh(e);case 8:return e===Cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vO(t){var e=Q1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){t._valueTracker||(t._valueTracker=vO(t))}function Y1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kh(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function X1(t,e){e=e.checked,e!=null&&Np(t,"checked",e,!1)}function Oh(t,e){X1(t,e);var n=jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ih(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ih(t,e.type,jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ov(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ih(t,e,n){(e!=="number"||tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gs=Array.isArray;function ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(gs(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jr(n)}}function J1(t,e){var n=jr(e.value),r=jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function av(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Z1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ch(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Z1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sl,ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yO=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(t){yO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ks[e]=ks[t]})});function tw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ks.hasOwnProperty(t)&&ks[t]?(""+e).trim():e+"px"}function nw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wO=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ah(t,e){if(e){if(wO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function xh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=null;function Rp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ph=null,io=null,oo=null;function lv(t){if(t=Ca(t)){if(typeof Ph!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=fc(e),Ph(t.stateNode,t.type,e))}}function rw(t){io?oo?oo.push(t):oo=[t]:io=t}function iw(){if(io){var t=io,e=oo;if(oo=io=null,lv(t),e)for(t=0;t<e.length;t++)lv(e[t])}}function ow(t,e){return t(e)}function sw(){}var wf=!1;function aw(t,e,n){if(wf)return t(e,n);wf=!0;try{return ow(t,e,n)}finally{wf=!1,(io!==null||oo!==null)&&(sw(),iw())}}function Bs(t,e){var n=t.stateNode;if(n===null)return null;var r=fc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Dh=!1;if(Xn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Dh=!1}function EO(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Os=!1,nu=null,ru=!1,Lh=null,_O={onError:function(t){Os=!0,nu=t}};function SO(t,e,n,r,i,o,s,a,l){Os=!1,nu=null,EO.apply(_O,arguments)}function TO(t,e,n,r,i,o,s,a,l){if(SO.apply(this,arguments),Os){if(Os){var u=nu;Os=!1,nu=null}else throw Error(Z(198));ru||(ru=!0,Lh=u)}}function Ci(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uv(t){if(Ci(t)!==t)throw Error(Z(188))}function bO(t){var e=t.alternate;if(!e){if(e=Ci(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return uv(i),t;if(o===r)return uv(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function uw(t){return t=bO(t),t!==null?cw(t):null}function cw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cw(t);if(e!==null)return e;t=t.sibling}return null}var fw=Jt.unstable_scheduleCallback,cv=Jt.unstable_cancelCallback,kO=Jt.unstable_shouldYield,OO=Jt.unstable_requestPaint,Ze=Jt.unstable_now,IO=Jt.unstable_getCurrentPriorityLevel,Pp=Jt.unstable_ImmediatePriority,hw=Jt.unstable_UserBlockingPriority,iu=Jt.unstable_NormalPriority,NO=Jt.unstable_LowPriority,dw=Jt.unstable_IdlePriority,ac=null,Cn=null;function CO(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ac,t,void 0,(t.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:RO,AO=Math.log,xO=Math.LN2;function RO(t){return t>>>=0,t===0?32:31-(AO(t)/xO|0)|0}var al=64,ll=4194304;function vs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ou(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=vs(a):(o&=s,o!==0&&(r=vs(o)))}else s=n&~i,s!==0?r=vs(s):o!==0&&(r=vs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yn(e),i=1<<n,r|=t[n],e&=~i;return r}function PO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-yn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=PO(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Mh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pw(){var t=al;return al<<=1,!(al&4194240)&&(al=64),t}function Ef(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ia(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yn(e),t[e]=n}function LO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Dp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function mw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gw,Lp,vw,yw,ww,$h=!1,ul=[],Or=null,Ir=null,Nr=null,qs=new Map,Vs=new Map,vr=[],MO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fv(t,e){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":qs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(e.pointerId)}}function rs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ca(e),e!==null&&Lp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $O(t,e,n,r,i){switch(e){case"focusin":return Or=rs(Or,t,e,n,r,i),!0;case"dragenter":return Ir=rs(Ir,t,e,n,r,i),!0;case"mouseover":return Nr=rs(Nr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qs.set(o,rs(qs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vs.set(o,rs(Vs.get(o)||null,t,e,n,r,i)),!0}return!1}function Ew(t){var e=ri(t.target);if(e!==null){var n=Ci(e);if(n!==null){if(e=n.tag,e===13){if(e=lw(n),e!==null){t.blockedOn=e,ww(t.priority,function(){vw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ml(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rh=r,n.target.dispatchEvent(r),Rh=null}else return e=Ca(n),e!==null&&Lp(e),t.blockedOn=n,!1;e.shift()}return!0}function hv(t,e,n){Ml(t)&&n.delete(e)}function FO(){$h=!1,Or!==null&&Ml(Or)&&(Or=null),Ir!==null&&Ml(Ir)&&(Ir=null),Nr!==null&&Ml(Nr)&&(Nr=null),qs.forEach(hv),Vs.forEach(hv)}function is(t,e){t.blockedOn===e&&(t.blockedOn=null,$h||($h=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,FO)))}function zs(t){function e(i){return is(i,t)}if(0<ul.length){is(ul[0],t);for(var n=1;n<ul.length;n++){var r=ul[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Or!==null&&is(Or,t),Ir!==null&&is(Ir,t),Nr!==null&&is(Nr,t),qs.forEach(e),Vs.forEach(e),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)Ew(n),n.blockedOn===null&&vr.shift()}var so=ar.ReactCurrentBatchConfig,su=!0;function jO(t,e,n,r){var i=Ae,o=so.transition;so.transition=null;try{Ae=1,Mp(t,e,n,r)}finally{Ae=i,so.transition=o}}function UO(t,e,n,r){var i=Ae,o=so.transition;so.transition=null;try{Ae=4,Mp(t,e,n,r)}finally{Ae=i,so.transition=o}}function Mp(t,e,n,r){if(su){var i=Fh(t,e,n,r);if(i===null)Af(t,e,r,au,n),fv(t,r);else if($O(i,t,e,n,r))r.stopPropagation();else if(fv(t,r),e&4&&-1<MO.indexOf(t)){for(;i!==null;){var o=Ca(i);if(o!==null&&gw(o),o=Fh(t,e,n,r),o===null&&Af(t,e,r,au,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Af(t,e,r,null,n)}}var au=null;function Fh(t,e,n,r){if(au=null,t=Rp(r),t=ri(t),t!==null)if(e=Ci(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return au=t,null}function _w(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IO()){case Pp:return 1;case hw:return 4;case iu:case NO:return 16;case dw:return 536870912;default:return 16}default:return 16}}var Sr=null,$p=null,$l=null;function Sw(){if($l)return $l;var t,e=$p,n=e.length,r,i="value"in Sr?Sr.value:Sr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return $l=i.slice(t,1<r?1-r:void 0)}function Fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cl(){return!0}function dv(){return!1}function tn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cl:dv,this.isPropagationStopped=dv,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fp=tn(Lo),Na=Ge({},Lo,{view:0,detail:0}),BO=tn(Na),_f,Sf,os,lc=Ge({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(_f=t.screenX-os.screenX,Sf=t.screenY-os.screenY):Sf=_f=0,os=t),_f)},movementY:function(t){return"movementY"in t?t.movementY:Sf}}),pv=tn(lc),qO=Ge({},lc,{dataTransfer:0}),VO=tn(qO),zO=Ge({},Na,{relatedTarget:0}),Tf=tn(zO),HO=Ge({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),KO=tn(HO),WO=Ge({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GO=tn(WO),QO=Ge({},Lo,{data:0}),mv=tn(QO),YO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JO[t])?!!e[t]:!1}function jp(){return ZO}var eI=Ge({},Na,{key:function(t){if(t.key){var e=YO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jp,charCode:function(t){return t.type==="keypress"?Fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tI=tn(eI),nI=Ge({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gv=tn(nI),rI=Ge({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jp}),iI=tn(rI),oI=Ge({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),sI=tn(oI),aI=Ge({},lc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lI=tn(aI),uI=[9,13,27,32],Up=Xn&&"CompositionEvent"in window,Is=null;Xn&&"documentMode"in document&&(Is=document.documentMode);var cI=Xn&&"TextEvent"in window&&!Is,Tw=Xn&&(!Up||Is&&8<Is&&11>=Is),vv=String.fromCharCode(32),yv=!1;function bw(t,e){switch(t){case"keyup":return uI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function fI(t,e){switch(t){case"compositionend":return kw(e);case"keypress":return e.which!==32?null:(yv=!0,vv);case"textInput":return t=e.data,t===vv&&yv?null:t;default:return null}}function hI(t,e){if(zi)return t==="compositionend"||!Up&&bw(t,e)?(t=Sw(),$l=$p=Sr=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tw&&e.locale!=="ko"?null:e.data;default:return null}}var dI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dI[t.type]:e==="textarea"}function Ow(t,e,n,r){rw(r),e=lu(e,"onChange"),0<e.length&&(n=new Fp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ns=null,Hs=null;function pI(t){$w(t,0)}function uc(t){var e=Wi(t);if(Y1(e))return t}function mI(t,e){if(t==="change")return e}var Iw=!1;if(Xn){var bf;if(Xn){var kf="oninput"in document;if(!kf){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),kf=typeof Ev.oninput=="function"}bf=kf}else bf=!1;Iw=bf&&(!document.documentMode||9<document.documentMode)}function _v(){Ns&&(Ns.detachEvent("onpropertychange",Nw),Hs=Ns=null)}function Nw(t){if(t.propertyName==="value"&&uc(Hs)){var e=[];Ow(e,Hs,t,Rp(t)),aw(pI,e)}}function gI(t,e,n){t==="focusin"?(_v(),Ns=e,Hs=n,Ns.attachEvent("onpropertychange",Nw)):t==="focusout"&&_v()}function vI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uc(Hs)}function yI(t,e){if(t==="click")return uc(e)}function wI(t,e){if(t==="input"||t==="change")return uc(e)}function EI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:EI;function Ks(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eh.call(e,i)||!En(t[i],e[i]))return!1}return!0}function Sv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tv(t,e){var n=Sv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sv(n)}}function Cw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Aw(){for(var t=window,e=tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tu(t.document)}return e}function Bp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _I(t){var e=Aw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cw(n.ownerDocument.documentElement,n)){if(r!==null&&Bp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Tv(n,o);var s=Tv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SI=Xn&&"documentMode"in document&&11>=document.documentMode,Hi=null,jh=null,Cs=null,Uh=!1;function bv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uh||Hi==null||Hi!==tu(r)||(r=Hi,"selectionStart"in r&&Bp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&Ks(Cs,r)||(Cs=r,r=lu(jh,"onSelect"),0<r.length&&(e=new Fp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hi)))}function fl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ki={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},Of={},xw={};Xn&&(xw=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function cc(t){if(Of[t])return Of[t];if(!Ki[t])return t;var e=Ki[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xw)return Of[t]=e[n];return t}var Rw=cc("animationend"),Pw=cc("animationiteration"),Dw=cc("animationstart"),Lw=cc("transitionend"),Mw=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,e){Mw.set(t,e),Ni(e,[t])}for(var If=0;If<kv.length;If++){var Nf=kv[If],TI=Nf.toLowerCase(),bI=Nf[0].toUpperCase()+Nf.slice(1);zr(TI,"on"+bI)}zr(Rw,"onAnimationEnd");zr(Pw,"onAnimationIteration");zr(Dw,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(Lw,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function Ov(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TO(r,e,void 0,t),t.currentTarget=null}function $w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Ov(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Ov(i,a,u),o=l}}}if(ru)throw t=Lh,ru=!1,Lh=null,t}function $e(t,e){var n=e[Hh];n===void 0&&(n=e[Hh]=new Set);var r=t+"__bubble";n.has(r)||(Fw(e,t,2,!1),n.add(r))}function Cf(t,e,n){var r=0;e&&(r|=4),Fw(n,t,r,e)}var hl="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[hl]){t[hl]=!0,H1.forEach(function(n){n!=="selectionchange"&&(kI.has(n)||Cf(n,!1,t),Cf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hl]||(e[hl]=!0,Cf("selectionchange",!1,e))}}function Fw(t,e,n,r){switch(_w(e)){case 1:var i=jO;break;case 4:i=UO;break;default:i=Mp}n=i.bind(null,e,n,t),i=void 0,!Dh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Af(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ri(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}aw(function(){var u=o,c=Rp(n),h=[];e:{var f=Mw.get(t);if(f!==void 0){var d=Fp,y=t;switch(t){case"keypress":if(Fl(n)===0)break e;case"keydown":case"keyup":d=tI;break;case"focusin":y="focus",d=Tf;break;case"focusout":y="blur",d=Tf;break;case"beforeblur":case"afterblur":d=Tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=pv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=VO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=iI;break;case Rw:case Pw:case Dw:d=KO;break;case Lw:d=sI;break;case"scroll":d=BO;break;case"wheel":d=lI;break;case"copy":case"cut":case"paste":d=GO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=gv}var v=(e&4)!==0,E=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,w;p!==null;){w=p;var g=w.stateNode;if(w.tag===5&&g!==null&&(w=g,m!==null&&(g=Bs(p,m),g!=null&&v.push(Gs(p,g,w)))),E)break;p=p.return}0<v.length&&(f=new d(f,y,null,n,c),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==Rh&&(y=n.relatedTarget||n.fromElement)&&(ri(y)||y[Jn]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(y=n.relatedTarget||n.toElement,d=u,y=y?ri(y):null,y!==null&&(E=Ci(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=u),d!==y)){if(v=pv,g="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=gv,g="onPointerLeave",m="onPointerEnter",p="pointer"),E=d==null?f:Wi(d),w=y==null?f:Wi(y),f=new v(g,p+"leave",d,n,c),f.target=E,f.relatedTarget=w,g=null,ri(c)===u&&(v=new v(m,p+"enter",y,n,c),v.target=w,v.relatedTarget=E,g=v),E=g,d&&y)t:{for(v=d,m=y,p=0,w=v;w;w=Li(w))p++;for(w=0,g=m;g;g=Li(g))w++;for(;0<p-w;)v=Li(v),p--;for(;0<w-p;)m=Li(m),w--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=Li(v),m=Li(m)}v=null}else v=null;d!==null&&Iv(h,f,d,v,!1),y!==null&&E!==null&&Iv(h,E,y,v,!0)}}e:{if(f=u?Wi(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var _=mI;else if(wv(f))if(Iw)_=wI;else{_=vI;var O=gI}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=yI);if(_&&(_=_(t,u))){Ow(h,_,n,c);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Ih(f,"number",f.value)}switch(O=u?Wi(u):window,t){case"focusin":(wv(O)||O.contentEditable==="true")&&(Hi=O,jh=u,Cs=null);break;case"focusout":Cs=jh=Hi=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,bv(h,n,c);break;case"selectionchange":if(SI)break;case"keydown":case"keyup":bv(h,n,c)}var S;if(Up)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zi?bw(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Tw&&n.locale!=="ko"&&(zi||b!=="onCompositionStart"?b==="onCompositionEnd"&&zi&&(S=Sw()):(Sr=c,$p="value"in Sr?Sr.value:Sr.textContent,zi=!0)),O=lu(u,b),0<O.length&&(b=new mv(b,t,null,n,c),h.push({event:b,listeners:O}),S?b.data=S:(S=kw(n),S!==null&&(b.data=S)))),(S=cI?fI(t,n):hI(t,n))&&(u=lu(u,"onBeforeInput"),0<u.length&&(c=new mv("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}$w(h,e)})}function Gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bs(t,n),o!=null&&r.unshift(Gs(t,o,i)),o=Bs(t,e),o!=null&&r.push(Gs(t,o,i))),t=t.return}return r}function Li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Bs(n,o),l!=null&&s.unshift(Gs(n,l,a))):i||(l=Bs(n,o),l!=null&&s.push(Gs(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var OI=/\r\n?/g,II=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(OI,`
`).replace(II,"")}function dl(t,e,n){if(e=Nv(e),Nv(t)!==e&&n)throw Error(Z(425))}function uu(){}var Bh=null,qh=null;function Vh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,NI=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,CI=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(t){return Cv.resolve(null).then(t).catch(AI)}:zh;function AI(t){setTimeout(function(){throw t})}function xf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zs(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Av(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),On="__reactFiber$"+Mo,Qs="__reactProps$"+Mo,Jn="__reactContainer$"+Mo,Hh="__reactEvents$"+Mo,xI="__reactListeners$"+Mo,RI="__reactHandles$"+Mo;function ri(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jn]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Av(t);t!==null;){if(n=t[On])return n;t=Av(t)}return e}t=n,n=t.parentNode}return null}function Ca(t){return t=t[On]||t[Jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function fc(t){return t[Qs]||null}var Kh=[],Gi=-1;function Hr(t){return{current:t}}function Ue(t){0>Gi||(t.current=Kh[Gi],Kh[Gi]=null,Gi--)}function Le(t,e){Gi++,Kh[Gi]=t.current,t.current=e}var Ur={},xt=Hr(Ur),Vt=Hr(!1),mi=Ur;function yo(t,e){var n=t.type.contextTypes;if(!n)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function cu(){Ue(Vt),Ue(xt)}function xv(t,e,n){if(xt.current!==Ur)throw Error(Z(168));Le(xt,e),Le(Vt,n)}function jw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,gO(t)||"Unknown",i));return Ge({},n,r)}function fu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,mi=xt.current,Le(xt,t),Le(Vt,Vt.current),!0}function Rv(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=jw(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,Ue(Vt),Ue(xt),Le(xt,t)):Ue(Vt),Le(Vt,n)}var jn=null,hc=!1,Rf=!1;function Uw(t){jn===null?jn=[t]:jn.push(t)}function PI(t){hc=!0,Uw(t)}function Kr(){if(!Rf&&jn!==null){Rf=!0;var t=0,e=Ae;try{var n=jn;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jn=null,hc=!1}catch(i){throw jn!==null&&(jn=jn.slice(t+1)),fw(Pp,Kr),i}finally{Ae=e,Rf=!1}}return null}var Qi=[],Yi=0,hu=null,du=0,nn=[],rn=0,gi=null,qn=1,Vn="";function Xr(t,e){Qi[Yi++]=du,Qi[Yi++]=hu,hu=t,du=e}function Bw(t,e,n){nn[rn++]=qn,nn[rn++]=Vn,nn[rn++]=gi,gi=t;var r=qn;t=Vn;var i=32-yn(r)-1;r&=~(1<<i),n+=1;var o=32-yn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qn=1<<32-yn(e)+i|n<<i|r,Vn=o+t}else qn=1<<o|n<<i|r,Vn=t}function qp(t){t.return!==null&&(Xr(t,1),Bw(t,1,0))}function Vp(t){for(;t===hu;)hu=Qi[--Yi],Qi[Yi]=null,du=Qi[--Yi],Qi[Yi]=null;for(;t===gi;)gi=nn[--rn],nn[rn]=null,Vn=nn[--rn],nn[rn]=null,qn=nn[--rn],nn[rn]=null}var Yt=null,Qt=null,Ve=!1,mn=null;function qw(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Pv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:qn,overflow:Vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Qt=null,!0):!1;default:return!1}}function Wh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gh(t){if(Ve){var e=Qt;if(e){var n=e;if(!Pv(t,e)){if(Wh(t))throw Error(Z(418));e=Cr(n.nextSibling);var r=Yt;e&&Pv(t,e)?qw(r,n):(t.flags=t.flags&-4097|2,Ve=!1,Yt=t)}}else{if(Wh(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Ve=!1,Yt=t}}}function Dv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function pl(t){if(t!==Yt)return!1;if(!Ve)return Dv(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vh(t.type,t.memoizedProps)),e&&(e=Qt)){if(Wh(t))throw Vw(),Error(Z(418));for(;e;)qw(t,e),e=Cr(e.nextSibling)}if(Dv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Yt?Cr(t.stateNode.nextSibling):null;return!0}function Vw(){for(var t=Qt;t;)t=Cr(t.nextSibling)}function wo(){Qt=Yt=null,Ve=!1}function zp(t){mn===null?mn=[t]:mn.push(t)}var DI=ar.ReactCurrentBatchConfig;function dn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pu=Hr(null),mu=null,Xi=null,Hp=null;function Kp(){Hp=Xi=mu=null}function Wp(t){var e=pu.current;Ue(pu),t._currentValue=e}function Qh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){mu=t,Hp=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Hp!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(mu===null)throw Error(Z(308));Xi=t,mu.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var ii=null;function Gp(t){ii===null?ii=[t]:ii.push(t)}function zw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zn(t,r)}function Zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mr=!1;function Qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zn(t,n)}return i=r.interleaved,i===null?(e.next=e,Gp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zn(t,n)}function jl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dp(t,n)}}function Lv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gu(t,e,n,r){var i=t.updateQueue;mr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(f=e,d=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(d,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(d,h,f):y,f==null)break e;h=Ge({},h,f);break e;case 2:mr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);yi|=s,t.lanes=s,t.memoizedState=h}}function Mv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var Kw=new z1.Component().refs;function Yh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dc={isMounted:function(t){return(t=t._reactInternals)?Ci(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Rr(t),o=Gn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ar(t,o,i),e!==null&&(wn(e,t,i,r),jl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=Rr(t),o=Gn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ar(t,o,i),e!==null&&(wn(e,t,i,r),jl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Rr(t),i=Gn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ar(t,i,r),e!==null&&(wn(e,t,r,n),jl(e,t,r))}};function $v(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ks(n,r)||!Ks(i,o):!0}function Ww(t,e,n){var r=!1,i=Ur,o=e.contextType;return typeof o=="object"&&o!==null?o=un(o):(i=zt(e)?mi:xt.current,r=e.contextTypes,o=(r=r!=null)?yo(t,i):Ur),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Fv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dc.enqueueReplaceState(e,e.state,null)}function Xh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Kw,Qp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=un(o):(o=zt(e)?mi:xt.current,i.context=yo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Yh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dc.enqueueReplaceState(i,i.state,null),gu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ss(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===Kw&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function ml(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jv(t){var e=t._init;return e(t._payload)}function Gw(t){function e(m,p){if(t){var w=m.deletions;w===null?(m.deletions=[p],m.flags|=16):w.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Pr(m,p),m.index=0,m.sibling=null,m}function o(m,p,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<p?(m.flags|=2,p):w):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,w,g){return p===null||p.tag!==6?(p=jf(w,m.mode,g),p.return=m,p):(p=i(p,w),p.return=m,p)}function l(m,p,w,g){var _=w.type;return _===Vi?c(m,p,w.props.children,g,w.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pr&&jv(_)===p.type)?(g=i(p,w.props),g.ref=ss(m,p,w),g.return=m,g):(g=Hl(w.type,w.key,w.props,null,m.mode,g),g.ref=ss(m,p,w),g.return=m,g)}function u(m,p,w,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Uf(w,m.mode,g),p.return=m,p):(p=i(p,w.children||[]),p.return=m,p)}function c(m,p,w,g,_){return p===null||p.tag!==7?(p=fi(w,m.mode,g,_),p.return=m,p):(p=i(p,w),p.return=m,p)}function h(m,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=jf(""+p,m.mode,w),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case il:return w=Hl(p.type,p.key,p.props,null,m.mode,w),w.ref=ss(m,null,p),w.return=m,w;case qi:return p=Uf(p,m.mode,w),p.return=m,p;case pr:var g=p._init;return h(m,g(p._payload),w)}if(gs(p)||ts(p))return p=fi(p,m.mode,w,null),p.return=m,p;ml(m,p)}return null}function f(m,p,w,g){var _=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(m,p,""+w,g);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case il:return w.key===_?l(m,p,w,g):null;case qi:return w.key===_?u(m,p,w,g):null;case pr:return _=w._init,f(m,p,_(w._payload),g)}if(gs(w)||ts(w))return _!==null?null:c(m,p,w,g,null);ml(m,w)}return null}function d(m,p,w,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(w)||null,a(p,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case il:return m=m.get(g.key===null?w:g.key)||null,l(p,m,g,_);case qi:return m=m.get(g.key===null?w:g.key)||null,u(p,m,g,_);case pr:var O=g._init;return d(m,p,w,O(g._payload),_)}if(gs(g)||ts(g))return m=m.get(w)||null,c(p,m,g,_,null);ml(p,g)}return null}function y(m,p,w,g){for(var _=null,O=null,S=p,b=p=0,A=null;S!==null&&b<w.length;b++){S.index>b?(A=S,S=null):A=S.sibling;var k=f(m,S,w[b],g);if(k===null){S===null&&(S=A);break}t&&S&&k.alternate===null&&e(m,S),p=o(k,p,b),O===null?_=k:O.sibling=k,O=k,S=A}if(b===w.length)return n(m,S),Ve&&Xr(m,b),_;if(S===null){for(;b<w.length;b++)S=h(m,w[b],g),S!==null&&(p=o(S,p,b),O===null?_=S:O.sibling=S,O=S);return Ve&&Xr(m,b),_}for(S=r(m,S);b<w.length;b++)A=d(S,m,b,w[b],g),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?b:A.key),p=o(A,p,b),O===null?_=A:O.sibling=A,O=A);return t&&S.forEach(function(T){return e(m,T)}),Ve&&Xr(m,b),_}function v(m,p,w,g){var _=ts(w);if(typeof _!="function")throw Error(Z(150));if(w=_.call(w),w==null)throw Error(Z(151));for(var O=_=null,S=p,b=p=0,A=null,k=w.next();S!==null&&!k.done;b++,k=w.next()){S.index>b?(A=S,S=null):A=S.sibling;var T=f(m,S,k.value,g);if(T===null){S===null&&(S=A);break}t&&S&&T.alternate===null&&e(m,S),p=o(T,p,b),O===null?_=T:O.sibling=T,O=T,S=A}if(k.done)return n(m,S),Ve&&Xr(m,b),_;if(S===null){for(;!k.done;b++,k=w.next())k=h(m,k.value,g),k!==null&&(p=o(k,p,b),O===null?_=k:O.sibling=k,O=k);return Ve&&Xr(m,b),_}for(S=r(m,S);!k.done;b++,k=w.next())k=d(S,m,b,k.value,g),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?b:k.key),p=o(k,p,b),O===null?_=k:O.sibling=k,O=k);return t&&S.forEach(function(I){return e(m,I)}),Ve&&Xr(m,b),_}function E(m,p,w,g){if(typeof w=="object"&&w!==null&&w.type===Vi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case il:e:{for(var _=w.key,O=p;O!==null;){if(O.key===_){if(_=w.type,_===Vi){if(O.tag===7){n(m,O.sibling),p=i(O,w.props.children),p.return=m,m=p;break e}}else if(O.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pr&&jv(_)===O.type){n(m,O.sibling),p=i(O,w.props),p.ref=ss(m,O,w),p.return=m,m=p;break e}n(m,O);break}else e(m,O);O=O.sibling}w.type===Vi?(p=fi(w.props.children,m.mode,g,w.key),p.return=m,m=p):(g=Hl(w.type,w.key,w.props,null,m.mode,g),g.ref=ss(m,p,w),g.return=m,m=g)}return s(m);case qi:e:{for(O=w.key;p!==null;){if(p.key===O)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(m,p.sibling),p=i(p,w.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Uf(w,m.mode,g),p.return=m,m=p}return s(m);case pr:return O=w._init,E(m,p,O(w._payload),g)}if(gs(w))return y(m,p,w,g);if(ts(w))return v(m,p,w,g);ml(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,w),p.return=m,m=p):(n(m,p),p=jf(w,m.mode,g),p.return=m,m=p),s(m)):n(m,p)}return E}var Eo=Gw(!0),Qw=Gw(!1),Aa={},An=Hr(Aa),Ys=Hr(Aa),Xs=Hr(Aa);function oi(t){if(t===Aa)throw Error(Z(174));return t}function Yp(t,e){switch(Le(Xs,e),Le(Ys,t),Le(An,Aa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ch(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ch(e,t)}Ue(An),Le(An,e)}function _o(){Ue(An),Ue(Ys),Ue(Xs)}function Yw(t){oi(Xs.current);var e=oi(An.current),n=Ch(e,t.type);e!==n&&(Le(Ys,t),Le(An,n))}function Xp(t){Ys.current===t&&(Ue(An),Ue(Ys))}var Ke=Hr(0);function vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pf=[];function Jp(){for(var t=0;t<Pf.length;t++)Pf[t]._workInProgressVersionPrimary=null;Pf.length=0}var Ul=ar.ReactCurrentDispatcher,Df=ar.ReactCurrentBatchConfig,vi=0,We=null,ot=null,ct=null,yu=!1,As=!1,Js=0,LI=0;function Et(){throw Error(Z(321))}function Zp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function em(t,e,n,r,i,o){if(vi=o,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ul.current=t===null||t.memoizedState===null?jI:UI,t=n(r,i),As){o=0;do{if(As=!1,Js=0,25<=o)throw Error(Z(301));o+=1,ct=ot=null,e.updateQueue=null,Ul.current=BI,t=n(r,i)}while(As)}if(Ul.current=wu,e=ot!==null&&ot.next!==null,vi=0,ct=ot=We=null,yu=!1,e)throw Error(Z(300));return t}function tm(){var t=Js!==0;return Js=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?We.memoizedState=ct=t:ct=ct.next=t,ct}function cn(){if(ot===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=ct===null?We.memoizedState:ct.next;if(e!==null)ct=e,ot=t;else{if(t===null)throw Error(Z(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ct===null?We.memoizedState=ct=t:ct=ct.next=t}return ct}function Zs(t,e){return typeof e=="function"?e(t):e}function Lf(t){var e=cn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((vi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,We.lanes|=c,yi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,En(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,We.lanes|=o,yi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mf(t){var e=cn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);En(o,e.memoizedState)||(qt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Xw(){}function Jw(t,e){var n=We,r=cn(),i=e(),o=!En(r.memoizedState,i);if(o&&(r.memoizedState=i,qt=!0),r=r.queue,nm(tE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,ea(9,eE.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(Z(349));vi&30||Zw(n,e,i)}return i}function Zw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eE(t,e,n,r){e.value=n,e.getSnapshot=r,nE(e)&&rE(t)}function tE(t,e,n){return n(function(){nE(e)&&rE(t)})}function nE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function rE(t){var e=Zn(t,1);e!==null&&wn(e,t,1,-1)}function Uv(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:t},e.queue=t,t=t.dispatch=FI.bind(null,We,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iE(){return cn().memoizedState}function Bl(t,e,n,r){var i=kn();We.flags|=t,i.memoizedState=ea(1|e,n,void 0,r===void 0?null:r)}function pc(t,e,n,r){var i=cn();r=r===void 0?null:r;var o=void 0;if(ot!==null){var s=ot.memoizedState;if(o=s.destroy,r!==null&&Zp(r,s.deps)){i.memoizedState=ea(e,n,o,r);return}}We.flags|=t,i.memoizedState=ea(1|e,n,o,r)}function Bv(t,e){return Bl(8390656,8,t,e)}function nm(t,e){return pc(2048,8,t,e)}function oE(t,e){return pc(4,2,t,e)}function sE(t,e){return pc(4,4,t,e)}function aE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lE(t,e,n){return n=n!=null?n.concat([t]):null,pc(4,4,aE.bind(null,e,t),n)}function rm(){}function uE(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cE(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fE(t,e,n){return vi&21?(En(n,e)||(n=pw(),We.lanes|=n,yi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function MI(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Df.transition;Df.transition={};try{t(!1),e()}finally{Ae=n,Df.transition=r}}function hE(){return cn().memoizedState}function $I(t,e,n){var r=Rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dE(t))pE(e,n);else if(n=zw(t,e,n,r),n!==null){var i=Mt();wn(n,t,r,i),mE(n,e,r)}}function FI(t,e,n){var r=Rr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dE(t))pE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,En(a,s)){var l=e.interleaved;l===null?(i.next=i,Gp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zw(t,e,i,r),n!==null&&(i=Mt(),wn(n,t,r,i),mE(n,e,r))}}function dE(t){var e=t.alternate;return t===We||e!==null&&e===We}function pE(t,e){As=yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dp(t,n)}}var wu={readContext:un,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},jI={readContext:un,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:Bv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bl(4194308,4,aE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bl(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$I.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:Uv,useDebugValue:rm,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=Uv(!1),e=t[0];return t=MI.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=kn();if(Ve){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),ft===null)throw Error(Z(349));vi&30||Zw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Bv(tE.bind(null,r,o,t),[t]),r.flags|=2048,ea(9,eE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=kn(),e=ft.identifierPrefix;if(Ve){var n=Vn,r=qn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Js++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UI={readContext:un,useCallback:uE,useContext:un,useEffect:nm,useImperativeHandle:lE,useInsertionEffect:oE,useLayoutEffect:sE,useMemo:cE,useReducer:Lf,useRef:iE,useState:function(){return Lf(Zs)},useDebugValue:rm,useDeferredValue:function(t){var e=cn();return fE(e,ot.memoizedState,t)},useTransition:function(){var t=Lf(Zs)[0],e=cn().memoizedState;return[t,e]},useMutableSource:Xw,useSyncExternalStore:Jw,useId:hE,unstable_isNewReconciler:!1},BI={readContext:un,useCallback:uE,useContext:un,useEffect:nm,useImperativeHandle:lE,useInsertionEffect:oE,useLayoutEffect:sE,useMemo:cE,useReducer:Mf,useRef:iE,useState:function(){return Mf(Zs)},useDebugValue:rm,useDeferredValue:function(t){var e=cn();return ot===null?e.memoizedState=t:fE(e,ot.memoizedState,t)},useTransition:function(){var t=Mf(Zs)[0],e=cn().memoizedState;return[t,e]},useMutableSource:Xw,useSyncExternalStore:Jw,useId:hE,unstable_isNewReconciler:!1};function So(t,e){try{var n="",r=e;do n+=mO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qI=typeof WeakMap=="function"?WeakMap:Map;function gE(t,e,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_u||(_u=!0,ld=r),Jh(t,e)},n}function vE(t,e,n){n=Gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jh(t,e),typeof r!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function qv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nN.bind(null,t,e,n),e.then(t,t))}function Vv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gn(-1,1),e.tag=2,Ar(n,e,1))),n.lanes|=1),t)}var VI=ar.ReactCurrentOwner,qt=!1;function Dt(t,e,n,r){e.child=t===null?Qw(e,null,n,r):Eo(e,t.child,n,r)}function Hv(t,e,n,r,i){n=n.render;var o=e.ref;return ao(e,i),r=em(t,e,n,r,o,i),n=tm(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,er(t,e,i)):(Ve&&n&&qp(e),e.flags|=1,Dt(t,e,r,i),e.child)}function Kv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!fm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,yE(t,e,o,r,i)):(t=Hl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ks,n(s,r)&&t.ref===e.ref)return er(t,e,i)}return e.flags|=1,t=Pr(o,r),t.ref=e.ref,t.return=e,e.child=t}function yE(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ks(o,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,er(t,e,i)}return Zh(t,e,n,r,i)}function wE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Zi,Wt),Wt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Zi,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(Zi,Wt),Wt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Le(Zi,Wt),Wt|=r;return Dt(t,e,i,n),e.child}function EE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zh(t,e,n,r,i){var o=zt(n)?mi:xt.current;return o=yo(e,o),ao(e,i),n=em(t,e,n,r,o,i),r=tm(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,er(t,e,i)):(Ve&&r&&qp(e),e.flags|=1,Dt(t,e,n,i),e.child)}function Wv(t,e,n,r,i){if(zt(n)){var o=!0;fu(e)}else o=!1;if(ao(e,i),e.stateNode===null)ql(t,e),Ww(e,n,r),Xh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=un(u):(u=zt(n)?mi:xt.current,u=yo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Fv(e,s,r,u),mr=!1;var f=e.memoizedState;s.state=f,gu(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Vt.current||mr?(typeof c=="function"&&(Yh(e,n,c,r),l=e.memoizedState),(a=mr||$v(e,n,a,r,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Hw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dn(e.type,a),s.props=u,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=zt(n)?mi:xt.current,l=yo(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Fv(e,s,r,l),mr=!1,f=e.memoizedState,s.state=f,gu(e,r,s,i);var y=e.memoizedState;a!==h||f!==y||Vt.current||mr?(typeof d=="function"&&(Yh(e,n,d,r),y=e.memoizedState),(u=mr||$v(e,n,u,r,f,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ed(t,e,n,r,o,i)}function ed(t,e,n,r,i,o){EE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Rv(e,n,!1),er(t,e,o);r=e.stateNode,VI.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Eo(e,t.child,null,o),e.child=Eo(e,null,a,o)):Dt(t,e,a,o),e.memoizedState=r.state,i&&Rv(e,n,!0),e.child}function _E(t){var e=t.stateNode;e.pendingContext?xv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xv(t,e.context,!1),Yp(t,e.containerInfo)}function Gv(t,e,n,r,i){return wo(),zp(i),e.flags|=256,Dt(t,e,n,r),e.child}var td={dehydrated:null,treeContext:null,retryLane:0};function nd(t){return{baseLanes:t,cachePool:null,transitions:null}}function SE(t,e,n){var r=e.pendingProps,i=Ke.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(Ke,i&1),t===null)return Gh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=vc(s,r,0,null),t=fi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=nd(n),e.memoizedState=td,t):im(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zI(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Pr(a,o):(o=fi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?nd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=td,r}return o=t.child,t=o.sibling,r=Pr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function im(t,e){return e=vc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gl(t,e,n,r){return r!==null&&zp(r),Eo(e,t.child,null,n),t=im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zI(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=$f(Error(Z(422))),gl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=vc({mode:"visible",children:r.children},i,0,null),o=fi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Eo(e,t.child,null,s),e.child.memoizedState=nd(s),e.memoizedState=td,o);if(!(e.mode&1))return gl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Z(419)),r=$f(o,r,void 0),gl(t,e,s,r)}if(a=(s&t.childLanes)!==0,qt||a){if(r=ft,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zn(t,i),wn(r,t,i,-1))}return cm(),r=$f(Error(Z(421))),gl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Qt=Cr(i.nextSibling),Yt=e,Ve=!0,mn=null,t!==null&&(nn[rn++]=qn,nn[rn++]=Vn,nn[rn++]=gi,qn=t.id,Vn=t.overflow,gi=e),e=im(e,r.children),e.flags|=4096,e)}function Qv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qh(t.return,e,n)}function Ff(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function TE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Dt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qv(t,n,e);else if(t.tag===19)Qv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ff(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ff(e,!0,n,null,o);break;case"together":Ff(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ql(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HI(t,e,n){switch(e.tag){case 3:_E(e),wo();break;case 5:Yw(e);break;case 1:zt(e.type)&&fu(e);break;case 4:Yp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(pu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?SE(t,e,n):(Le(Ke,Ke.current&1),t=er(t,e,n),t!==null?t.sibling:null);Le(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,wE(t,e,n)}return er(t,e,n)}var bE,rd,kE,OE;bE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rd=function(){};kE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,oi(An.current);var o=null;switch(n){case"input":i=kh(t,i),r=kh(t,r),o=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),o=[];break;case"textarea":i=Nh(t,i),r=Nh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uu)}Ah(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(js.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(js.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&$e("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};OE=function(t,e,n,r){n!==r&&(e.flags|=4)};function as(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KI(t,e,n){var r=e.pendingProps;switch(Vp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return zt(e.type)&&cu(),_t(e),null;case 3:return r=e.stateNode,_o(),Ue(Vt),Ue(xt),Jp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mn!==null&&(fd(mn),mn=null))),rd(t,e),_t(e),null;case 5:Xp(e);var i=oi(Xs.current);if(n=e.type,t!==null&&e.stateNode!=null)kE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return _t(e),null}if(t=oi(An.current),pl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[On]=e,r[Qs]=o,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<ys.length;i++)$e(ys[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":iv(r,o),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$e("invalid",r);break;case"textarea":sv(r,o),$e("invalid",r)}Ah(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,a,t),i=["children",""+a]):js.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&$e("scroll",r)}switch(n){case"input":ol(r),ov(r,o,!0);break;case"textarea":ol(r),av(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=uu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Z1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[On]=e,t[Qs]=r,bE(t,e,!1,!1),e.stateNode=t;e:{switch(s=xh(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<ys.length;i++)$e(ys[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":iv(t,r),i=kh(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),$e("invalid",t);break;case"textarea":sv(t,r),i=Nh(t,r),$e("invalid",t);break;default:i=r}Ah(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?nw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ew(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Us(t,l):typeof l=="number"&&Us(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(js.hasOwnProperty(o)?l!=null&&o==="onScroll"&&$e("scroll",t):l!=null&&Np(t,o,l,s))}switch(n){case"input":ol(t),ov(t,r,!1);break;case"textarea":ol(t),av(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ro(t,!!r.multiple,o,!1):r.defaultValue!=null&&ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)OE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=oi(Xs.current),oi(An.current),pl(e)){if(r=e.stateNode,n=e.memoizedProps,r[On]=e,(o=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:dl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=e,e.stateNode=r}return _t(e),null;case 13:if(Ue(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&Qt!==null&&e.mode&1&&!(e.flags&128))Vw(),wo(),e.flags|=98560,o=!1;else if(o=pl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[On]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),o=!1}else mn!==null&&(fd(mn),mn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?st===0&&(st=3):cm())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return _o(),rd(t,e),t===null&&Ws(e.stateNode.containerInfo),_t(e),null;case 10:return Wp(e.type._context),_t(e),null;case 17:return zt(e.type)&&cu(),_t(e),null;case 19:if(Ue(Ke),o=e.memoizedState,o===null)return _t(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)as(o,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=vu(t),s!==null){for(e.flags|=128,as(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ke,Ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ze()>To&&(e.flags|=128,r=!0,as(o,!1),e.lanes=4194304)}else{if(!r)if(t=vu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),as(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ve)return _t(e),null}else 2*Ze()-o.renderingStartTime>To&&n!==1073741824&&(e.flags|=128,r=!0,as(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,n=Ke.current,Le(Ke,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return um(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function WI(t,e){switch(Vp(e),e.tag){case 1:return zt(e.type)&&cu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),Ue(Vt),Ue(xt),Jp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xp(e),null;case 13:if(Ue(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Ke),null;case 4:return _o(),null;case 10:return Wp(e.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var vl=!1,bt=!1,GI=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function id(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var Yv=!1;function QI(t,e){if(Bh=su,t=Aw(),Bp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qh={focusedElem:t,selectionRange:n},su=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,E=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:dn(e.type,v),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(g){Ye(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return y=Yv,Yv=!1,y}function xs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&id(e,n,o)}i=i.next}while(i!==r)}}function mc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function od(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function IE(t){var e=t.alternate;e!==null&&(t.alternate=null,IE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[Qs],delete e[Hh],delete e[xI],delete e[RI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NE(t){return t.tag===5||t.tag===3||t.tag===4}function Xv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uu));else if(r!==4&&(t=t.child,t!==null))for(sd(t,e,n),t=t.sibling;t!==null;)sd(t,e,n),t=t.sibling}function ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ad(t,e,n),t=t.sibling;t!==null;)ad(t,e,n),t=t.sibling}var pt=null,pn=!1;function hr(t,e,n){for(n=n.child;n!==null;)CE(t,e,n),n=n.sibling}function CE(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 5:bt||Ji(n,e);case 6:var r=pt,i=pn;pt=null,hr(t,e,n),pt=r,pn=i,pt!==null&&(pn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(pn?(t=pt,n=n.stateNode,t.nodeType===8?xf(t.parentNode,n):t.nodeType===1&&xf(t,n),zs(t)):xf(pt,n.stateNode));break;case 4:r=pt,i=pn,pt=n.stateNode.containerInfo,pn=!0,hr(t,e,n),pt=r,pn=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&id(n,e,s),i=i.next}while(i!==r)}hr(t,e,n);break;case 1:if(!bt&&(Ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}hr(t,e,n);break;case 21:hr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,hr(t,e,n),bt=r):hr(t,e,n);break;default:hr(t,e,n)}}function Jv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GI),e.forEach(function(r){var i=iN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,pn=!1;break e;case 3:pt=a.stateNode.containerInfo,pn=!0;break e;case 4:pt=a.stateNode.containerInfo,pn=!0;break e}a=a.return}if(pt===null)throw Error(Z(160));CE(o,s,i),pt=null,pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AE(e,t),e=e.sibling}function AE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),Tn(t),r&4){try{xs(3,t,t.return),mc(3,t)}catch(v){Ye(t,t.return,v)}try{xs(5,t,t.return)}catch(v){Ye(t,t.return,v)}}break;case 1:hn(e,t),Tn(t),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(hn(e,t),Tn(t),r&512&&n!==null&&Ji(n,n.return),t.flags&32){var i=t.stateNode;try{Us(i,"")}catch(v){Ye(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&X1(i,o),xh(a,s);var u=xh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?nw(i,h):c==="dangerouslySetInnerHTML"?ew(i,h):c==="children"?Us(i,h):Np(i,c,h,u)}switch(a){case"input":Oh(i,o);break;case"textarea":J1(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?ro(i,!!o.multiple,d,!1):f!==!!o.multiple&&(o.defaultValue!=null?ro(i,!!o.multiple,o.defaultValue,!0):ro(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qs]=o}catch(v){Ye(t,t.return,v)}}break;case 6:if(hn(e,t),Tn(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Ye(t,t.return,v)}}break;case 3:if(hn(e,t),Tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(e.containerInfo)}catch(v){Ye(t,t.return,v)}break;case 4:hn(e,t),Tn(t);break;case 13:hn(e,t),Tn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(am=Ze())),r&4&&Jv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||c,hn(e,t),bt=u):hn(e,t),Tn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(h=se=c;se!==null;){switch(f=se,d=f.child,f.tag){case 0:case 11:case 14:case 15:xs(4,f,f.return);break;case 1:Ji(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Ye(r,n,v)}}break;case 5:Ji(f,f.return);break;case 22:if(f.memoizedState!==null){ey(h);continue}}d!==null?(d.return=f,se=d):ey(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tw("display",s))}catch(v){Ye(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ye(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hn(e,t),Tn(t),r&4&&Jv(t);break;case 21:break;default:hn(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NE(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Us(i,""),r.flags&=-33);var o=Xv(t);ad(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Xv(t);sd(t,a,s);break;default:throw Error(Z(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YI(t,e,n){se=t,xE(t)}function xE(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||vl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=vl;var u=bt;if(vl=s,(bt=l)&&!u)for(se=i;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?ty(i):l!==null?(l.return=s,se=l):ty(i);for(;o!==null;)se=o,xE(o),o=o.sibling;se=i,vl=a,bt=u}Zv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):Zv(t)}}function Zv(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||mc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Mv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&zs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}bt||e.flags&512&&od(e)}catch(f){Ye(e,e.return,f)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function ey(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function ty(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mc(4,e)}catch(l){Ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ye(e,i,l)}}var o=e.return;try{od(e)}catch(l){Ye(e,o,l)}break;case 5:var s=e.return;try{od(e)}catch(l){Ye(e,s,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var XI=Math.ceil,Eu=ar.ReactCurrentDispatcher,om=ar.ReactCurrentOwner,ln=ar.ReactCurrentBatchConfig,Ie=0,ft=null,nt=null,vt=0,Wt=0,Zi=Hr(0),st=0,ta=null,yi=0,gc=0,sm=0,Rs=null,Ut=null,am=0,To=1/0,Fn=null,_u=!1,ld=null,xr=null,yl=!1,Tr=null,Su=0,Ps=0,ud=null,Vl=-1,zl=0;function Mt(){return Ie&6?Ze():Vl!==-1?Vl:Vl=Ze()}function Rr(t){return t.mode&1?Ie&2&&vt!==0?vt&-vt:DI.transition!==null?(zl===0&&(zl=pw()),zl):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:_w(t.type)),t):1}function wn(t,e,n,r){if(50<Ps)throw Ps=0,ud=null,Error(Z(185));Ia(t,n,r),(!(Ie&2)||t!==ft)&&(t===ft&&(!(Ie&2)&&(gc|=n),st===4&&yr(t,vt)),Ht(t,r),n===1&&Ie===0&&!(e.mode&1)&&(To=Ze()+500,hc&&Kr()))}function Ht(t,e){var n=t.callbackNode;DO(t,e);var r=ou(t,t===ft?vt:0);if(r===0)n!==null&&cv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cv(n),e===1)t.tag===0?PI(ny.bind(null,t)):Uw(ny.bind(null,t)),CI(function(){!(Ie&6)&&Kr()}),n=null;else{switch(mw(r)){case 1:n=Pp;break;case 4:n=hw;break;case 16:n=iu;break;case 536870912:n=dw;break;default:n=iu}n=jE(n,RE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RE(t,e){if(Vl=-1,zl=0,Ie&6)throw Error(Z(327));var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var r=ou(t,t===ft?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tu(t,r);else{e=r;var i=Ie;Ie|=2;var o=DE();(ft!==t||vt!==e)&&(Fn=null,To=Ze()+500,ci(t,e));do try{eN();break}catch(a){PE(t,a)}while(1);Kp(),Eu.current=o,Ie=i,nt!==null?e=0:(ft=null,vt=0,e=st)}if(e!==0){if(e===2&&(i=Mh(t),i!==0&&(r=i,e=cd(t,i))),e===1)throw n=ta,ci(t,0),yr(t,r),Ht(t,Ze()),n;if(e===6)yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!JI(i)&&(e=Tu(t,r),e===2&&(o=Mh(t),o!==0&&(r=o,e=cd(t,o))),e===1))throw n=ta,ci(t,0),yr(t,r),Ht(t,Ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Jr(t,Ut,Fn);break;case 3:if(yr(t,r),(r&130023424)===r&&(e=am+500-Ze(),10<e)){if(ou(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zh(Jr.bind(null,t,Ut,Fn),e);break}Jr(t,Ut,Fn);break;case 4:if(yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-yn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XI(r/1960))-r,10<r){t.timeoutHandle=zh(Jr.bind(null,t,Ut,Fn),r);break}Jr(t,Ut,Fn);break;case 5:Jr(t,Ut,Fn);break;default:throw Error(Z(329))}}}return Ht(t,Ze()),t.callbackNode===n?RE.bind(null,t):null}function cd(t,e){var n=Rs;return t.current.memoizedState.isDehydrated&&(ci(t,e).flags|=256),t=Tu(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&fd(e)),t}function fd(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function JI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!En(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yr(t,e){for(e&=~sm,e&=~gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yn(e),r=1<<n;t[n]=-1,e&=~r}}function ny(t){if(Ie&6)throw Error(Z(327));lo();var e=ou(t,0);if(!(e&1))return Ht(t,Ze()),null;var n=Tu(t,e);if(t.tag!==0&&n===2){var r=Mh(t);r!==0&&(e=r,n=cd(t,r))}if(n===1)throw n=ta,ci(t,0),yr(t,e),Ht(t,Ze()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jr(t,Ut,Fn),Ht(t,Ze()),null}function lm(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(To=Ze()+500,hc&&Kr())}}function wi(t){Tr!==null&&Tr.tag===0&&!(Ie&6)&&lo();var e=Ie;Ie|=1;var n=ln.transition,r=Ae;try{if(ln.transition=null,Ae=1,t)return t()}finally{Ae=r,ln.transition=n,Ie=e,!(Ie&6)&&Kr()}}function um(){Wt=Zi.current,Ue(Zi)}function ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NI(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cu();break;case 3:_o(),Ue(Vt),Ue(xt),Jp();break;case 5:Xp(r);break;case 4:_o();break;case 13:Ue(Ke);break;case 19:Ue(Ke);break;case 10:Wp(r.type._context);break;case 22:case 23:um()}n=n.return}if(ft=t,nt=t=Pr(t.current,null),vt=Wt=e,st=0,ta=null,sm=gc=yi=0,Ut=Rs=null,ii!==null){for(e=0;e<ii.length;e++)if(n=ii[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ii=null}return t}function PE(t,e){do{var n=nt;try{if(Kp(),Ul.current=wu,yu){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yu=!1}if(vi=0,ct=ot=We=null,As=!1,Js=0,om.current=null,n===null||n.return===null){st=1,ta=e,nt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Vv(s);if(d!==null){d.flags&=-257,zv(d,s,a,o,e),d.mode&1&&qv(o,u,e),e=d,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){qv(o,u,e),cm();break e}l=Error(Z(426))}}else if(Ve&&a.mode&1){var E=Vv(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),zv(E,s,a,o,e),zp(So(l,a));break e}}o=l=So(l,a),st!==4&&(st=2),Rs===null?Rs=[o]:Rs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=gE(o,l,e);Lv(o,m);break e;case 1:a=l;var p=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xr===null||!xr.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var g=vE(o,a,e);Lv(o,g);break e}}o=o.return}while(o!==null)}ME(n)}catch(_){e=_,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function DE(){var t=Eu.current;return Eu.current=wu,t===null?wu:t}function cm(){(st===0||st===3||st===2)&&(st=4),ft===null||!(yi&268435455)&&!(gc&268435455)||yr(ft,vt)}function Tu(t,e){var n=Ie;Ie|=2;var r=DE();(ft!==t||vt!==e)&&(Fn=null,ci(t,e));do try{ZI();break}catch(i){PE(t,i)}while(1);if(Kp(),Ie=n,Eu.current=r,nt!==null)throw Error(Z(261));return ft=null,vt=0,st}function ZI(){for(;nt!==null;)LE(nt)}function eN(){for(;nt!==null&&!kO();)LE(nt)}function LE(t){var e=FE(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?ME(t):nt=e,om.current=null}function ME(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WI(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,nt=null;return}}else if(n=KI(n,e,Wt),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);st===0&&(st=5)}function Jr(t,e,n){var r=Ae,i=ln.transition;try{ln.transition=null,Ae=1,tN(t,e,n,r)}finally{ln.transition=i,Ae=r}return null}function tN(t,e,n,r){do lo();while(Tr!==null);if(Ie&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(LO(t,o),t===ft&&(nt=ft=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yl||(yl=!0,jE(iu,function(){return lo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ln.transition,ln.transition=null;var s=Ae;Ae=1;var a=Ie;Ie|=4,om.current=null,QI(t,n),AE(n,t),_I(qh),su=!!Bh,qh=Bh=null,t.current=n,YI(n),OO(),Ie=a,Ae=s,ln.transition=o}else t.current=n;if(yl&&(yl=!1,Tr=t,Su=i),o=t.pendingLanes,o===0&&(xr=null),CO(n.stateNode),Ht(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_u)throw _u=!1,t=ld,ld=null,t;return Su&1&&t.tag!==0&&lo(),o=t.pendingLanes,o&1?t===ud?Ps++:(Ps=0,ud=t):Ps=0,Kr(),null}function lo(){if(Tr!==null){var t=mw(Su),e=ln.transition,n=Ae;try{if(ln.transition=null,Ae=16>t?16:t,Tr===null)var r=!1;else{if(t=Tr,Tr=null,Su=0,Ie&6)throw Error(Z(331));var i=Ie;for(Ie|=4,se=t.current;se!==null;){var o=se,s=o.child;if(se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:xs(8,c,o)}var h=c.child;if(h!==null)h.return=c,se=h;else for(;se!==null;){c=se;var f=c.sibling,d=c.return;if(IE(c),c===u){se=null;break}if(f!==null){f.return=d,se=f;break}se=d}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,se=s;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xs(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,se=m;break e}se=o.return}}var p=t.current;for(se=p;se!==null;){s=se;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,se=w;else e:for(s=p;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mc(9,a)}}catch(_){Ye(a,a.return,_)}if(a===s){se=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,se=g;break e}se=a.return}}if(Ie=i,Kr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ac,t)}catch{}r=!0}return r}finally{Ae=n,ln.transition=e}}return!1}function ry(t,e,n){e=So(n,e),e=gE(t,e,1),t=Ar(t,e,1),e=Mt(),t!==null&&(Ia(t,1,e),Ht(t,e))}function Ye(t,e,n){if(t.tag===3)ry(t,t,n);else for(;e!==null;){if(e.tag===3){ry(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xr===null||!xr.has(r))){t=So(n,t),t=vE(e,t,1),e=Ar(e,t,1),t=Mt(),e!==null&&(Ia(e,1,t),Ht(e,t));break}}e=e.return}}function nN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(vt&n)===n&&(st===4||st===3&&(vt&130023424)===vt&&500>Ze()-am?ci(t,0):sm|=n),Ht(t,e)}function $E(t,e){e===0&&(t.mode&1?(e=ll,ll<<=1,!(ll&130023424)&&(ll=4194304)):e=1);var n=Mt();t=Zn(t,e),t!==null&&(Ia(t,e,n),Ht(t,n))}function rN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$E(t,n)}function iN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),$E(t,n)}var FE;FE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,HI(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Ve&&e.flags&1048576&&Bw(e,du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ql(t,e),t=e.pendingProps;var i=yo(e,xt.current);ao(e,n),i=em(null,e,r,t,i,n);var o=tm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(o=!0,fu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qp(e),i.updater=dc,e.stateNode=i,i._reactInternals=e,Xh(e,r,t,n),e=ed(null,e,r,!0,o,n)):(e.tag=0,Ve&&o&&qp(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ql(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sN(r),t=dn(r,t),i){case 0:e=Zh(null,e,r,t,n);break e;case 1:e=Wv(null,e,r,t,n);break e;case 11:e=Hv(null,e,r,t,n);break e;case 14:e=Kv(null,e,r,dn(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Zh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Wv(t,e,r,i,n);case 3:e:{if(_E(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Hw(t,e),gu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=So(Error(Z(423)),e),e=Gv(t,e,r,n,i);break e}else if(r!==i){i=So(Error(Z(424)),e),e=Gv(t,e,r,n,i);break e}else for(Qt=Cr(e.stateNode.containerInfo.firstChild),Yt=e,Ve=!0,mn=null,n=Qw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wo(),r===i){e=er(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return Yw(e),t===null&&Gh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Vh(r,i)?s=null:o!==null&&Vh(r,o)&&(e.flags|=32),EE(t,e),Dt(t,e,s,n),e.child;case 6:return t===null&&Gh(e),null;case 13:return SE(t,e,n);case 4:return Yp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),Hv(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Le(pu,r._currentValue),r._currentValue=s,o!==null)if(En(o.value,s)){if(o.children===i.children&&!Vt.current){e=er(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Gn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Qh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ao(e,n),i=un(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=dn(r,e.pendingProps),i=dn(r.type,i),Kv(t,e,r,i,n);case 15:return yE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dn(r,i),ql(t,e),e.tag=1,zt(r)?(t=!0,fu(e)):t=!1,ao(e,n),Ww(e,r,i),Xh(e,r,i,n),ed(null,e,r,!0,t,n);case 19:return TE(t,e,n);case 22:return wE(t,e,n)}throw Error(Z(156,e.tag))};function jE(t,e){return fw(t,e)}function oN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new oN(t,e,n,r)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sN(t){if(typeof t=="function")return fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ap)return 11;if(t===xp)return 14}return 2}function Pr(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")fm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Vi:return fi(n.children,i,o,e);case Cp:s=8,i|=8;break;case _h:return t=an(12,n,e,i|2),t.elementType=_h,t.lanes=o,t;case Sh:return t=an(13,n,e,i),t.elementType=Sh,t.lanes=o,t;case Th:return t=an(19,n,e,i),t.elementType=Th,t.lanes=o,t;case G1:return vc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K1:s=10;break e;case W1:s=9;break e;case Ap:s=11;break e;case xp:s=14;break e;case pr:s=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=an(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function fi(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function vc(t,e,n,r){return t=an(22,t,r,e),t.elementType=G1,t.lanes=n,t.stateNode={isHidden:!1},t}function jf(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function Uf(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hm(t,e,n,r,i,o,s,a,l){return t=new aN(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=an(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(o),t}function lN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UE(t){if(!t)return Ur;t=t._reactInternals;e:{if(Ci(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(zt(n))return jw(t,n,e)}return e}function BE(t,e,n,r,i,o,s,a,l){return t=hm(n,r,!0,t,i,o,s,a,l),t.context=UE(null),n=t.current,r=Mt(),i=Rr(n),o=Gn(r,i),o.callback=e??null,Ar(n,o,i),t.current.lanes=i,Ia(t,i,r),Ht(t,r),t}function yc(t,e,n,r){var i=e.current,o=Mt(),s=Rr(i);return n=UE(n),e.context===null?e.context=n:e.pendingContext=n,e=Gn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ar(i,e,s),t!==null&&(wn(t,i,s,o),jl(t,i,s)),s}function bu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dm(t,e){iy(t,e),(t=t.alternate)&&iy(t,e)}function uN(){return null}var qE=typeof reportError=="function"?reportError:function(t){console.error(t)};function pm(t){this._internalRoot=t}wc.prototype.render=pm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));yc(t,e,null,null)};wc.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wi(function(){yc(null,t,null,null)}),e[Jn]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=yw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vr.length&&e!==0&&e<vr[n].priority;n++);vr.splice(n,0,t),n===0&&Ew(t)}};function mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oy(){}function cN(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=bu(s);o.call(u)}}var s=BE(e,r,t,0,null,!1,!1,"",oy);return t._reactRootContainer=s,t[Jn]=s.current,Ws(t.nodeType===8?t.parentNode:t),wi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=bu(l);a.call(u)}}var l=hm(t,0,!1,null,null,!1,!1,"",oy);return t._reactRootContainer=l,t[Jn]=l.current,Ws(t.nodeType===8?t.parentNode:t),wi(function(){yc(e,l,n,r)}),l}function _c(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=bu(s);a.call(l)}}yc(e,s,t,i)}else s=cN(n,e,t,i,r);return bu(s)}gw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vs(e.pendingLanes);n!==0&&(Dp(e,n|1),Ht(e,Ze()),!(Ie&6)&&(To=Ze()+500,Kr()))}break;case 13:wi(function(){var r=Zn(t,1);if(r!==null){var i=Mt();wn(r,t,1,i)}}),dm(t,1)}};Lp=function(t){if(t.tag===13){var e=Zn(t,134217728);if(e!==null){var n=Mt();wn(e,t,134217728,n)}dm(t,134217728)}};vw=function(t){if(t.tag===13){var e=Rr(t),n=Zn(t,e);if(n!==null){var r=Mt();wn(n,t,e,r)}dm(t,e)}};yw=function(){return Ae};ww=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Ph=function(t,e,n){switch(e){case"input":if(Oh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fc(r);if(!i)throw Error(Z(90));Y1(r),Oh(r,i)}}}break;case"textarea":J1(t,n);break;case"select":e=n.value,e!=null&&ro(t,!!n.multiple,e,!1)}};ow=lm;sw=wi;var fN={usingClientEntryPoint:!1,Events:[Ca,Wi,fc,rw,iw,lm]},ls={findFiberByHostInstance:ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hN={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uw(t),t===null?null:t.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||uN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{ac=wl.inject(hN),Cn=wl}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fN;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mm(e))throw Error(Z(200));return lN(t,e,null,n)};en.createRoot=function(t,e){if(!mm(t))throw Error(Z(299));var n=!1,r="",i=qE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hm(t,1,!1,null,null,n,!1,r,i),t[Jn]=e.current,Ws(t.nodeType===8?t.parentNode:t),new pm(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=uw(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return wi(t)};en.hydrate=function(t,e,n){if(!Ec(e))throw Error(Z(200));return _c(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!mm(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=qE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=BE(e,null,t,1,n??null,i,!1,o,s),t[Jn]=e.current,Ws(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wc(e)};en.render=function(t,e,n){if(!Ec(e))throw Error(Z(200));return _c(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!Ec(t))throw Error(Z(40));return t._reactRootContainer?(wi(function(){_c(null,null,t,!1,function(){t._reactRootContainer=null,t[Jn]=null})}),!0):!1};en.unstable_batchedUpdates=lm;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ec(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return _c(t,e,n,!1,r)};en.version="18.2.0-next-9e3b772b8-20220608";function VE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VE)}catch(t){console.error(t)}}VE(),B1.exports=en;var gm=B1.exports;const eo=Ii(gm);var sy=gm;wh.createRoot=sy.createRoot,wh.hydrateRoot=sy.hydrateRoot;/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},na.apply(this,arguments)}var br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(br||(br={}));const ay="popstate";function dN(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Ai(i.location.hash.substr(1));return hd("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:ku(o))}function r(i,o){Sc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return mN(e,n,r,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pN(){return Math.random().toString(36).substr(2,8)}function ly(t,e){return{usr:t.state,key:t.key,idx:e}}function hd(t,e,n,r){return n===void 0&&(n=null),na({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ai(e):e,{state:n,key:e&&e.key||r||pN()})}function ku(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=br.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(na({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=br.Pop;let E=c(),m=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:m})}function f(E,m){a=br.Push;let p=hd(v.location,E,m);n&&n(p,E),u=c()+1;let w=ly(p,u),g=v.createHref(p);try{s.pushState(w,"",g)}catch{i.location.assign(g)}o&&l&&l({action:a,location:v.location,delta:1})}function d(E,m){a=br.Replace;let p=hd(v.location,E,m);n&&n(p,E),u=c();let w=ly(p,u),g=v.createHref(p);s.replaceState(w,"",g),o&&l&&l({action:a,location:v.location,delta:0})}function y(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:ku(E);return it(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ay,h),l=E,()=>{i.removeEventListener(ay,h),l=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let m=y(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(E){return s.go(E)}};return v}var uy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uy||(uy={}));function gN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ai(e):e,i=vm(r.pathname||"/",n);if(i==null)return null;let o=zE(t);vN(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=ON(o[a],CN(i));return s}function zE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Dr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(it(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zE(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:bN(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of HE(o.path))i(o,s,l)}),e}function HE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=HE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yN=/^:\w+$/,wN=3,EN=2,_N=1,SN=10,TN=-2,cy=t=>t==="*";function bN(t,e){let n=t.split("/"),r=n.length;return n.some(cy)&&(r+=TN),e&&(r+=EN),n.filter(i=>!cy(i)).reduce((i,o)=>i+(yN.test(o)?wN:o===""?_N:SN),r)}function kN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ON(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=IN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:Dr([i,c.pathname]),pathnameBase:PN(Dr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Dr([i,c.pathnameBase]))}return o}function IN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=AN(a[h]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function NN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Sc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CN(t){try{return decodeURI(t)}catch(e){return Sc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AN(t,e){try{return decodeURIComponent(t)}catch(n){return Sc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function vm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ai(t):t;return{pathname:n?n.startsWith("/")?n:RN(n,e):e,search:DN(r),hash:LN(i)}}function RN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ai(t):(i=na({},t),it(!i.pathname||!i.pathname.includes("?"),Bf("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Bf("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Bf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let h=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=xN(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Dr=t=>t.join("/").replace(/\/\/+/g,"/"),PN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}const ym=L.createContext(null),$N=L.createContext(null),$o=L.createContext(null),Tc=L.createContext(null),xi=L.createContext({outlet:null,matches:[]}),GE=L.createContext(null);function FN(t,e){let{relative:n}=e===void 0?{}:e;xa()||it(!1);let{basename:r,navigator:i}=L.useContext($o),{hash:o,pathname:s,search:a}=YE(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Dr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function xa(){return L.useContext(Tc)!=null}function bc(){return xa()||it(!1),L.useContext(Tc).location}function QE(t){L.useContext($o).static||L.useLayoutEffect(t)}function wm(){return L.useContext(ym)!=null?JN():jN()}function jN(){xa()||it(!1);let{basename:t,navigator:e}=L.useContext($o),{matches:n}=L.useContext(xi),{pathname:r}=bc(),i=JSON.stringify(KE(n).map(a=>a.pathnameBase)),o=L.useRef(!1);return QE(()=>{o.current=!0}),L.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=WE(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Dr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function UN(){let{matches:t}=L.useContext(xi),e=t[t.length-1];return e?e.params:{}}function YE(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=L.useContext(xi),{pathname:i}=bc(),o=JSON.stringify(KE(r).map(s=>s.pathnameBase));return L.useMemo(()=>WE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function BN(t,e){return qN(t,e)}function qN(t,e,n){xa()||it(!1);let{navigator:r}=L.useContext($o),{matches:i}=L.useContext(xi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=bc(),u;if(e){var c;let v=typeof e=="string"?Ai(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||it(!1),u=v}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=gN(t,{pathname:f}),y=WN(d&&d.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Dr([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Dr([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&y?L.createElement(Tc.Provider,{value:{location:Ou({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:br.Pop}},y):y}function VN(){let t=XN(),e=MN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,o)}const zN=L.createElement(VN,null);class HN extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?L.createElement(xi.Provider,{value:this.props.routeContext},L.createElement(GE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KN(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(ym);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(xi.Provider,{value:e},r)}function WN(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||it(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,h=null;n&&(h=l.route.errorElement||zN);let f=e.concat(o.slice(0,u+1)),d=()=>{let y;return c?y=h:l.route.element?y=l.route.element:y=a,L.createElement(KN,{match:l,routeContext:{outlet:a,matches:f},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?L.createElement(HN,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:d(),routeContext:{outlet:null,matches:f}}):d()},null)}var dd;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(dd||(dd={}));var ra;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(ra||(ra={}));function GN(t){let e=L.useContext(ym);return e||it(!1),e}function QN(t){let e=L.useContext($N);return e||it(!1),e}function YN(t){let e=L.useContext(xi);return e||it(!1),e}function XE(t){let e=YN(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function XN(){var t;let e=L.useContext(GE),n=QN(ra.UseRouteError),r=XE(ra.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function JN(){let{router:t}=GN(dd.UseNavigateStable),e=XE(ra.UseNavigateStable),n=L.useRef(!1);return QE(()=>{n.current=!0}),L.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ou({fromRouteId:e},o)))},[t,e])}function Zr(t){it(!1)}function ZN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=br.Pop,navigator:o,static:s=!1}=t;xa()&&it(!1);let a=e.replace(/^\/*/,"/"),l=L.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Ai(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,y=L.useMemo(()=>{let v=vm(u,a);return v==null?null:{location:{pathname:v,search:c,hash:h,state:f,key:d},navigationType:i}},[a,u,c,h,f,d,i]);return y==null?null:L.createElement($o.Provider,{value:l},L.createElement(Tc.Provider,{children:n,value:y}))}function eC(t){let{children:e,location:n}=t;return BN(pd(e),n)}var fy;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(fy||(fy={}));new Promise(()=>{});function pd(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let o=[...e,i];if(r.type===L.Fragment){n.push.apply(n,pd(r.props.children,o));return}r.type!==Zr&&it(!1),!r.props.index||!r.props.children||it(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=pd(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},md.apply(this,arguments)}function tC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rC(t,e){return t.button===0&&(!e||e==="_self")&&!nC(t)}const iC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function oC(t){let{basename:e,children:n,window:r}=t,i=L.useRef();i.current==null&&(i.current=dN({window:r,v5Compat:!0}));let o=i.current,[s,a]=L.useState({action:o.action,location:o.location});return L.useLayoutEffect(()=>o.listen(a),[o]),L.createElement(ZN,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}const sC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,to=L.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,h=tC(e,iC),{basename:f}=L.useContext($o),d,y=!1;if(typeof u=="string"&&aC.test(u)&&(d=u,sC))try{let p=new URL(window.location.href),w=u.startsWith("//")?new URL(p.protocol+u):new URL(u),g=vm(w.pathname,f);w.origin===p.origin&&g!=null?u=g+w.search+w.hash:y=!0}catch{}let v=FN(u,{relative:i}),E=lC(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function m(p){r&&r(p),p.defaultPrevented||E(p)}return L.createElement("a",md({},h,{href:d||v,onClick:y||o?r:m,ref:n,target:l}))});var hy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(hy||(hy={}));var dy;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dy||(dy={}));function lC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=wm(),l=bc(),u=YE(t,{relative:s});return L.useCallback(c=>{if(rC(c,n)){c.preventDefault();let h=r!==void 0?r:ku(l)===ku(u);a(t,{replace:h,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}var JE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(JE);var uC=JE.exports;const Te=Ii(uC);function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}function ZE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function py(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function cC(t){var e=fC(t,"string");return typeof e=="symbol"?e:String(e)}function fC(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hC(t,e,n){var r=L.useRef(t!==void 0),i=L.useState(e),o=i[0],s=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&o!==e&&s(e),[a?t:o,L.useCallback(function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(h)),s(u)},[n])]}function Em(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[py(r)],a=o[r],l=ZE(o,[py(r),r].map(cC)),u=e[r],c=hC(a,s,t[u]),h=c[0],f=c[1];return gd({},l,(i={},i[r]=h,i[u]=f,i))},t)}function vd(t,e){return vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vd(t,e)}function dC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vd(t,e)}const pC=["xxl","xl","lg","md","sm","xs"],mC="xs",kc=L.createContext({prefixes:{},breakpoints:pC,minBreakpoint:mC});function Re(t,e){const{prefixes:n}=L.useContext(kc);return t||n[e]||e}function gC(){const{breakpoints:t}=L.useContext(kc);return t}function vC(){const{minBreakpoint:t}=L.useContext(kc);return t}function e_(){const{dir:t}=L.useContext(kc);return t==="rtl"}function Oc(t){return t&&t.ownerDocument||document}function yC(t){var e=Oc(t);return e&&e.defaultView||window}function wC(t,e){return yC(t).getComputedStyle(t,e)}var EC=/([A-Z])/g;function _C(t){return t.replace(EC,"-$1").toLowerCase()}var SC=/^ms-/;function El(t){return _C(t).replace(SC,"-ms-")}var TC=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bC(t){return!!(t&&TC.test(t))}function Qn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(El(e))||wC(t).getPropertyValue(El(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(El(i)):bC(i)?r+=i+"("+o+") ":n+=El(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var t_={exports:{}},kC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OC=kC,IC=OC;function n_(){}function r_(){}r_.resetWarningCache=n_;var NC=function(){function t(r,i,o,s,a,l){if(l!==IC){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r_,resetWarningCache:n_};return n.PropTypes=n,n};t_.exports=NC();var CC=t_.exports;const De=Ii(CC),my={disabled:!1},i_=Bt.createContext(null);var AC=function(e){return e.scrollTop},ws="unmounted",gr="exited",gn="entering",Un="entered",ia="exiting",lr=function(t){dC(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=gr,o.appearStatus=gn):l=Un:r.unmountOnExit||r.mountOnEnter?l=ws:l=gr,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ws?{status:gr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==gn&&s!==Un&&(o=gn):(s===gn||s===Un)&&(o=ia)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===gn){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:eo.findDOMNode(this);s&&AC(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===gr&&this.setState({status:ws})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[eo.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!s||my.disabled){this.safeSetState({status:Un},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:gn},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:Un},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:eo.findDOMNode(this);if(!o||my.disabled){this.safeSetState({status:gr},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ia},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:gr},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:eo.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ws)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=ZE(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Bt.createElement(i_.Provider,{value:null},typeof s=="function"?s(i,a):Bt.cloneElement(Bt.Children.only(s),a))},e}(Bt.Component);lr.contextType=i_;lr.propTypes={};function Mi(){}lr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Mi,onEntering:Mi,onEntered:Mi,onExit:Mi,onExiting:Mi,onExited:Mi};lr.UNMOUNTED=ws;lr.EXITED=gr;lr.ENTERING=gn;lr.ENTERED=Un;lr.EXITING=ia;const xC=lr,Fo=!!(typeof window<"u"&&window.document&&window.document.createElement);var yd=!1,wd=!1;try{var qf={get passive(){return yd=!0},get once(){return wd=yd=!0}};Fo&&(window.addEventListener("test",qf,qf),window.removeEventListener("test",qf,!0))}catch{}function o_(t,e,n,r){if(r&&typeof r!="boolean"&&!wd){var i=r.once,o=r.capture,s=n;!wd&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,yd?r:o)}t.addEventListener(e,n,r)}function Ed(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Iu(t,e,n,r){return o_(t,e,n,r),function(){Ed(t,e,n,r)}}function RC(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function PC(t){var e=Qn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function DC(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||RC(t,"transitionend",!0)},e+n),o=Iu(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function s_(t,e,n,r){n==null&&(n=PC(t)||0);var i=DC(t,n,r),o=Iu(t,"transitionend",e);return function(){i(),o()}}function gy(t,e){const n=Qn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Ic(t,e){const n=gy(t,"transitionDuration"),r=gy(t,"transitionDelay"),i=s_(t,o=>{o.target===t&&(i(),e(o))},n+r)}function us(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function _m(t){t.offsetHeight}var vy=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function LC(t,e){var n=vy(t),r=vy(e);return function(i){n&&n(i),r&&r(i)}}function Ra(t,e){return L.useMemo(function(){return LC(t,e)},[t,e])}function MC(t){return t&&"setState"in t?eo.findDOMNode(t):t??null}const $C=Bt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},c)=>{const h=L.useRef(null),f=Ra(h,l),d=O=>{f(MC(O))},y=O=>S=>{O&&h.current&&O(h.current,S)},v=L.useCallback(y(t),[t]),E=L.useCallback(y(e),[e]),m=L.useCallback(y(n),[n]),p=L.useCallback(y(r),[r]),w=L.useCallback(y(i),[i]),g=L.useCallback(y(o),[o]),_=L.useCallback(y(s),[s]);return j(xC,{ref:c,...u,onEnter:v,onEntered:m,onEntering:E,onExit:p,onExited:g,onExiting:w,addEndListener:_,nodeRef:h,children:typeof a=="function"?(O,S)=>a(O,{...S,ref:d}):Bt.cloneElement(a,{ref:d})})}),Nc=$C,FC={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function jC(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=FC[t];return r+parseInt(Qn(e,i[0]),10)+parseInt(Qn(e,i[1]),10)}const UC={[gr]:"collapse",[ia]:"collapsing",[gn]:"collapsing",[Un]:"collapse show"},BC=Bt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:c=!1,unmountOnExit:h=!1,appear:f=!1,getDimensionValue:d=jC,...y},v)=>{const E=typeof a=="function"?a():a,m=L.useMemo(()=>us(O=>{O.style[E]="0"},t),[E,t]),p=L.useMemo(()=>us(O=>{const S=`scroll${E[0].toUpperCase()}${E.slice(1)}`;O.style[E]=`${O[S]}px`},e),[E,e]),w=L.useMemo(()=>us(O=>{O.style[E]=null},n),[E,n]),g=L.useMemo(()=>us(O=>{O.style[E]=`${d(E,O)}px`,_m(O)},r),[r,d,E]),_=L.useMemo(()=>us(O=>{O.style[E]=null},i),[E,i]);return j(Nc,{ref:v,addEndListener:Ic,...y,"aria-expanded":y.role?l:null,onEnter:m,onEntering:p,onEntered:w,onExit:g,onExiting:_,childRef:s.ref,in:l,timeout:u,mountOnEnter:c,unmountOnExit:h,appear:f,children:(O,S)=>Bt.cloneElement(s,{...S,className:Te(o,s.props.className,UC[O],E==="width"&&"collapse-horizontal")})})}),qC=BC;function a_(t){var e=L.useRef(t);return L.useEffect(function(){e.current=t},[t]),e}function Ot(t){var e=a_(t);return L.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}function VC(){return L.useState(null)}function l_(){var t=L.useRef(!0),e=L.useRef(function(){return t.current});return L.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function zC(t){var e=L.useRef(null);return L.useEffect(function(){e.current=t}),e.current}var HC=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",KC=typeof document<"u";const _d=KC||HC?L.useLayoutEffect:L.useEffect,WC=["as","disabled"];function GC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QC(t){return!t||t.trim()==="#"}function Sm({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=f=>{if((e||t==="a"&&QC(n))&&f.preventDefault(),e){f.stopPropagation();return}s==null||s(f)},h=f=>{f.key===" "&&(f.preventDefault(),c(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:h},u]}const u_=L.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=GC(t,WC);const[o,{tagName:s}]=Sm(Object.assign({tagName:n,disabled:r},i));return j(s,Object.assign({},i,o,{ref:e}))});u_.displayName="Button";const YC=["onKeyDown"];function XC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function JC(t){return!t||t.trim()==="#"}const c_=L.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=XC(t,YC);const[i]=Sm(Object.assign({tagName:"a"},r)),o=Ot(s=>{i.onKeyDown(s),n==null||n(s)});return JC(r.href)||r.role==="button"?j("a",Object.assign({ref:e},r,i,{onKeyDown:o})):j("a",Object.assign({ref:e},r,{onKeyDown:n}))});c_.displayName="Anchor";const Sd=c_,ZC={[gn]:"show",[Un]:"show"},f_=L.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=L.useCallback((l,u)=>{_m(l),r==null||r(l,u)},[r]);return j(Nc,{ref:o,addEndListener:Ic,...s,onEnter:a,childRef:e.ref,children:(l,u)=>L.cloneElement(e,{...u,className:Te("fade",t,e.props.className,ZC[l],n[l])})})});f_.displayName="Fade";const Tm=f_,eA={"aria-label":De.string,onClick:De.func,variant:De.oneOf(["white"])},bm=L.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>j("button",{ref:i,type:"button",className:Te("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));bm.displayName="CloseButton";bm.propTypes=eA;const tA=bm,h_=t=>L.forwardRef((e,n)=>j("div",{...e,ref:n,className:Te(e.className,t)}));var nA=/-(.)/g;function rA(t){return t.replace(nA,function(e,n){return n.toUpperCase()})}const iA=t=>t[0].toUpperCase()+rA(t).slice(1);function ur(t,{displayName:e=iA(t),Component:n,defaultProps:r}={}){const i=L.forwardRef(({className:o,bsPrefix:s,as:a=n||"div",...l},u)=>{const c={...r,...l},h=Re(s,t);return j(a,{ref:u,className:Te(o,h),...c})});return i.displayName=e,i}const d_=L.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=Re(e,"btn"),[c,{tagName:h}]=Sm({tagName:t,disabled:o,...a});return j(h,{...c,...a,ref:l,disabled:o,className:Te(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});d_.displayName="Button";const Vf=d_,p_=L.createContext(null);p_.displayName="CardHeaderContext";const oA=p_;function sA(t,e){var n=L.useRef(!0);L.useEffect(function(){if(n.current){n.current=!1;return}return t()},e)}function aA(t){var e=L.useRef(t);return e.current=t,e}function km(t){var e=aA(t);L.useEffect(function(){return function(){return e.current()}},[])}var Td=Math.pow(2,31)-1;function m_(t,e,n){var r=n-Date.now();t.current=r<=Td?setTimeout(e,r):setTimeout(function(){return m_(t,e,n)},Td)}function lA(){var t=l_(),e=L.useRef();return km(function(){return clearTimeout(e.current)}),L.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(i,o){o===void 0&&(o=0),t()&&(n(),o<=Td?e.current=setTimeout(i,o):m_(e,i,Date.now()+o))}return{set:r,clear:n}},[])}const uA=ur("carousel-caption"),g_=L.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const o=Te(n,Re(e,"carousel-item"));return j(t,{ref:i,...r,className:o})});g_.displayName="CarouselItem";const cA=g_;function yy(t,e){let n=0;return L.Children.map(t,r=>L.isValidElement(r)?e(r,n++):r)}function fA(t,e){let n=0;L.Children.forEach(t,r=>{L.isValidElement(r)&&e(r,n++)})}function hA(t,e){return L.Children.toArray(t).some(n=>L.isValidElement(n)&&n.type===e)}const dA=40;function pA(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const v_=L.forwardRef(({defaultActiveIndex:t=0,...e},n)=>{const{as:r="div",bsPrefix:i,slide:o=!0,fade:s=!1,controls:a=!0,indicators:l=!0,indicatorLabels:u=[],activeIndex:c,onSelect:h,onSlide:f,onSlid:d,interval:y=5e3,keyboard:v=!0,onKeyDown:E,pause:m="hover",onMouseOver:p,onMouseOut:w,wrap:g=!0,touch:_=!0,onTouchStart:O,onTouchMove:S,onTouchEnd:b,prevIcon:A=j("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:k="Previous",nextIcon:T=j("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:I="Next",variant:C,className:R,children:$,...z}=Em({defaultActiveIndex:t,...e},{activeIndex:"onSelect"}),B=Re(i,"carousel"),H=e_(),F=L.useRef(null),[D,N]=L.useState("next"),[P,M]=L.useState(!1),[V,q]=L.useState(!1),[x,U]=L.useState(c||0);L.useEffect(()=>{!V&&c!==x&&(F.current?N(F.current):N((c||0)>x?"next":"prev"),o&&q(!0),U(c||0))},[c,V,x,o]),L.useEffect(()=>{F.current&&(F.current=null)});let K=0,W;fA($,(Ee,Pe)=>{++K,Pe===c&&(W=Ee.props.interval)});const Y=a_(W),te=L.useCallback(Ee=>{if(V)return;let Pe=x-1;if(Pe<0){if(!g)return;Pe=K-1}F.current="prev",h==null||h(Pe,Ee)},[V,x,h,g,K]),ue=Ot(Ee=>{if(V)return;let Pe=x+1;if(Pe>=K){if(!g)return;Pe=0}F.current="next",h==null||h(Pe,Ee)}),de=L.useRef();L.useImperativeHandle(n,()=>({element:de.current,prev:te,next:ue}));const le=Ot(()=>{!document.hidden&&pA(de.current)&&(H?te():ue())}),Se=D==="next"?"start":"end";sA(()=>{o||(f==null||f(x,Se),d==null||d(x,Se))},[x]);const lt=`${B}-item-${D}`,He=`${B}-item-${Se}`,G=L.useCallback(Ee=>{_m(Ee),f==null||f(x,Se)},[f,x,Se]),Q=L.useCallback(()=>{q(!1),d==null||d(x,Se)},[d,x,Se]),ne=L.useCallback(Ee=>{if(v&&!/input|textarea/i.test(Ee.target.tagName))switch(Ee.key){case"ArrowLeft":Ee.preventDefault(),H?ue(Ee):te(Ee);return;case"ArrowRight":Ee.preventDefault(),H?te(Ee):ue(Ee);return}E==null||E(Ee)},[v,E,te,ue,H]),re=L.useCallback(Ee=>{m==="hover"&&M(!0),p==null||p(Ee)},[m,p]),J=L.useCallback(Ee=>{M(!1),w==null||w(Ee)},[w]),ye=L.useRef(0),me=L.useRef(0),oe=lA(),Je=L.useCallback(Ee=>{ye.current=Ee.touches[0].clientX,me.current=0,m==="hover"&&M(!0),O==null||O(Ee)},[m,O]),jt=L.useCallback(Ee=>{Ee.touches&&Ee.touches.length>1?me.current=0:me.current=Ee.touches[0].clientX-ye.current,S==null||S(Ee)},[S]),Me=L.useCallback(Ee=>{if(_){const Pe=me.current;Math.abs(Pe)>dA&&(Pe>0?te(Ee):ue(Ee))}m==="hover"&&oe.set(()=>{M(!1)},y||void 0),b==null||b(Ee)},[_,m,te,ue,oe,y,b]),nl=y!=null&&!P&&!V,qe=L.useRef();L.useEffect(()=>{var Ee,Pe;if(!nl)return;const $n=H?te:ue;return qe.current=window.setInterval(document.visibilityState?le:$n,(Ee=(Pe=Y.current)!=null?Pe:y)!=null?Ee:void 0),()=>{qe.current!==null&&clearInterval(qe.current)}},[nl,te,ue,Y,y,le,H]);const fn=L.useMemo(()=>l&&Array.from({length:K},(Ee,Pe)=>$n=>{h==null||h(Pe,$n)}),[l,K,h]);return fe(r,{ref:de,...z,onKeyDown:ne,onMouseOver:re,onMouseOut:J,onTouchStart:Je,onTouchMove:jt,onTouchEnd:Me,className:Te(R,B,o&&"slide",s&&`${B}-fade`,C&&`${B}-${C}`),children:[l&&j("div",{className:`${B}-indicators`,children:yy($,(Ee,Pe)=>j("button",{type:"button","data-bs-target":"","aria-label":u!=null&&u.length?u[Pe]:`Slide ${Pe+1}`,className:Pe===x?"active":void 0,onClick:fn?fn[Pe]:void 0,"aria-current":Pe===x},Pe))}),j("div",{className:`${B}-inner`,children:yy($,(Ee,Pe)=>{const $n=Pe===x;return o?j(Nc,{in:$n,onEnter:$n?G:void 0,onEntered:$n?Q:void 0,addEndListener:Ic,children:(es,qk)=>L.cloneElement(Ee,{...qk,className:Te(Ee.props.className,$n&&es!=="entered"&&lt,(es==="entered"||es==="exiting")&&"active",(es==="entering"||es==="exiting")&&He)})}):L.cloneElement(Ee,{className:Te(Ee.props.className,$n&&"active")})})}),a&&fe(pi,{children:[(g||c!==0)&&fe(Sd,{className:`${B}-control-prev`,onClick:te,children:[A,k&&j("span",{className:"visually-hidden",children:k})]}),(g||c!==K-1)&&fe(Sd,{className:`${B}-control-next`,onClick:ue,children:[T,I&&j("span",{className:"visually-hidden",children:I})]})]})]})});v_.displayName="Carousel";const zf=Object.assign(v_,{Caption:uA,Item:cA});function mA({as:t,bsPrefix:e,className:n,...r}){e=Re(e,"col");const i=gC(),o=vC(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,h,f;typeof u=="object"&&u!=null?{span:c,offset:h,order:f}=u:c=u;const d=l!==o?`-${l}`:"";c&&s.push(c===!0?`${e}${d}`:`${e}${d}-${c}`),f!=null&&a.push(`order${d}-${f}`),h!=null&&a.push(`offset${d}-${h}`)}),[{...r,className:Te(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}const y_=L.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=mA(t);return j(i,{...r,ref:e,className:Te(n,!s.length&&o)})});y_.displayName="Col";const gA=y_;var vA=Function.prototype.bind.call(Function.prototype.call,[].slice);function ei(t,e){return vA(t.querySelectorAll(e))}function yA(){var t=L.useReducer(function(n){return!n},!1),e=t[1];return e}function wy(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const wA=L.createContext(null),Om=(t,e=null)=>t!=null?String(t):e||null,Nu=wA,w_=L.createContext(null);w_.displayName="NavContext";const E_=w_,EA="data-rr-ui-",_A="rrUi";function Cc(t){return`${EA}${t}`}function SA(t){return`${_A}${t}`}const __=L.createContext(Fo?window:void 0);__.Provider;function S_(){return L.useContext(__)}const T_=L.createContext(null);T_.displayName="NavbarContext";const jo=T_,TA={type:De.string,tooltip:De.bool,as:De.elementType},Im=L.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>j(t,{...i,ref:o,className:Te(e,`${n}-${r?"tooltip":"feedback"}`)}));Im.displayName="Feedback";Im.propTypes=TA;const b_=Im,bA=L.createContext({}),tr=bA,k_=L.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{const{controlId:u}=L.useContext(tr);return e=Re(e,"form-check-input"),j(s,{...a,ref:l,type:r,id:t||u,className:Te(n,e,i&&"is-valid",o&&"is-invalid")})});k_.displayName="FormCheckInput";const O_=k_,I_=L.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:o}=L.useContext(tr);return t=Re(t,"form-check-label"),j("label",{...r,ref:i,htmlFor:n||o,className:Te(e,t)})});I_.displayName="FormCheckLabel";const bd=I_,N_=L.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:h,style:f,title:d="",type:y="checkbox",label:v,children:E,as:m="input",...p},w)=>{e=Re(e,"form-check"),n=Re(n,"form-switch");const{controlId:g}=L.useContext(tr),_=L.useMemo(()=>({controlId:t||g}),[g,t]),O=!E&&v!=null&&v!==!1||hA(E,bd),S=j(O_,{...p,type:y==="switch"?"checkbox":y,ref:w,isValid:s,isInvalid:a,disabled:o,as:m});return j(tr.Provider,{value:_,children:j("div",{style:f,className:Te(h,O&&e,r&&`${e}-inline`,i&&`${e}-reverse`,y==="switch"&&n),children:E||fe(pi,{children:[S,O&&j(bd,{title:d,children:v}),u&&j(b_,{type:c,tooltip:l,children:u})]})})})});N_.displayName="FormCheck";const Cu=Object.assign(N_,{Input:O_,Label:bd}),C_=L.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...h},f)=>{const{controlId:d}=L.useContext(tr);t=Re(t,"form-control");let y;return l?y={[`${t}-plaintext`]:!0}:y={[t]:!0,[`${t}-${n}`]:n},j(c,{...h,type:e,size:r,ref:f,readOnly:u,id:i||d,className:Te(o,y,s&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});C_.displayName="FormControl";const kA=Object.assign(C_,{Feedback:b_}),OA=ur("form-floating"),A_=L.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=L.useMemo(()=>({controlId:t}),[t]);return j(tr.Provider,{value:i,children:j(e,{...n,ref:r})})});A_.displayName="FormGroup";const x_=A_,R_=L.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},a)=>{const{controlId:l}=L.useContext(tr);e=Re(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=Te(i,e,r&&"visually-hidden",n&&u);return o=o||l,n?j(gA,{ref:a,as:"label",className:c,htmlFor:o,...s}):j(t,{ref:a,className:c,htmlFor:o,...s})});R_.displayName="FormLabel";const IA=R_,P_=L.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:o}=L.useContext(tr);return t=Re(t,"form-range"),j("input",{...r,type:"range",ref:i,className:Te(e,t),id:n||o})});P_.displayName="FormRange";const NA=P_,D_=L.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{const{controlId:u}=L.useContext(tr);return t=Re(t,"form-select"),j("select",{...a,size:n,ref:l,className:Te(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});D_.displayName="FormSelect";const CA=D_,L_=L.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=Re(t,"form-text"),j(n,{...i,ref:o,className:Te(e,t,r&&"text-muted")})));L_.displayName="FormText";const AA=L_,M_=L.forwardRef((t,e)=>j(Cu,{...t,ref:e,type:"switch"}));M_.displayName="Switch";const xA=Object.assign(M_,{Input:Cu.Input,Label:Cu.Label}),$_=L.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=Re(t,"form-floating"),fe(x_,{ref:s,className:Te(e,t),controlId:r,...o,children:[n,j("label",{htmlFor:r,children:i})]})));$_.displayName="FloatingLabel";const RA=$_,PA={_ref:De.any,validated:De.bool,as:De.elementType},Nm=L.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>j(n,{...r,ref:i,className:Te(t,e&&"was-validated")}));Nm.displayName="Form";Nm.propTypes=PA;const $i=Object.assign(Nm,{Group:x_,Control:kA,Floating:OA,Check:Cu,Switch:xA,Label:IA,Text:AA,Range:NA,Select:CA,FloatingLabel:RA}),DA=L.createContext(null),F_=DA,LA=["as","active","eventKey"];function MA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function j_({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=L.useContext(Nu),a=L.useContext(E_),l=L.useContext(F_);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const h=a.getControllerId(t??null),f=a.getControlledId(t??null);c[Cc("event-key")]=t,c.id=h||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),o&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=Ot(h=>{o||(e==null||e(h),t!=null&&s&&!h.isPropagationStopped()&&s(t,h))}),[c,{isActive:u}]}const U_=L.forwardRef((t,e)=>{let{as:n=u_,active:r,eventKey:i}=t,o=MA(t,LA);const[s,a]=j_(Object.assign({key:Om(i,o.href),active:r},o));return s[Cc("active")]=a.isActive,j(n,Object.assign({},o,s,{ref:e}))});U_.displayName="NavItem";const $A=U_,FA=["as","onSelect","activeKey","role","onKeyDown"];function jA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Ey=()=>{},_y=Cc("event-key"),B_=L.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,a=jA(t,FA);const l=yA(),u=L.useRef(!1),c=L.useContext(Nu),h=L.useContext(F_);let f,d;h&&(o=o||"tablist",i=h.activeKey,f=h.getControlledId,d=h.getControllerId);const y=L.useRef(null),v=w=>{const g=y.current;if(!g)return null;const _=ei(g,`[${_y}]:not([aria-disabled=true])`),O=g.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const S=_.indexOf(O);if(S===-1)return null;let b=S+w;return b>=_.length&&(b=0),b<0&&(b=_.length-1),_[b]},E=(w,g)=>{w!=null&&(r==null||r(w,g),c==null||c(w,g))},m=w=>{if(s==null||s(w),!h)return;let g;switch(w.key){case"ArrowLeft":case"ArrowUp":g=v(-1);break;case"ArrowRight":case"ArrowDown":g=v(1);break;default:return}g&&(w.preventDefault(),E(g.dataset[SA("EventKey")]||null,w),u.current=!0,l())};L.useEffect(()=>{if(y.current&&u.current){const w=y.current.querySelector(`[${_y}][aria-selected=true]`);w==null||w.focus()}u.current=!1});const p=Ra(e,y);return j(Nu.Provider,{value:E,children:j(E_.Provider,{value:{role:o,activeKey:Om(i),getControlledId:f||Ey,getControllerId:d||Ey},children:j(n,Object.assign({},a,{onKeyDown:m,ref:p,role:o}))})})});B_.displayName="Nav";const UA=Object.assign(B_,{Item:$A});var _l;function Sy(t){if((!_l&&_l!==0||t)&&Fo){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),_l=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return _l}function Hf(t){t===void 0&&(t=Oc());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function BA(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Ty=Cc("modal-open");class qA{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return BA(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Qn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(Ty,""),Qn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Ty),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Cm=qA,Kf=(t,e)=>Fo?t==null?(e||Oc()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function VA(t,e){const n=S_(),[r,i]=L.useState(()=>Kf(t,n==null?void 0:n.document));if(!r){const o=Kf(t);o&&i(o)}return L.useEffect(()=>{e&&r&&e(r)},[e,r]),L.useEffect(()=>{const o=Kf(t);o!==r&&i(o)},[t,r]),r}function zA({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=L.useRef(null),s=L.useRef(e),a=Ot(n);L.useEffect(()=>{e?s.current=!0:a(o.current)},[e,a]);const l=Ra(o,t.ref),u=L.cloneElement(t,{ref:l});return e?u:i||!s.current&&r?null:u}function HA({in:t,onTransition:e}){const n=L.useRef(null),r=L.useRef(!0),i=Ot(e);return _d(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),_d(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function KA({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=L.useState(!e);e&&o&&s(!1);const a=HA({in:!!e,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(s(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,h=>{throw u.in||s(!0),h})}}),l=Ra(a,t.ref);return o&&!e?null:L.cloneElement(t,{ref:l})}function by(t,e,n){return t?j(t,Object.assign({},n)):e?j(KA,Object.assign({},n,{transition:e})):j(zA,Object.assign({},n))}function WA(t){return t.code==="Escape"||t.keyCode===27}const GA=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function QA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Wf;function YA(t){return Wf||(Wf=new Cm({ownerDocument:t==null?void 0:t.document})),Wf}function XA(t){const e=S_(),n=t||YA(e),r=L.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:L.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:L.useCallback(i=>{r.current.backdrop=i},[])})}const q_=L.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:h,runTransition:f,backdropTransition:d,runBackdropTransition:y,autoFocus:v=!0,enforceFocus:E=!0,restoreFocus:m=!0,restoreFocusOptions:p,renderDialog:w,renderBackdrop:g=le=>j("div",Object.assign({},le)),manager:_,container:O,onShow:S,onHide:b=()=>{},onExit:A,onExited:k,onExiting:T,onEnter:I,onEntering:C,onEntered:R}=t,$=QA(t,GA);const z=VA(O),B=XA(_),H=l_(),F=zC(n),[D,N]=L.useState(!n),P=L.useRef(null);L.useImperativeHandle(e,()=>B,[B]),Fo&&!F&&n&&(P.current=Hf()),n&&D&&N(!1);const M=Ot(()=>{if(B.add(),W.current=Iu(document,"keydown",U),K.current=Iu(document,"focus",()=>setTimeout(q),!0),S&&S(),v){const le=Hf(document);B.dialog&&le&&!wy(B.dialog,le)&&(P.current=le,B.dialog.focus())}}),V=Ot(()=>{if(B.remove(),W.current==null||W.current(),K.current==null||K.current(),m){var le;(le=P.current)==null||le.focus==null||le.focus(p),P.current=null}});L.useEffect(()=>{!n||!z||M()},[n,z,M]),L.useEffect(()=>{D&&V()},[D,V]),km(()=>{V()});const q=Ot(()=>{if(!E||!H()||!B.isTopModal())return;const le=Hf();B.dialog&&le&&!wy(B.dialog,le)&&B.dialog.focus()}),x=Ot(le=>{le.target===le.currentTarget&&(u==null||u(le),a===!0&&b())}),U=Ot(le=>{l&&WA(le)&&B.isTopModal()&&(c==null||c(le),le.defaultPrevented||b())}),K=L.useRef(),W=L.useRef(),Y=(...le)=>{N(!0),k==null||k(...le)};if(!z)return null;const te=Object.assign({role:r,ref:B.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},$,{style:o,className:i,tabIndex:-1});let ue=w?w(te):j("div",Object.assign({},te,{children:L.cloneElement(s,{role:"document"})}));ue=by(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:A,onExiting:T,onExited:Y,onEnter:I,onEntering:C,onEntered:R,children:ue});let de=null;return a&&(de=g({ref:B.setBackdropRef,onClick:x}),de=by(d,y,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:de})),j(pi,{children:eo.createPortal(fe(pi,{children:[de,ue]}),z)})});q_.displayName="Modal";const V_=Object.assign(q_,{Manager:Cm});function JA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function ZA(t,e){t.classList?t.classList.add(e):JA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ky(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function e2(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ky(t.className,e):t.setAttribute("class",ky(t.className&&t.className.baseVal||"",e))}const Fi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class z_ extends Cm{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Qn(n,{[e]:`${parseFloat(Qn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Qn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(ZA(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ei(n,Fi.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),ei(n,Fi.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),ei(n,Fi.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();e2(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ei(n,Fi.FIXED_CONTENT).forEach(o=>this.restore(r,o)),ei(n,Fi.STICKY_CONTENT).forEach(o=>this.restore(i,o)),ei(n,Fi.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let Gf;function H_(t){return Gf||(Gf=new z_(t)),Gf}const t2=ur("modal-body"),n2=L.createContext({onHide(){}}),Am=n2,K_=L.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:o,children:s,scrollable:a,...l},u)=>{t=Re(t,"modal");const c=`${t}-dialog`,h=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return j("div",{...l,ref:u,className:Te(c,e,i&&`${t}-${i}`,r&&`${c}-centered`,a&&`${c}-scrollable`,o&&h),children:j("div",{className:Te(`${t}-content`,n),children:s})})});K_.displayName="ModalDialog";const W_=K_,r2=ur("modal-footer"),i2=L.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const a=L.useContext(Am),l=Ot(()=>{a==null||a.onHide(),r==null||r()});return fe("div",{ref:s,...o,children:[i,n&&j(tA,{"aria-label":t,variant:e,onClick:l})]})}),G_=i2,Q_=L.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=Re(t,"modal-header"),j(G_,{ref:o,...i,className:Te(e,t),closeLabel:n,closeButton:r})));Q_.displayName="ModalHeader";const o2=Q_,s2=h_("h4"),a2=ur("modal-title",{Component:s2});function l2(t){return j(Tm,{...t,timeout:null})}function u2(t){return j(Tm,{...t,timeout:null})}const Y_=L.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:o,dialogAs:s=W_,"aria-labelledby":a,"aria-describedby":l,"aria-label":u,show:c=!1,animation:h=!0,backdrop:f=!0,keyboard:d=!0,onEscapeKeyDown:y,onShow:v,onHide:E,container:m,autoFocus:p=!0,enforceFocus:w=!0,restoreFocus:g=!0,restoreFocusOptions:_,onEntered:O,onExit:S,onExiting:b,onEnter:A,onEntering:k,onExited:T,backdropClassName:I,manager:C,...R},$)=>{const[z,B]=L.useState({}),[H,F]=L.useState(!1),D=L.useRef(!1),N=L.useRef(!1),P=L.useRef(null),[M,V]=VC(),q=Ra($,V),x=Ot(E),U=e_();t=Re(t,"modal");const K=L.useMemo(()=>({onHide:x}),[x]);function W(){return C||H_({isRTL:U})}function Y(oe){if(!Fo)return;const Je=W().getScrollbarWidth()>0,jt=oe.scrollHeight>Oc(oe).documentElement.clientHeight;B({paddingRight:Je&&!jt?Sy():void 0,paddingLeft:!Je&&jt?Sy():void 0})}const te=Ot(()=>{M&&Y(M.dialog)});km(()=>{Ed(window,"resize",te),P.current==null||P.current()});const ue=()=>{D.current=!0},de=oe=>{D.current&&M&&oe.target===M.dialog&&(N.current=!0),D.current=!1},le=()=>{F(!0),P.current=s_(M.dialog,()=>{F(!1)})},Se=oe=>{oe.target===oe.currentTarget&&le()},lt=oe=>{if(f==="static"){Se(oe);return}if(N.current||oe.target!==oe.currentTarget){N.current=!1;return}E==null||E()},He=oe=>{d?y==null||y(oe):(oe.preventDefault(),f==="static"&&le())},G=(oe,Je)=>{oe&&Y(oe),A==null||A(oe,Je)},Q=oe=>{P.current==null||P.current(),S==null||S(oe)},ne=(oe,Je)=>{k==null||k(oe,Je),o_(window,"resize",te)},re=oe=>{oe&&(oe.style.display=""),T==null||T(oe),Ed(window,"resize",te)},J=L.useCallback(oe=>j("div",{...oe,className:Te(`${t}-backdrop`,I,!h&&"show")}),[h,I,t]),ye={...n,...z};ye.display="block";const me=oe=>j("div",{role:"dialog",...oe,style:ye,className:Te(e,t,H&&`${t}-static`,!h&&"show"),onClick:f?lt:void 0,onMouseUp:de,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,children:j(s,{...R,onMouseDown:ue,className:r,contentClassName:i,children:o})});return j(Am.Provider,{value:K,children:j(V_,{show:c,ref:q,backdrop:f,container:m,keyboard:!0,autoFocus:p,enforceFocus:w,restoreFocus:g,restoreFocusOptions:_,onEscapeKeyDown:He,onShow:v,onHide:E,onEnter:G,onEntering:ne,onEntered:O,onExit:Q,onExiting:b,onExited:re,manager:W(),transition:h?l2:void 0,backdropTransition:h?u2:void 0,renderBackdrop:J,renderDialog:me})})});Y_.displayName="Modal";const cs=Object.assign(Y_,{Body:t2,Header:o2,Title:a2,Footer:r2,Dialog:W_,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var Oy={exports:{}},kd={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(s,a,l,u,c,h){var f=u||"<<anonymous>>",d=h||l;if(a[l]==null)return s?new Error("Required "+c+" `"+d+"` was not specified "+("in `"+f+"`.")):null;for(var y=arguments.length,v=Array(y>6?y-6:0),E=6;E<y;E++)v[E-6]=arguments[E];return r.apply(void 0,[a,l,f,c,d].concat(v))}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}t.exports=e.default})(kd,kd.exports);var c2=kd.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=c2,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];var d=null;return a.forEach(function(y){if(d==null){var v=y.apply(void 0,h);v!=null&&(d=v)}}),d}return(0,r.default)(u)}t.exports=e.default})(Oy,Oy.exports);const f2=ur("nav-item"),X_=L.forwardRef(({bsPrefix:t,className:e,as:n=Sd,active:r,eventKey:i,disabled:o=!1,...s},a)=>{t=Re(t,"nav-link");const[l,u]=j_({key:Om(i,s.href),active:r,disabled:o,...s});return j(n,{...s,...l,ref:a,disabled:o,className:Te(e,t,o&&"disabled",u.isActive&&"active")})});X_.displayName="NavLink";const h2=X_,J_=L.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:a,navbarScroll:l,className:u,activeKey:c,...h}=Em(t,{activeKey:"onSelect"}),f=Re(r,"nav");let d,y,v=!1;const E=L.useContext(jo),m=L.useContext(oA);return E?(d=E.bsPrefix,v=a??!0):m&&({cardHeaderBsPrefix:y}=m),j(UA,{as:n,ref:e,activeKey:c,className:Te(u,{[f]:!v,[`${d}-nav`]:v,[`${d}-nav-scroll`]:v&&l,[`${y}-${i}`]:!!y,[`${f}-${i}`]:!!i,[`${f}-fill`]:o,[`${f}-justified`]:s}),...h})});J_.displayName="Nav";const Yr=Object.assign(J_,{Item:f2,Link:h2}),Z_=L.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Re(t,"navbar-brand");const o=n||(r.href?"a":"span");return j(o,{...r,ref:i,className:Te(e,t)})});Z_.displayName="NavbarBrand";const d2=Z_,eS=L.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Re(e,"navbar-collapse");const i=L.useContext(jo);return j(qC,{in:!!(i&&i.expanded),...n,children:j("div",{ref:r,className:e,children:t})})});eS.displayName="NavbarCollapse";const p2=eS,tS=L.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},a)=>{t=Re(t,"navbar-toggler");const{onToggle:l,expanded:u}=L.useContext(jo)||{},c=Ot(h=>{o&&o(h),l&&l()});return i==="button"&&(s.type="button"),j(i,{...s,ref:a,onClick:c,"aria-label":r,className:Te(e,t,!u&&"collapsed"),children:n||j("span",{className:`${t}-icon`})})});tS.displayName="NavbarToggle";const m2=tS;var Od=new WeakMap,Iy=function(e,n){if(!(!e||!n)){var r=Od.get(n)||new Map;Od.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function g2(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=Iy(t,e),r=L.useState(function(){return n?n.matches:!1}),i=r[0],o=r[1];return _d(function(){var s=Iy(t,e);if(!s)return o(!1);var a=Od.get(e),l=function(){o(s.matches)};return s.refCount++,s.addListener(l),l(),function(){s.removeListener(l),s.refCount--,s.refCount<=0&&(a==null||a.delete(s.media)),s=void 0}},[t]),i}function v2(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function o(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function s(a,l,u){var c;if(typeof a=="object")c=a,u=l,l=!0;else{var h;l=l||!0,c=(h={},h[a]=l,h)}var f=L.useMemo(function(){return Object.entries(c).reduce(function(d,y){var v=y[0],E=y[1];return(E==="up"||E===!0)&&(d=n(d,o(v))),(E==="down"||E===!0)&&(d=n(d,i(v))),d},"")},[JSON.stringify(c)]);return g2(f,u)}return s}var y2=v2({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});const w2=ur("offcanvas-body"),E2={[gn]:"show",[Un]:"show"},nS=L.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...a},l)=>(t=Re(t,"offcanvas"),j(Nc,{ref:l,addEndListener:Ic,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...a,childRef:n.ref,children:(u,c)=>L.cloneElement(n,{...c,className:Te(e,n.props.className,(u===gn||u===ia)&&`${t}-toggling`,E2[u])})})));nS.displayName="OffcanvasToggling";const _2=nS,rS=L.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=Re(t,"offcanvas-header"),j(G_,{ref:o,...i,className:Te(e,t),closeLabel:n,closeButton:r})));rS.displayName="OffcanvasHeader";const S2=rS,T2=h_("h5"),b2=ur("offcanvas-title",{Component:T2});function k2(t){return j(_2,{...t})}function O2(t){return j(Tm,{...t})}const iS=L.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:c,onShow:h,onHide:f,container:d,autoFocus:y=!0,enforceFocus:v=!0,restoreFocus:E=!0,restoreFocusOptions:m,onEntered:p,onExit:w,onExiting:g,onEnter:_,onEntering:O,onExited:S,backdropClassName:b,manager:A,renderStaticNode:k=!1,...T},I)=>{const C=L.useRef();t=Re(t,"offcanvas");const{onToggle:R}=L.useContext(jo)||{},[$,z]=L.useState(!1),B=y2(o||"xs","up");L.useEffect(()=>{z(o?s&&!B:s)},[s,o,B]);const H=Ot(()=>{R==null||R(),f==null||f()}),F=L.useMemo(()=>({onHide:H}),[H]);function D(){return A||(u?(C.current||(C.current=new z_({handleContainerOverflow:!1})),C.current):H_())}const N=(q,...x)=>{q&&(q.style.visibility="visible"),_==null||_(q,...x)},P=(q,...x)=>{q&&(q.style.visibility=""),S==null||S(...x)},M=L.useCallback(q=>j("div",{...q,className:Te(`${t}-backdrop`,b)}),[b,t]),V=q=>j("div",{...q,...T,className:Te(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return fe(pi,{children:[!$&&(o||k)&&V({}),j(Am.Provider,{value:F,children:j(V_,{show:$,ref:I,backdrop:a,container:d,keyboard:l,autoFocus:y,enforceFocus:v&&!u,restoreFocus:E,restoreFocusOptions:m,onEscapeKeyDown:c,onShow:h,onHide:H,onEnter:N,onEntering:O,onEntered:p,onExit:w,onExiting:g,onExited:P,manager:D(),transition:k2,backdropTransition:O2,renderBackdrop:M,renderDialog:V})})]})});iS.displayName="Offcanvas";const I2=Object.assign(iS,{Body:w2,Header:S2,Title:b2}),oS=L.forwardRef((t,e)=>{const n=L.useContext(jo);return j(I2,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});oS.displayName="NavbarOffcanvas";const N2=oS,C2=ur("navbar-text",{Component:"span"}),sS=L.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:a,className:l,as:u="nav",expanded:c,onToggle:h,onSelect:f,collapseOnSelect:d=!1,...y}=Em(t,{expanded:"onToggle"}),v=Re(n,"navbar"),E=L.useCallback((...w)=>{f==null||f(...w),d&&c&&(h==null||h(!1))},[f,d,c,h]);y.role===void 0&&u!=="nav"&&(y.role="navigation");let m=`${v}-expand`;typeof r=="string"&&(m=`${m}-${r}`);const p=L.useMemo(()=>({onToggle:()=>h==null?void 0:h(!c),bsPrefix:v,expanded:!!c,expand:r}),[v,c,r,h]);return j(jo.Provider,{value:p,children:j(Nu.Provider,{value:E,children:j(u,{ref:e,...y,className:Te(l,v,r&&m,i&&`${v}-${i}`,o&&`bg-${o}`,a&&`sticky-${a}`,s&&`fixed-${s}`)})})})});sS.displayName="Navbar";const Qf=Object.assign(sS,{Brand:d2,Collapse:p2,Offcanvas:N2,Text:C2,Toggle:m2});const A2=()=>fe(Qf,{expand:"lg",className:"bg-transparent",children:[j(Qf.Toggle,{"aria-controls":"basic-navbar-nav",style:{color:"white"}}),j(Qf.Collapse,{id:"basic-navbar-nav",children:fe(Yr,{className:"mr-auto nav-centered",children:[j(Yr.Item,{children:fe(to,{className:"nav-link",to:"/",children:[j("span",{className:"japanese-text",children:""})," ",j("br",{})," ",j("span",{className:"english-text",children:"Introduction"})]})}),j(Yr.Item,{children:fe(to,{className:"nav-link",to:"/lokman/blog",children:[j("span",{className:"japanese-text",children:""})," ",j("br",{})," ",j("span",{className:"english-text",children:"News"})]})}),fe(Yr.Link,{href:"/lokman/github",children:[j("span",{className:"japanese-text",children:""})," ",j("br",{})," ",j("span",{className:"english-text",children:"Github"})]}),fe(Yr.Link,{href:"/lokman/projects",children:[j("span",{className:"japanese-text",children:""})," ",j("br",{})," ",j("span",{className:"english-text",children:"Projects"})]}),j(Yr.Item,{children:fe(to,{className:"nav-link",to:"/lokman/links",children:[j("span",{className:"japanese-text",children:""})," ",j("br",{})," ",j("span",{className:"english-text",children:"Links"})]})}),j(Yr.Item,{children:fe(to,{className:"nav-link",to:"/lokman/contact",children:[j("span",{className:"japanese-text",children:""})," ",j("br",{})," ",j("span",{className:"english-text",children:"Contact"})]})})]})})]});const Ny="/lokman/assets/divergence_meter_tube-eac380b4.png";function x2(){const[t,e]=L.useState(new Date),n=L.useRef(),r=()=>{e(new Date),n.current=requestAnimationFrame(r)};L.useEffect(()=>(n.current=requestAnimationFrame(r),()=>cancelAnimationFrame(n.current)),[]);const i=[t.getHours().toString().padStart(2,"0"),t.getMinutes().toString().padStart(2,"0"),t.getSeconds().toString().padStart(2,"0"),t.getMilliseconds().toString().padStart(3,"0")];return fe("div",{className:"nixie__wrapper",children:[j("div",{className:"nixie__mesh"}),j("div",{className:"nixie__value",children:i.map((o,s)=>fe(Bt.Fragment,{children:[o.split("").map((a,l)=>fe("span",{className:"nixie__digit-container",children:[j("span",{className:"nixie__digit",children:a}),j("span",{className:"nixie__number-background",style:{backgroundImage:`url(${Ny})`}})]},l)),s<i.length-1&&fe("span",{className:"nixie__digit-container",children:[j("span",{className:"nixie__number-background",style:{backgroundImage:`url(${Ny})`}}),j("span",{className:"nixie__dot",children:"."})]})]},s))})]})}const R2=({images:t})=>j(zf,{children:t.map((e,n)=>fe(zf.Item,{children:[j("img",{className:"d-block w-100",src:e.src,alt:e.alt}),e.caption&&j(zf.Caption,{children:j("h3",{children:e.caption})})]},n))}),P2="/lokman/assets/amadeus-7c2c3942.jpg",D2="/lokman/assets/rakugaki-62445f69.jpg";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,s||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new M2;const f=o<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $2=function(t){const e=aS(t);return lS.encodeByteArray(e,!0)},Au=function(t){return $2(t).replace(/\./g,"")},uS=function(t){try{return lS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=()=>F2().__FIREBASE_DEFAULTS__,U2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uS(t[1]);return e&&JSON.parse(e)},xm=()=>{try{return j2()||U2()||B2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cS=t=>{var e,n;return(n=(e=xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},q2=t=>{const e=cS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},V2=()=>{var t;return(t=xm())===null||t===void 0?void 0:t.config},fS=t=>{var e;return(e=xm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Au(JSON.stringify(n)),Au(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function W2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function G2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q2(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Y2(){try{return typeof indexedDB=="object"}catch{return!1}}function X2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J2,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pa.prototype.create)}}class Pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Z2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new cr(i,a,r)}}function Z2(t,e){return t.replace(ex,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ex=/\{\$([^}]+)}/g;function tx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Cy(o)&&Cy(s)){if(!xu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nx(t,e){const n=new rx(t,e);return n.subscribe.bind(n)}class rx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ix(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yf),i.error===void 0&&(i.error=Yf),i.complete===void 0&&(i.complete=Yf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ix(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new z2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ax(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sx(t){return t===ti?void 0:t}function ax(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ox(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const ux={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},cx=Ne.INFO,fx={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},hx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=cx,this._logHandler=hx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ux[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const dx=(t,e)=>e.some(n=>t instanceof n);let Ay,xy;function px(){return Ay||(Ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mx(){return xy||(xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hS=new WeakMap,Id=new WeakMap,dS=new WeakMap,Xf=new WeakMap,Pm=new WeakMap;function gx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Lr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hS.set(n,t)}).catch(()=>{}),Pm.set(e,t),e}function vx(t){if(Id.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Id.set(t,e)}let Nd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Id.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yx(t){Nd=t(Nd)}function wx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jf(this),e,...n);return dS.set(r,e.sort?e.sort():[e]),Lr(r)}:mx().includes(t)?function(...e){return t.apply(Jf(this),e),Lr(hS.get(this))}:function(...e){return Lr(t.apply(Jf(this),e))}}function Ex(t){return typeof t=="function"?wx(t):(t instanceof IDBTransaction&&vx(t),dx(t,px())?new Proxy(t,Nd):t)}function Lr(t){if(t instanceof IDBRequest)return gx(t);if(Xf.has(t))return Xf.get(t);const e=Ex(t);return e!==t&&(Xf.set(t,e),Pm.set(e,t)),e}const Jf=t=>Pm.get(t);function _x(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Lr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Lr(s.result),l.oldVersion,l.newVersion,Lr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Sx=["get","getKey","getAll","getAllKeys","count"],Tx=["put","add","delete","clear"],Zf=new Map;function Ry(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sx.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zf.set(e,o),o}yx(t=>({...t,get:(e,n,r)=>Ry(e,n)||t.get(e,n,r),has:(e,n)=>!!Ry(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cd="@firebase/app",Py="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Rm("@firebase/app"),Ox="@firebase/app-compat",Ix="@firebase/analytics-compat",Nx="@firebase/analytics",Cx="@firebase/app-check-compat",Ax="@firebase/app-check",xx="@firebase/auth",Rx="@firebase/auth-compat",Px="@firebase/database",Dx="@firebase/database-compat",Lx="@firebase/functions",Mx="@firebase/functions-compat",$x="@firebase/installations",Fx="@firebase/installations-compat",jx="@firebase/messaging",Ux="@firebase/messaging-compat",Bx="@firebase/performance",qx="@firebase/performance-compat",Vx="@firebase/remote-config",zx="@firebase/remote-config-compat",Hx="@firebase/storage",Kx="@firebase/storage-compat",Wx="@firebase/firestore",Gx="@firebase/firestore-compat",Qx="firebase",Yx="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="[DEFAULT]",Xx={[Cd]:"fire-core",[Ox]:"fire-core-compat",[Nx]:"fire-analytics",[Ix]:"fire-analytics-compat",[Ax]:"fire-app-check",[Cx]:"fire-app-check-compat",[xx]:"fire-auth",[Rx]:"fire-auth-compat",[Px]:"fire-rtdb",[Dx]:"fire-rtdb-compat",[Lx]:"fire-fn",[Mx]:"fire-fn-compat",[$x]:"fire-iid",[Fx]:"fire-iid-compat",[jx]:"fire-fcm",[Ux]:"fire-fcm-compat",[Bx]:"fire-perf",[qx]:"fire-perf-compat",[Vx]:"fire-rc",[zx]:"fire-rc-compat",[Hx]:"fire-gcs",[Kx]:"fire-gcs-compat",[Wx]:"fire-fst",[Gx]:"fire-fst-compat","fire-js":"fire-js",[Qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Map,xd=new Map;function Jx(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(xd.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;xd.set(e,t);for(const n of Ru.values())Jx(n,t);return!0}function Dm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Mr=new Pa("app","Firebase",Zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=Yx;function pS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ad,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(n||(n=V2()),!n)throw Mr.create("no-options");const o=Ru.get(i);if(o){if(xu(n,o.options)&&xu(r,o.config))return o;throw Mr.create("duplicate-app",{appName:i})}const s=new lx(i);for(const l of xd.values())s.addComponent(l);const a=new eR(n,r,s);return Ru.set(i,a),a}function mS(t=Ad){const e=Ru.get(t);if(!e&&t===Ad)return pS();if(!e)throw Mr.create("no-app",{appName:t});return e}function $r(t,e,n){var r;let i=(r=Xx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(a.join(" "));return}bo(new Ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebase-heartbeat-database",nR=1,oa="firebase-heartbeat-store";let eh=null;function gS(){return eh||(eh=_x(tR,nR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oa)}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),eh}async function rR(t){try{return(await gS()).transaction(oa).objectStore(oa).get(vS(t))}catch(e){if(e instanceof cr)_i.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function Dy(t,e){try{const r=(await gS()).transaction(oa,"readwrite");return await r.objectStore(oa).put(e,vS(t)),r.done}catch(n){if(n instanceof cr)_i.warn(n.message);else{const r=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function vS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1024,oR=30*24*60*60*1e3;class sR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ly();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=oR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ly(),{heartbeatsToSend:n,unsentEntries:r}=aR(this._heartbeatsCache.heartbeats),i=Au(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ly(){return new Date().toISOString().substring(0,10)}function aR(t,e=iR){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),My(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),My(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y2()?X2().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await rR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function My(t){return Au(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){bo(new Ei("platform-logger",e=>new bx(e),"PRIVATE")),bo(new Ei("heartbeat",e=>new sR(e),"PRIVATE")),$r(Cd,Py,t),$r(Cd,Py,"esm2017"),$r("fire-js","")}uR("");var cR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,Lm=Lm||{},ve=cR||self;function Pu(){}function Ac(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function La(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fR(t){return Object.prototype.hasOwnProperty.call(t,th)&&t[th]||(t[th]=++hR)}var th="closure_uid_"+(1e9*Math.random()>>>0),hR=0;function dR(t,e,n){return t.call.apply(t.bind,arguments)}function pR(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nt=dR:Nt=pR,Nt.apply(null,arguments)}function Sl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Wr(){this.s=this.s,this.o=this.o}var mR=0;Wr.prototype.s=!1;Wr.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),mR!=0)&&fR(this)};Wr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Mm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function $y(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ac(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var gR=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ve.addEventListener("test",Pu,e),ve.removeEventListener("test",Pu,e)}catch{}return t}();function Du(t){return/^[\s\xa0]*$/.test(t)}var Fy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nh(t,e){return t<e?-1:t>e?1:0}function xc(){var t=ve.navigator;return t&&(t=t.userAgent)?t:""}function In(t){return xc().indexOf(t)!=-1}function $m(t){return $m[" "](t),t}$m[" "]=Pu;function wS(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var vR=In("Opera"),ko=In("Trident")||In("MSIE"),ES=In("Edge"),Rd=ES||ko,_S=In("Gecko")&&!(xc().toLowerCase().indexOf("webkit")!=-1&&!In("Edge"))&&!(In("Trident")||In("MSIE"))&&!In("Edge"),yR=xc().toLowerCase().indexOf("webkit")!=-1&&!In("Edge");function SS(){var t=ve.document;return t?t.documentMode:void 0}var Lu;e:{var rh="",ih=function(){var t=xc();if(_S)return/rv:([^\);]+)(\)|;)/.exec(t);if(ES)return/Edge\/([\d\.]+)/.exec(t);if(ko)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(yR)return/WebKit\/(\S+)/.exec(t);if(vR)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ih&&(rh=ih?ih[1]:""),ko){var oh=SS();if(oh!=null&&oh>parseFloat(rh)){Lu=String(oh);break e}}Lu=rh}var wR={};function ER(){return wS(wR,9,function(){let t=0;const e=Fy(String(Lu)).split("."),n=Fy("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=nh(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||nh(i[2].length==0,o[2].length==0)||nh(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var Pd;if(ve.document&&ko){var jy=SS();Pd=jy||parseInt(Lu,10)||void 0}else Pd=void 0;var _R=Pd;function sa(t,e){if(Ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_S){e:{try{$m(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:SR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&sa.$.h.call(this)}}dt(sa,Ct);var SR={2:"touch",3:"pen",4:"mouse"};sa.prototype.h=function(){sa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ma="closure_listenable_"+(1e6*Math.random()|0),TR=0;function bR(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++TR,this.fa=this.ia=!1}function Rc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Fm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function TS(t){const e={};for(const n in t)e[n]=t[n];return e}const Uy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Uy.length;o++)n=Uy[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pc(t){this.src=t,this.g={},this.h=0}Pc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Ld(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new bR(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Dd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=yS(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Rc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ld(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var jm="closure_lm_"+(1e6*Math.random()|0),sh={};function kS(t,e,n,r,i){if(r&&r.once)return IS(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)kS(t,e[o],n,r,i);return null}return n=qm(n),t&&t[Ma]?t.O(e,n,La(r)?!!r.capture:!!r,i):OS(t,e,n,!1,r,i)}function OS(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=La(i)?!!i.capture:!!i,a=Bm(t);if(a||(t[jm]=a=new Pc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=kR(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gR||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(CS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kR(){function t(n){return e.call(t.src,t.listener,n)}const e=OR;return t}function IS(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)IS(t,e[o],n,r,i);return null}return n=qm(n),t&&t[Ma]?t.P(e,n,La(r)?!!r.capture:!!r,i):OS(t,e,n,!0,r,i)}function NS(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)NS(t,e[o],n,r,i);else r=La(r)?!!r.capture:!!r,n=qm(n),t&&t[Ma]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Ld(o,n,r,i),-1<n&&(Rc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ld(e,n,r,i)),(n=-1<t?e[t]:null)&&Um(n))}function Um(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ma])Dd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(CS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bm(e))?(Dd(n,t),n.h==0&&(n.src=null,e[jm]=null)):Rc(t)}}}function CS(t){return t in sh?sh[t]:sh[t]="on"+t}function OR(t,e){if(t.fa)t=!0;else{e=new sa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Um(t),t=n.call(r,e)}return t}function Bm(t){return t=t[jm],t instanceof Pc?t:null}var ah="__closure_events_fn_"+(1e9*Math.random()>>>0);function qm(t){return typeof t=="function"?t:(t[ah]||(t[ah]=function(e){return t.handleEvent(e)}),t[ah])}function ht(){Wr.call(this),this.i=new Pc(this),this.S=this,this.J=null}dt(ht,Wr);ht.prototype[Ma]=!0;ht.prototype.removeEventListener=function(t,e,n,r){NS(this,t,e,n,r)};function yt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ct(e,t);else if(e instanceof Ct)e.target=e.target||t;else{var i=e;e=new Ct(r,t),bS(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Tl(s,r,!0,e)&&i}if(s=e.g=t,i=Tl(s,r,!0,e)&&i,i=Tl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Tl(s,r,!1,e)&&i}ht.prototype.N=function(){if(ht.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rc(n[r]);delete t.g[e],t.h--}}this.J=null};ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Tl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Dd(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vm=ve.JSON.stringify;function IR(){var t=RS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class NR{constructor(){this.h=this.g=null}add(e,n){const r=AS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var AS=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new CR,t=>t.reset());class CR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AR(t){ve.setTimeout(()=>{throw t},0)}function xS(t,e){Md||xR(),$d||(Md(),$d=!0),RS.add(t,e)}var Md;function xR(){var t=ve.Promise.resolve(void 0);Md=function(){t.then(RR)}}var $d=!1,RS=new NR;function RR(){for(var t;t=IR();){try{t.h.call(t.g)}catch(n){AR(n)}var e=AS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$d=!1}function Dc(t,e){ht.call(this),this.h=t||1,this.g=e||ve,this.j=Nt(this.qb,this),this.l=Date.now()}dt(Dc,ht);ie=Dc.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yt(this,"tick"),this.ga&&(zm(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){Dc.$.N.call(this),zm(this),delete this.g};function Hm(t,e,n){if(typeof t=="function")n&&(t=Nt(t,n));else if(t&&typeof t.handleEvent=="function")t=Nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(t,e||0)}function PS(t){t.g=Hm(()=>{t.g=null,t.i&&(t.i=!1,PS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class PR extends Wr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PS(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(t){Wr.call(this),this.h=t,this.g={}}dt(aa,Wr);var By=[];function DS(t,e,n,r){Array.isArray(n)||(n&&(By[0]=n.toString()),n=By);for(var i=0;i<n.length;i++){var o=kS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function LS(t){Fm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Um(e)},t),t.g={}}aa.prototype.N=function(){aa.$.N.call(this),LS(this)};aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lc(){this.g=!0}Lc.prototype.Ea=function(){this.g=!1};function DR(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function LR(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function no(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$R(t,n)+(r?" "+r:"")})}function MR(t,e){t.info(function(){return"TIMEOUT: "+e})}Lc.prototype.info=function(){};function $R(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Vm(n)}catch{return e}}var Ri={},qy=null;function Mc(){return qy=qy||new ht}Ri.Ta="serverreachability";function MS(t){Ct.call(this,Ri.Ta,t)}dt(MS,Ct);function la(t){const e=Mc();yt(e,new MS(e))}Ri.STAT_EVENT="statevent";function $S(t,e){Ct.call(this,Ri.STAT_EVENT,t),this.stat=e}dt($S,Ct);function Lt(t){const e=Mc();yt(e,new $S(e,t))}Ri.Ua="timingevent";function FS(t,e){Ct.call(this,Ri.Ua,t),this.size=e}dt(FS,Ct);function $a(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){t()},e)}var $c={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Km(){}Km.prototype.h=null;function Vy(t){return t.h||(t.h=t.i())}function US(){}var Fa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wm(){Ct.call(this,"d")}dt(Wm,Ct);function Gm(){Ct.call(this,"c")}dt(Gm,Ct);var Fd;function Fc(){}dt(Fc,Km);Fc.prototype.g=function(){return new XMLHttpRequest};Fc.prototype.i=function(){return{}};Fd=new Fc;function ja(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new aa(this),this.P=FR,t=Rd?125:void 0,this.V=new Dc(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new BS}function BS(){this.i=null,this.g="",this.h=!1}var FR=45e3,jd={},Mu={};ie=ja.prototype;ie.setTimeout=function(t){this.P=t};function Ud(t,e,n){t.L=1,t.v=Uc(nr(e)),t.s=n,t.S=!0,qS(t,null)}function qS(t,e){t.G=Date.now(),Ua(t),t.A=nr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),YS(n.i,"t",r),t.C=0,n=t.l.I,t.h=new BS,t.g=vT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new PR(Nt(t.Pa,t,t.g),t.O)),DS(t.U,t.g,"readystatechange",t.nb),e=t.I?TS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),la(),DR(t.j,t.u,t.A,t.m,t.W,t.s)}ie.nb=function(t){t=t.target;const e=this.M;e&&zn(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const c=zn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Rd||this.g&&(this.h.h||this.g.ja()||Wy(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?la(3):la(2)),jc(this);var n=this.g.da();this.aa=n;t:if(VS(this)){var r=Wy(this.g);t="";var i=r.length,o=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),Ds(this);var s="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,LR(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Du(a)){var u=a;break t}}u=null}if(n=u)no(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bd(this,n);else{this.i=!1,this.o=3,Lt(12),si(this),Ds(this);break e}}this.S?(zS(this,c,s),Rd&&this.i&&c==3&&(DS(this.U,this.V,"tick",this.mb),this.V.start())):(no(this.j,this.m,s,null),Bd(this,s)),c==4&&si(this),this.i&&!this.J&&(c==4?dT(this.l,this):(this.i=!1,Ua(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),si(this),Ds(this)}}}catch{}finally{}};function VS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function zS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=jR(t,n),i==Mu){e==4&&(t.o=4,Lt(14),r=!1),no(t.j,t.m,null,"[Incomplete Response]");break}else if(i==jd){t.o=4,Lt(15),no(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else no(t.j,t.m,i,null),Bd(t,i);VS(t)&&i!=Mu&&i!=jd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Lt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),tg(e),e.L=!0,Lt(11))):(no(t.j,t.m,n,"[Invalid Chunked Response]"),si(t),Ds(t))}ie.mb=function(){if(this.g){var t=zn(this.g),e=this.g.ja();this.C<e.length&&(jc(this),zS(this,t,e),this.i&&t!=4&&Ua(this))}};function jR(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Mu:(n=Number(e.substring(n,r)),isNaN(n)?jd:(r+=1,r+n>e.length?Mu:(e=e.substr(r,n),t.C=r+n,e)))}ie.cancel=function(){this.J=!0,si(this)};function Ua(t){t.Y=Date.now()+t.P,HS(t,t.P)}function HS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=$a(Nt(t.lb,t),e)}function jc(t){t.B&&(ve.clearTimeout(t.B),t.B=null)}ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(MR(this.j,this.A),this.L!=2&&(la(),Lt(17)),si(this),this.o=2,Ds(this)):HS(this,this.Y-t)};function Ds(t){t.l.H==0||t.J||dT(t.l,t)}function si(t){jc(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,zm(t.V),LS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Bd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||qd(n.h,t))){if(!t.K&&qd(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ju(n),Vc(n);else break e;eg(n),Lt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=$a(Nt(n.ib,n),6e3));if(1>=ZS(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else ai(n,11)}else if((t.K||n.g==t)&&ju(n),!Du(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const c=u[3];c!=null&&(n.qa=c,n.j.info("VER="+n.qa));const h=u[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const y=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.h;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Qm(o,o.h),o.h=null))}if(r.F){const v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,ze(r.G,r.F,v))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=gT(r,r.I?r.oa:null,r.Y),s.K){eT(r.h,s);var a=s,l=r.K;l&&a.setTimeout(l),a.B&&(jc(a),Ua(a)),r.g=s}else fT(r);0<n.i.length&&zc(n)}else u[0]!="stop"&&u[0]!="close"||ai(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ai(n,7):Zm(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}la(4)}catch{}}function UR(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ac(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function BR(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ac(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function KS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ac(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=BR(t),r=UR(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var WS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function hi(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof hi){this.h=e!==void 0?e:t.h,$u(this,t.j),this.s=t.s,this.g=t.g,Fu(this,t.m),this.l=t.l,e=t.i;var n=new ua;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),zy(this,n),this.o=t.o}else t&&(n=String(t).match(WS))?(this.h=!!e,$u(this,n[1]||"",!0),this.s=Es(n[2]||""),this.g=Es(n[3]||"",!0),Fu(this,n[4]),this.l=Es(n[5]||"",!0),zy(this,n[6]||"",!0),this.o=Es(n[7]||"")):(this.h=!!e,this.i=new ua(null,this.h))}hi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_s(e,Hy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_s(e,Hy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(_s(n,n.charAt(0)=="/"?HR:zR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_s(n,WR)),t.join("")};function nr(t){return new hi(t)}function $u(t,e,n){t.j=n?Es(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function zy(t,e,n){e instanceof ua?(t.i=e,GR(t.i,t.h)):(n||(e=_s(e,KR)),t.i=new ua(e,t.h))}function ze(t,e,n){t.i.set(e,n)}function Uc(t){return ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Es(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _s(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,VR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function VR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Hy=/[#\/\?@]/g,zR=/[#\?:]/g,HR=/[#\?]/g,KR=/[#\?@]/g,WR=/#/g;function ua(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Gr(t){t.g||(t.g=new Map,t.h=0,t.i&&qR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=ua.prototype;ie.add=function(t,e){Gr(this),this.i=null,t=Bo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function GS(t,e){Gr(t),e=Bo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function QS(t,e){return Gr(t),e=Bo(t,e),t.g.has(e)}ie.forEach=function(t,e){Gr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ie.sa=function(){Gr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ie.Z=function(t){Gr(this);let e=[];if(typeof t=="string")QS(this,t)&&(e=e.concat(this.g.get(Bo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return Gr(this),this.i=null,t=Bo(this,t),QS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function YS(t,e,n){GS(t,e),0<n.length&&(t.i=null,t.g.set(Bo(t,e),Mm(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Bo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function GR(t,e){e&&!t.j&&(Gr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(GS(this,r),YS(this,i,n))},t)),t.j=e}var QR=class{constructor(t,e){this.h=t,this.g=e}};function XS(t){this.l=t||YR,ve.PerformanceNavigationTiming?(t=ve.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var YR=10;function JS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ZS(t){return t.h?1:t.g?t.g.size:0}function qd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qm(t,e){t.g?t.g.add(e):t.h=e}function eT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}XS.prototype.cancel=function(){if(this.i=tT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function tT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Mm(t.i)}function Ym(){}Ym.prototype.stringify=function(t){return ve.JSON.stringify(t,void 0)};Ym.prototype.parse=function(t){return ve.JSON.parse(t,void 0)};function XR(){this.g=new Ym}function JR(t,e,n){const r=n||"";try{KS(t,function(i,o){let s=i;La(i)&&(s=Vm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ZR(t,e){const n=new Lc;if(ve.Image){const r=new Image;r.onload=Sl(bl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sl(bl,n,r,"TestLoadImage: error",!1,e),r.onabort=Sl(bl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sl(bl,n,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function bl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ba(t){this.l=t.fc||null,this.j=t.ob||!1}dt(Ba,Km);Ba.prototype.g=function(){return new Bc(this.l,this.j)};Ba.prototype.i=function(t){return function(){return t}}({});function Bc(t,e){ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(Bc,ht);var Xm=0;ie=Bc.prototype;ie.open=function(t,e){if(this.readyState!=Xm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ca(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=Xm};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function nT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qa(this):ca(this),this.readyState==3&&nT(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,qa(this))};ie.Ya=function(t){this.g&&(this.response=t,qa(this))};ie.ka=function(){this.g&&qa(this)};function qa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ca(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ca(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eP=ve.JSON.parse;function Xe(t){ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rT,this.L=this.M=!1}dt(Xe,ht);var rT="",tP=/^https?$/i,nP=["POST","PUT"];ie=Xe.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fd.g(),this.C=this.u?Vy(this.u):Vy(Fd),this.g.onreadystatechange=Nt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Ky(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ve.FormData&&t instanceof ve.FormData,!(0<=yS(nP,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sT(this),0<this.B&&((this.L=rP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.ua,this)):this.A=Hm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Ky(this,o)}};function rP(t){return ko&&ER()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof Lm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yt(this,"timeout"),this.abort(8))};function Ky(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,iT(t),qc(t)}function iT(t){t.F||(t.F=!0,yt(t,"complete"),yt(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yt(this,"complete"),yt(this,"abort"),qc(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qc(this,!0)),Xe.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?oT(this):this.kb())};ie.kb=function(){oT(this)};function oT(t){if(t.h&&typeof Lm<"u"&&(!t.C[1]||zn(t)!=4||t.da()!=2)){if(t.v&&zn(t)==4)Hm(t.La,0,t);else if(yt(t,"readystatechange"),zn(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(WS)[1]||null;if(!i&&ve.self&&ve.self.location){var o=ve.self.location.protocol;i=o.substr(0,o.length-1)}r=!tP.test(i?i.toLowerCase():"")}n=r}if(n)yt(t,"complete"),yt(t,"success");else{t.m=6;try{var s=2<zn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",iT(t)}}finally{qc(t)}}}}function qc(t,e){if(t.g){sT(t);const n=t.g,r=t.C[0]?Pu:null;t.g=null,t.C=null,e||yt(t,"ready");try{n.onreadystatechange=r}catch{}}}function sT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ve.clearTimeout(t.A),t.A=null)}function zn(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eP(e)}};function Wy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case rT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function aT(t){let e="";return Fm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=aT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ze(t,e,n))}function fs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lT(t){this.Ga=0,this.i=[],this.j=new Lc,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fs("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fs("baseRetryDelayMs",5e3,t),this.hb=fs("retryDelaySeedMs",1e4,t),this.eb=fs("forwardChannelMaxRetries",2,t),this.xa=fs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new XS(t&&t.concurrentRequestLimit),this.Ja=new XR,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}ie=lT.prototype;ie.qa=8;ie.H=1;function Zm(t){if(uT(t),t.H==3){var e=t.W++,n=nr(t.G);ze(n,"SID",t.J),ze(n,"RID",e),ze(n,"TYPE","terminate"),Va(t,n),e=new ja(t,t.j,e,void 0),e.L=2,e.v=Uc(nr(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon&&(n=ve.navigator.sendBeacon(e.v.toString(),"")),!n&&ve.Image&&(new Image().src=e.v,n=!0),n||(e.g=vT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ua(e)}mT(t)}function Vc(t){t.g&&(tg(t),t.g.cancel(),t.g=null)}function uT(t){Vc(t),t.u&&(ve.clearTimeout(t.u),t.u=null),ju(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ve.clearTimeout(t.m),t.m=null)}function zc(t){JS(t.h)||t.m||(t.m=!0,xS(t.Na,t),t.C=0)}function iP(t,e){return ZS(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$a(Nt(t.Na,t,e),pT(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ja(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=TS(o),bS(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=cT(this,i,e),n=nr(this.G),ze(n,"RID",t),ze(n,"CVER",22),this.F&&ze(n,"X-HTTP-Session-Id",this.F),Va(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(aT(o)))+"&"+e:this.o&&Jm(n,this.o,o)),Qm(this.h,i),this.bb&&ze(n,"TYPE","init"),this.P?(ze(n,"$req",e),ze(n,"SID","null"),i.ba=!0,Ud(i,n,null)):Ud(i,n,e),this.H=2}}else this.H==3&&(t?Gy(this,t):this.i.length==0||JS(this.h)||Gy(this))};function Gy(t,e){var n;e?n=e.m:n=t.W++;const r=nr(t.G);ze(r,"SID",t.J),ze(r,"RID",n),ze(r,"AID",t.V),Va(t,r),t.o&&t.s&&Jm(r,t.o,t.s),n=new ja(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=cT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qm(t.h,n),Ud(n,r,e)}function Va(t,e){t.ma&&Fm(t.ma,function(n,r){ze(e,r,n)}),t.l&&KS({},function(n,r){ze(e,r,n)})}function cT(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Nt(t.l.Va,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=o,0>u)o=Math.max(0,i[l].h-100),a=!1;else try{JR(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function fT(t){t.g||t.u||(t.ba=1,xS(t.Ma,t),t.A=0)}function eg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$a(Nt(t.Ma,t),pT(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,hT(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=$a(Nt(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Lt(10),Vc(this),hT(this))};function tg(t){t.B!=null&&(ve.clearTimeout(t.B),t.B=null)}function hT(t){t.g=new ja(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=nr(t.wa);ze(e,"RID","rpc"),ze(e,"SID",t.J),ze(e,"CI",t.M?"0":"1"),ze(e,"AID",t.V),ze(e,"TYPE","xmlhttp"),Va(t,e),t.o&&t.s&&Jm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Uc(nr(e)),n.s=null,n.S=!0,qS(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,Vc(this),eg(this),Lt(19))};function ju(t){t.v!=null&&(ve.clearTimeout(t.v),t.v=null)}function dT(t,e){var n=null;if(t.g==e){ju(t),tg(t),t.g=null;var r=2}else if(qd(t.h,e))n=e.F,eT(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Mc(),yt(r,new FS(r,n)),zc(t)}else fT(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&iP(t,e)||r==2&&eg(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ai(t,5);break;case 4:ai(t,10);break;case 3:ai(t,6);break;default:ai(t,2)}}}function pT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function ai(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Nt(t.pb,t);n||(n=new hi("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||$u(n,"https"),Uc(n)),ZR(n.toString(),r)}else Lt(2);t.H=0,t.l&&t.l.za(e),mT(t),uT(t)}ie.pb=function(t){t?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function mT(t){if(t.H=0,t.pa=[],t.l){const e=tT(t.h);(e.length!=0||t.i.length!=0)&&($y(t.pa,e),$y(t.pa,t.i),t.h.i.length=0,Mm(t.i),t.i.length=0),t.l.ya()}}function gT(t,e,n){var r=n instanceof hi?nr(n):new hi(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Fu(r,r.m);else{var i=ve.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new hi(null,void 0);r&&$u(o,r),e&&(o.g=e),i&&Fu(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ze(r,n,e),ze(r,"VER",t.qa),Va(t,r),r}function vT(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Xe(new Ba({ob:!0})):new Xe(t.va),e.Oa(t.I),e}function yT(){}ie=yT.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.Va=function(){};function Uu(){if(ko&&!(10<=Number(_R)))throw Error("Environmental error: no available transport.")}Uu.prototype.g=function(t,e){return new Zt(t,e)};function Zt(t,e){ht.call(this),this.g=new lT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Du(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Du(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qo(this)}dt(Zt,ht);Zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;Lt(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=gT(t,null,t.Y),zc(t)};Zt.prototype.close=function(){Zm(this.g)};Zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Vm(t),t=n);e.i.push(new QR(e.fb++,t)),e.H==3&&zc(e)};Zt.prototype.N=function(){this.g.l=null,delete this.j,Zm(this.g),delete this.g,Zt.$.N.call(this)};function wT(t){Wm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt(wT,Wm);function ET(){Gm.call(this),this.status=1}dt(ET,Gm);function qo(t){this.g=t}dt(qo,yT);qo.prototype.Ba=function(){yt(this.g,"a")};qo.prototype.Aa=function(t){yt(this.g,new wT(t))};qo.prototype.za=function(t){yt(this.g,new ET)};qo.prototype.ya=function(){yt(this.g,"b")};function oP(){this.blockSize=-1}function _n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(_n,oP);_n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function lh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}_n.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)lh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){lh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){lh(this,r),i=0;break}}this.h=i,this.i+=e};_n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var sP={};function ng(t){return-128<=t&&128>t?wS(sP,t,function(e){return new xe([e|0],0>e?-1:0)}):new xe([t|0],0>t?-1:0)}function Nn(t){if(isNaN(t)||!isFinite(t))return uo;if(0>t)return gt(Nn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Vd;return new xe(e,0)}function _T(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return gt(_T(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nn(Math.pow(e,8)),r=uo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Nn(Math.pow(e,o)),r=r.R(o).add(Nn(s))):(r=r.R(n),r=r.add(Nn(s)))}return r}var Vd=4294967296,uo=ng(0),zd=ng(1),Qy=ng(16777216);ie=xe.prototype;ie.ea=function(){if(on(this))return-gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Vd+r)*e,e*=Vd}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hn(this))return"0";if(on(this))return"-"+gt(this).toString(t);for(var e=Nn(Math.pow(t,6)),n=this,r="";;){var i=qu(n,e).g;n=Bu(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function on(t){return t.h==-1}ie.X=function(t){return t=Bu(this,t),on(t)?-1:Hn(t)?0:1};function gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(zd)}ie.abs=function(){return on(this)?gt(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function Bu(t,e){return t.add(gt(e))}ie.R=function(t){if(Hn(this)||Hn(t))return uo;if(on(this))return on(t)?gt(this).R(gt(t)):gt(gt(this).R(t));if(on(t))return gt(this.R(gt(t)));if(0>this.X(Qy)&&0>t.X(Qy))return Nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,kl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,kl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,kl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,kl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)};function kl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hs(t,e){this.g=t,this.h=e}function qu(t,e){if(Hn(e))throw Error("division by zero");if(Hn(t))return new hs(uo,uo);if(on(t))return e=qu(gt(t),e),new hs(gt(e.g),gt(e.h));if(on(e))return e=qu(t,gt(e)),new hs(gt(e.g),e.h);if(30<t.g.length){if(on(t)||on(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zd,r=e;0>=r.X(t);)n=Yy(n),r=Yy(r);var i=ji(n,1),o=ji(r,1);for(r=ji(r,2),n=ji(n,2);!Hn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ji(r,1),n=ji(n,1)}return e=Bu(t,i.R(e)),new hs(i,e)}for(i=uo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Nn(n),s=o.R(e);on(s)||0<s.X(t);)n-=r,o=Nn(n),s=o.R(e);Hn(o)&&(o=zd),i=i.add(o),t=Bu(t,s)}return new hs(i,t)}ie.gb=function(t){return qu(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)};function Yy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function ji(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new xe(i,t.h)}Uu.prototype.createWebChannel=Uu.prototype.g;Zt.prototype.send=Zt.prototype.u;Zt.prototype.open=Zt.prototype.m;Zt.prototype.close=Zt.prototype.close;$c.NO_ERROR=0;$c.TIMEOUT=8;$c.HTTP_ERROR=6;jS.COMPLETE="complete";US.EventType=Fa;Fa.OPEN="a";Fa.CLOSE="b";Fa.ERROR="c";Fa.MESSAGE="d";ht.prototype.listen=ht.prototype.O;Xe.prototype.listenOnce=Xe.prototype.P;Xe.prototype.getLastError=Xe.prototype.Sa;Xe.prototype.getLastErrorCode=Xe.prototype.Ia;Xe.prototype.getStatus=Xe.prototype.da;Xe.prototype.getResponseJson=Xe.prototype.Wa;Xe.prototype.getResponseText=Xe.prototype.ja;Xe.prototype.send=Xe.prototype.ha;Xe.prototype.setWithCredentials=Xe.prototype.Oa;_n.prototype.digest=_n.prototype.l;_n.prototype.reset=_n.prototype.reset;_n.prototype.update=_n.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=Nn;xe.fromString=_T;var aP=function(){return new Uu},lP=function(){return Mc()},uh=$c,uP=jS,cP=Ri,Xy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fP=Ba,Ol=US,hP=Xe,dP=_n,co=xe;const Jy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Rm("@firebase/firestore");function Zy(){return Si.logLevel}function ce(t,...e){if(Si.logLevel<=Ne.DEBUG){const n=e.map(rg);Si.debug(`Firestore (${Vo}): ${t}`,...n)}}function rr(t,...e){if(Si.logLevel<=Ne.ERROR){const n=e.map(rg);Si.error(`Firestore (${Vo}): ${t}`,...n)}}function Oo(t,...e){if(Si.logLevel<=Ne.WARN){const n=e.map(rg);Si.warn(`Firestore (${Vo}): ${t}`,...n)}}function rg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw rr(e),new Error(e)}function Be(t,e){t||pe()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class mP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gP{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new ST(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Tt(e)}}class vP{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yP{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new vP(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EP{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.T=n.token,new wP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_P(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function Io(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new at(0,0))}static max(){return new we(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends fa{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const SP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends fa{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return SP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(je.fromString(e))}static fromName(e){return new he(je.fromString(e).popFirst(5))}static empty(){return new he(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new je(e.slice()))}}function TP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Br(i,he.empty(),e)}function bP(t){return new Br(t.readTime,t.key,-1)}class Br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Br(we.min(),he.empty(),-1)}static max(){return new Br(we.max(),he.empty(),-1)}}function kP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==OP)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Ha(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}ig.ct=-1;function Hc(t){return t==null}function Vu(t){return t===0&&1/t==-1/0}function NP(t){return typeof t=="number"&&Number.isInteger(t)&&!Vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??mt.RED,this.left=i??mt.EMPTY,this.right=o??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new mt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new mt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new vn([])}unionWith(e){let n=new At(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kT("Invalid base64 string: "+i):i}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const CP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Be(!!t),typeof t=="string"){let e=0;const n=CP.exec(t);if(Be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sg(t){const e=t.mapValue.fields.__previous_value__;return og(e)?sg(e):e}function ha(t){const e=qr(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,r,i,o,s,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class da{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new da("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof da&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?og(t)?4:xP(t)?9007199254740991:10:pe()}function Ln(t,e){if(t===e)return!0;const n=bi(t);if(n!==bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ha(t).isEqual(ha(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=qr(r.timestampValue),s=qr(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ti(r.bytesValue).isEqual(Ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return tt(r.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tt(r.integerValue)===tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=tt(r.doubleValue),s=tt(i.doubleValue);return o===s?Vu(o)===Vu(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Io(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(e0(o)!==e0(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Ln(o[a],s[a])))return!1;return!0}(t,e);default:return pe()}}function pa(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function No(t,e){if(t===e)return 0;const n=bi(t),r=bi(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=tt(i.integerValue||i.doubleValue),a=tt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return n0(t.timestampValue,e.timestampValue);case 4:return n0(ha(t),ha(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Ti(i),a=Ti(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=Ce(s[l],a[l]);if(u!==0)return u}return Ce(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Ce(tt(i.latitude),tt(o.latitude));return s!==0?s:Ce(tt(i.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=No(s[l],a[l]);if(u)return u}return Ce(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Nl.mapValue&&o===Nl.mapValue)return 0;if(i===Nl.mapValue)return 1;if(o===Nl.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=Ce(a[c],u[c]);if(h!==0)return h;const f=No(s[a[c]],l[u[c]]);if(f!==0)return f}return Ce(a.length,u.length)}(t.mapValue,e.mapValue);default:throw pe()}}function n0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=qr(t),r=qr(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function Co(t){return Hd(t)}function Hd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=qr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ti(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,he.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=Hd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${Hd(r.fields[a])}`;return o+"}"}(t.mapValue):pe();var e,n}function r0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kd(t){return!!t&&"integerValue"in t}function ag(t){return!!t&&"arrayValue"in t}function i0(t){return!!t&&"nullValue"in t}function o0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kl(t){return!!t&&"mapValue"in t}function Ls(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ls(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ls(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ls(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ls(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Kl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new sn(Ls(this.value))}}function OT(t){const e=[];return zo(t.fields,(n,r)=>{const i=new It([n]);if(Kl(r)){const o=OT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,we.min(),we.min(),we.min(),sn.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,we.min(),we.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,we.min(),we.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.position=e,this.inclusive=n}}function s0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=No(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function a0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n="asc"){this.field=e,this.dir=n}}function RP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class rt extends IT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DP(e,n,r):n==="array-contains"?new $P(e,r):n==="in"?new FP(e,r):n==="not-in"?new jP(e,r):n==="array-contains-any"?new UP(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LP(e,r):new MP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(No(n,this.value)):n!==null&&bi(this.value)===bi(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends IT{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Sn(e,n)}matches(e){return NT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function NT(t){return t.op==="and"}function CT(t){return PP(t)&&NT(t)}function PP(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function Wd(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(CT(t))return t.filters.map(e=>Wd(e)).join(",");{const e=t.filters.map(n=>Wd(n)).join(",");return`${t.op}(${e})`}}function AT(t,e){return t instanceof rt?function(n,r){return r instanceof rt&&n.op===r.op&&n.field.isEqual(r.field)&&Ln(n.value,r.value)}(t,e):t instanceof Sn?function(n,r){return r instanceof Sn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&AT(o,r.filters[s]),!0):!1}(t,e):void pe()}function xT(t){return t instanceof rt?function(e){return`${e.field.canonicalString()} ${e.op} ${Co(e.value)}`}(t):t instanceof Sn?function(e){return e.op.toString()+" {"+e.getFilters().map(xT).join(" ,")+"}"}(t):"Filter"}class DP extends rt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class LP extends rt{constructor(e,n){super(e,"in",n),this.keys=RT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MP extends rt{constructor(e,n){super(e,"not-in",n),this.keys=RT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class $P extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ag(n)&&pa(n.arrayValue,this.value)}}class FP extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pa(this.value.arrayValue,n)}}class jP extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pa(this.value.arrayValue,n)}}class UP extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function l0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new BP(t,e,n,r,i,o,s)}function lg(t){const e=_e(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Hc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.ft=n}return e.ft}function ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a0(t.startAt,e.startAt)&&a0(t.endAt,e.endAt)}function Gd(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function qP(t,e,n,r,i,o,s,a){return new Ho(t,e,n,r,i,o,s,a)}function cg(t){return new Ho(t)}function u0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fg(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Kc(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function PT(t){return t.collectionGroup!==null}function ho(t){const e=_e(t);if(e.dt===null){e.dt=[];const n=Kc(e),r=fg(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new fo(n)),e.dt.push(new fo(It.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new fo(It.keyField(),o))}}}return e.dt}function ir(t){const e=_e(t);if(!e._t)if(e.limitType==="F")e._t=l0(e.path,e.collectionGroup,ho(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ho(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new fo(o.field,s))}const r=e.endAt?new zu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zu(e.startAt.position,e.startAt.inclusive):null;e._t=l0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Qd(t,e){e.getFirstInequalityField(),Kc(t);const n=t.filters.concat([e]);return new Ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hu(t,e,n){return new Ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wc(t,e){return ug(ir(t),ir(e))&&t.limitType===e.limitType}function DT(t){return`${lg(ir(t))}|lt:${t.limitType}`}function Yd(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>xT(r)).join(", ")}]`),Hc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),`Target(${n})`}(ir(t))}; limitType=${t.limitType})`}function Gc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):he.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ho(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=s0(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,ho(n),r)||n.endAt&&!function(i,o,s){const a=s0(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,ho(n),r))}(t,e)}function VP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LT(t){return(e,n)=>{let r=!1;for(const i of ho(t)){const o=zP(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function zP(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?No(a,l):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new Qe(he.comparator);function or(){return HP}const MT=new Qe(he.comparator);function Ss(...t){let e=MT;for(const n of t)e=e.insert(n.key,n);return e}function $T(t){let e=MT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function li(){return Ms()}function FT(){return Ms()}function Ms(){return new Ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const KP=new Qe(he.comparator),WP=new At(he.comparator);function be(...t){let e=WP;for(const n of t)e=e.add(n);return e}const GP=new At(Ce);function QP(){return GP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(e)?"-0":e}}function UT(t){return{integerValue:""+t}}function YP(t,e){return NP(e)?UT(e):jT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function XP(t,e,n){return t instanceof Ku?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&og(i)&&(i=sg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ma?qT(t,e):t instanceof ga?VT(t,e):function(r,i){const o=BT(r,i),s=c0(o)+c0(r.wt);return Kd(o)&&Kd(r.wt)?UT(s):jT(r.serializer,s)}(t,e)}function JP(t,e,n){return t instanceof ma?qT(t,e):t instanceof ga?VT(t,e):n}function BT(t,e){return t instanceof Wu?Kd(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ku extends Qc{}class ma extends Qc{constructor(e){super(),this.elements=e}}function qT(t,e){const n=zT(e);for(const r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}class ga extends Qc{constructor(e){super(),this.elements=e}}function VT(t,e){let n=zT(e);for(const r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}class Wu extends Qc{constructor(e,n){super(),this.serializer=e,this.wt=n}}function c0(t){return tt(t.integerValue||t.doubleValue)}function zT(t){return ag(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZP(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ma&&r instanceof ma||n instanceof ga&&r instanceof ga?Io(n.elements,r.elements,Ln):n instanceof Wu&&r instanceof Wu?Ln(n.wt,r.wt):n instanceof Ku&&r instanceof Ku}(t.transform,e.transform)}class eD{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yc{}function HT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hg(t.key,xn.none()):new Ka(t.key,t.data,xn.none());{const n=t.data,r=sn.empty();let i=new At(It.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Pi(t.key,r,new vn(i.toArray()),xn.none())}}function tD(t,e,n){t instanceof Ka?function(r,i,o){const s=r.value.clone(),a=h0(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(r,i,o){if(!Wl(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=h0(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(KT(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $s(t,e,n,r){return t instanceof Ka?function(i,o,s,a){if(!Wl(i.precondition,o))return s;const l=i.value.clone(),u=d0(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(i,o,s,a){if(!Wl(i.precondition,o))return s;const l=d0(i.fieldTransforms,a,o),u=o.data;return u.setAll(KT(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return Wl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function nD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=BT(r.transform,i||null);o!=null&&(n===null&&(n=sn.empty()),n.set(r.field,o))}return n||null}function f0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Io(n,r,(i,o)=>ZP(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ka extends Yc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pi extends Yc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function h0(t,e,n){const r=new Map;Be(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,JP(s,a,n[i]))}return r}function d0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,XP(o,s,e))}return r}class hg extends Yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rD extends Yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&tD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$s(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$s(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=HT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(n,r)=>f0(n,r))&&Io(this.baseMutations,e.baseMutations,(n,r)=>f0(n,r))}}class dg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Be(e.mutations.length===r.length);let i=KP;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new dg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Oe;function aD(t){switch(t){default:return pe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function WT(t){if(t===void 0)return rr("GRPC error has no .code"),X.UNKNOWN;switch(t){case et.OK:return X.OK;case et.CANCELLED:return X.CANCELLED;case et.UNKNOWN:return X.UNKNOWN;case et.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case et.INTERNAL:return X.INTERNAL;case et.UNAVAILABLE:return X.UNAVAILABLE;case et.UNAUTHENTICATED:return X.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case et.NOT_FOUND:return X.NOT_FOUND;case et.ALREADY_EXISTS:return X.ALREADY_EXISTS;case et.PERMISSION_DENIED:return X.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case et.ABORTED:return X.ABORTED;case et.OUT_OF_RANGE:return X.OUT_OF_RANGE;case et.UNIMPLEMENTED:return X.UNIMPLEMENTED;case et.DATA_LOSS:return X.DATA_LOSS;default:return pe()}}(Oe=et||(et={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Cl}static getOrCreateInstance(){return Cl===null&&(Cl=new pg),Cl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Cl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new co([4294967295,4294967295],0);function p0(t){const e=lD().encode(t),n=new dP;return n.update(e),new Uint8Array(n.digest())}function m0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new co([n,r],0),new co([i,o],0)]}class mg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ts(`Invalid padding: ${n}`);if(r<0)throw new Ts(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ts(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ts(`Invalid padding when bitmap length is 0: ${n}`);this.yt=8*e.length-n,this.It=co.fromNumber(this.yt)}Tt(e,n,r){let i=e.add(n.multiply(co.fromNumber(r)));return i.compare(uD)===1&&(i=new co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}At(e){if(this.yt===0)return!1;const n=p0(e),[r,i]=m0(n);for(let o=0;o<this.hashCount;o++){const s=this.Tt(r,i,o);if(!this.Et(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new mg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.yt===0)return;const n=p0(e),[r,i]=m0(n);for(let o=0;o<this.hashCount;o++){const s=this.Tt(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ts extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xc(we.min(),i,new Qe(Ce),or(),be())}}class Wa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wa(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r,i){this.vt=e,this.removedTargetIds=n,this.key=r,this.Pt=i}}class GT{constructor(e,n){this.targetId=e,this.bt=n}}class QT{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g0{constructor(){this.Vt=0,this.St=y0(),this.Dt=Pt.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return this.Vt!==0}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=be(),n=be(),r=be();return this.St.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Wa(this.Dt,this.Ct,e,n,r)}$t(){this.xt=!1,this.St=y0()}Ft(e,n){this.xt=!0,this.St=this.St.insert(e,n)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class cD{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=or(),this.jt=v0(),this.zt=new Qe(Ce)}Wt(e){for(const n of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(n,e.Pt):this.Jt(n,e.key,e.Pt);for(const n of e.removedTargetIds)this.Jt(n,e.key,e.Pt)}Yt(e){this.forEachTarget(e,n=>{const r=this.Xt(n);switch(e.state){case 0:this.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(n);break;case 3:this.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(n)&&(this.te(n),r.Mt(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Gt.forEach((r,i)=>{this.Zt(i)&&n(i)})}ee(e){var n;const r=e.targetId,i=e.bt.count,o=this.ne(r);if(o){const s=o.target;if(Gd(s))if(i===0){const a=new he(s.path);this.Jt(r,a,kt.newNoDocument(a,we.min()))}else Be(i===1);else{const a=this.se(r);if(a!==i){const l=this.ie(e,a);if(l!==0){this.te(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(r,u)}(n=pg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,h){var f,d,y,v,E,m;const p={localCacheCount:c,existenceFilterCount:h.count},w=h.unchangedNames;return w&&(p.bloomFilter={applied:u===0,hashCount:(f=w==null?void 0:w.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(v=(y=(d=w==null?void 0:w.bits)===null||d===void 0?void 0:d.bitmap)===null||y===void 0?void 0:y.length)!==null&&v!==void 0?v:0,padding:(m=(E=w==null?void 0:w.bits)===null||E===void 0?void 0:E.padding)!==null&&m!==void 0?m:0}),p}(l,a,e.bt))}}}}ie(e,n){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=Ti(o).toUint8Array()}catch(c){if(c instanceof kT)return Oo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new mg(l,s,a)}catch(c){return Oo(c instanceof Ts?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.yt===0?1:i!==n-this.re(e.targetId,u)?2:0}re(e,n){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Kt.oe(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.At(a)||(this.Jt(e,o,null),i++)}),i}ue(e){const n=new Map;this.Gt.forEach((o,s)=>{const a=this.ne(s);if(a){if(o.current&&Gd(a.target)){const l=new he(a.target.path);this.Qt.get(l)!==null||this.ce(s,l)||this.Jt(s,l,kt.newNoDocument(l,e))}o.kt&&(n.set(s,o.Ot()),o.$t())}});let r=be();this.jt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ne(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qt.forEach((o,s)=>s.setReadTime(e));const i=new Xc(e,n,this.zt,this.Qt,r);return this.Qt=or(),this.jt=v0(),this.zt=new Qe(Ce),i}Ht(e,n){if(!this.Zt(e))return;const r=this.ce(e,n.key)?2:0;this.Xt(e).Ft(n.key,r),this.Qt=this.Qt.insert(n.key,n),this.jt=this.jt.insert(n.key,this.ae(n.key).add(e))}Jt(e,n,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,n)?i.Ft(n,1):i.Bt(n),this.jt=this.jt.insert(n,this.ae(n).delete(e)),r&&(this.Qt=this.Qt.insert(n,r))}removeTarget(e){this.Gt.delete(e)}se(e){const n=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let n=this.Gt.get(e);return n||(n=new g0,this.Gt.set(e,n)),n}ae(e){let n=this.jt.get(e);return n||(n=new At(Ce),this.jt=this.jt.insert(e,n)),n}Zt(e){const n=this.ne(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ne(e){const n=this.Gt.get(e);return n&&n.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new g0),this.Kt.getRemoteKeysForTarget(e).forEach(n=>{this.Jt(e,n,null)})}ce(e,n){return this.Kt.getRemoteKeysForTarget(e).has(n)}}function v0(){return new Qe(he.comparator)}function y0(){return new Qe(he.comparator)}const fD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),dD=(()=>({and:"AND",or:"OR"}))();class pD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xd(t,e){return t.useProto3Json||Hc(e)?e:{value:e}}function Gu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mD(t,e){return Gu(t,e.toTimestamp())}function Rn(t){return Be(!!t),we.fromTimestamp(function(e){const n=qr(e);return new at(n.seconds,n.nanos)}(t))}function gg(t,e){return function(n){return new je(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function XT(t){const e=je.fromString(t);return Be(tb(e)),e}function Jd(t,e){return gg(t.databaseId,e.path)}function ch(t,e){const n=XT(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(JT(n))}function Zd(t,e){return gg(t.databaseId,e)}function gD(t){const e=XT(t);return e.length===4?je.emptyPath():JT(e)}function ep(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JT(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function w0(t,e,n){return{name:Jd(t,e),fields:n.value.mapValue.fields}}function vD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Be(u===void 0||typeof u=="string"),Pt.fromBase64String(u||"")):(Be(u===void 0||u instanceof Uint8Array),Pt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?X.UNKNOWN:WT(l.code);return new ae(u,l.message||"")}(s);n=new QT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ch(t,r.document.name),o=Rn(r.document.updateTime),s=r.document.createTime?Rn(r.document.createTime):we.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Gl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ch(t,r.document),o=r.readTime?Rn(r.readTime):we.min(),s=kt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Gl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ch(t,r.document),o=r.removedTargetIds||[];n=new Gl([],o,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new sD(i,o),a=r.targetId;n=new GT(a,s)}}return n}function yD(t,e){let n;if(e instanceof Ka)n={update:w0(t,e.key,e.value)};else if(e instanceof hg)n={delete:Jd(t,e.key)};else if(e instanceof Pi)n={update:w0(t,e.key,e.data),updateMask:ID(e.fieldMask)};else{if(!(e instanceof rD))return pe();n={verify:Jd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof ma)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ga)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Wu)return{fieldPath:o.field.canonicalString(),increment:s.wt};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:mD(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:pe()}(t,e.precondition)),n}function wD(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?Rn(r.updateTime):Rn(i);return o.isEqual(we.min())&&(o=Rn(i)),new eD(o,r.transformResults||[])}(n,e))):[]}function ED(t,e){return{documents:[Zd(t,e.path)]}}function _D(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Zd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return eb(Sn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ui(c.field),direction:bD(c.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Xd(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function SD(t){let e=gD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const h=ZT(c);return h instanceof Sn&&CT(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(h){return new fo(Bi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Hc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new zu(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new zu(f,h)}(n.endAt)),qP(e,i,s,o,a,"F",l,u)}function TD(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZT(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Bi(e.unaryFilter.field);return rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Bi(e.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bi(e.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bi(e.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(e){return rt.create(Bi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Sn.create(e.compositeFilter.filters.map(n=>ZT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return pe()}}(e.compositeFilter.op))}(t):pe()}function bD(t){return fD[t]}function kD(t){return hD[t]}function OD(t){return dD[t]}function Ui(t){return{fieldPath:t.canonicalString()}}function Bi(t){return It.fromServerFormat(t.fieldPath)}function eb(t){return t instanceof rt?function(e){if(e.op==="=="){if(o0(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NAN"}};if(i0(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(o0(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NOT_NAN"}};if(i0(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(e.field),op:kD(e.op),value:e.value}}}(t):t instanceof Sn?function(e){const n=e.getFilters().map(r=>eb(r));return n.length===1?n[0]:{compositeFilter:{op:OD(e.op),filters:n}}}(t):pe()}function ID(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,i,o=we.min(),s=we.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.le=e}}function CD(t){const e=SD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.sn=new xD}addToCollectionParentIndex(e,n){return this.sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Br.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class xD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ao(0)}static kn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.changes=new Ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$s(r.mutation,i,vn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ss();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=or();const s=Ms(),a=Ms();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Pi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),$s(c.mutation,u,c.mutation.getFieldMask(),at.now())):s.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new PD(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ms();let i=new Qe((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||vn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||be()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=FT();c.forEach(f=>{if(!o.has(f)){const d=HT(n.get(f),r.get(f));d!==null&&h.set(f,d),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(li());let a=-1,l=o;return s.next(u=>ee.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?ee.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,be())).next(c=>({batchId:a,changes:$T(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Ss();return this.indexManager.getCollectionParents(e,i).next(s=>ee.forEach(s,a=>{const l=function(u,c){return new Ho(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{o=o.insert(c,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,kt.newInvalidDocument(u)))});let s=Ss();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&$s(u.mutation,l,vn.empty(),at.now()),Gc(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,n){return ee.resolve(this.us.get(n))}saveBundleMetadata(e,n){var r;return this.us.set(n.id,{id:(r=n).id,version:r.version,createTime:Rn(r.createTime)}),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.cs.get(n))}saveNamedQuery(e,n){return this.cs.set(n.name,function(r){return{name:r.name,query:CD(r.bundledQuery),readTime:Rn(r.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.overlays=new Qe(he.comparator),this.hs=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=li();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.de(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hs.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=li(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qe((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=li(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=li(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ee.resolve(a)}de(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new oD(n,r));let o=this.hs.get(n);o===void 0&&(o=be(),this.hs.set(n,o)),this.hs.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.ls=new At(ut.fs),this.ds=new At(ut._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,n){const r=new ut(e,n);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gs(new ut(e,n))}ys(e,n){e.forEach(r=>this.removeReference(r,n))}ps(e){const n=new he(new je([])),r=new ut(n,e),i=new ut(n,e+1),o=[];return this.ds.forEachInRange([r,i],s=>{this.gs(s),o.push(s.key)}),o}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const n=new he(new je([])),r=new ut(n,e),i=new ut(n,e+1);let o=be();return this.ds.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ut(e,0),r=this.ls.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Es=n}static fs(e,n){return he.comparator(e.key,n.key)||Ce(e.Es,n.Es)}static _s(e,n){return Ce(e.Es,n.Es)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new At(ut.fs)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new iD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(e,n){return ee.resolve(this.vs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ps(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.vs(s.Es);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ce);return n.forEach(i=>{const o=new ut(i,0),s=new ut(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.Es)})}),ee.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new ut(new he(o),0);let a=new At(Ce);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Es)),!0)},s),ee.resolve(this.bs(a))}bs(e){const n=[];return e.forEach(r=>{const i=this.vs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.Vs(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(n.mutations,i=>{const o=new ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,n){const r=new ut(n,0),i=this.Rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Vs(e,n){return this.Ps(e)}Ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}vs(e){const n=this.Ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.Ss=e,this.docs=new Qe(he.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ss(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kt.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=or();const s=n.path,a=new he(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||kP(bP(c),r)<=0||(i.has(c.key)||Gc(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){pe()}Ds(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jD(this)}getSize(e){return ee.resolve(this.size)}}class jD extends RD{constructor(e){super(),this.rs=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.rs.getEntry(e,n)}getAllFromCache(e,n){return this.rs.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.persistence=e,this.Cs=new Ko(n=>lg(n),ug),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.xs=0,this.Ns=new vg,this.targetCount=0,this.ks=Ao.Nn()}forEachTarget(e,n){return this.Cs.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.xs&&(this.xs=n),ee.resolve()}$n(e){this.Cs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ks=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,n){return this.$n(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.$n(n),ee.resolve()}removeTargetData(e,n){return this.Cs.delete(n.target),this.Ns.ps(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Cs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cs.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Ns.ws(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Ns.ys(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ns.ps(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ns.Ts(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Ns.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.Ms={},this.overlays={},this.Os=new ig(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new UD(this),this.indexManager=new AD,this.remoteDocumentCache=function(r){return new FD(r)}(r=>this.referenceDelegate.Bs(r)),this.serializer=new ND(n),this.Ls=new LD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ms[e.toKey()];return r||(r=new $D(n,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new qD(this.Os.next());return this.referenceDelegate.qs(),r(i).next(o=>this.referenceDelegate.Us(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ks(e,n){return ee.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,n)))}}class qD extends IP{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Gs=new vg,this.Qs=null}static js(e){return new yg(e)}get zs(){if(this.Qs)return this.Qs;throw pe()}addReference(e,n,r){return this.Gs.addReference(r,n),this.zs.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Gs.removeReference(r,n),this.zs.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.zs.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Gs.ps(n.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.zs.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}qs(){this.Qs=new Set}Us(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.zs,r=>{const i=he.fromPath(r);return this.Ws(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.Qs=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ws(e,n).next(r=>{r?this.zs.delete(n.toString()):this.zs.add(n.toString())})}Bs(e){return 0}Ws(e,n){return ee.or([()=>ee.resolve(this.Gs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ks(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Fi=i}static Bi(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new wg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.Li=!1}initialize(e,n){this.qi=e,this.indexManager=n,this.Li=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ui(e,n).next(o=>o||this.Ki(e,n,i,r)).next(o=>o||this.Gi(e,n))}Ui(e,n){if(u0(n))return ee.resolve(null);let r=ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hu(n,null,"F"),r=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.qi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Qi(n,a);return this.ji(n,u,s,l.readTime)?this.Ui(e,Hu(n,null,"F")):this.zi(e,u,n,l)}))})))}Ki(e,n,r,i){return u0(n)||i.isEqual(we.min())?this.Gi(e,n):this.qi.getDocuments(e,r).next(o=>{const s=this.Qi(n,o);return this.ji(n,s,r,i)?this.Gi(e,n):(Zy()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yd(n)),this.zi(e,s,n,TP(i,-1)))})}Qi(e,n){let r=new At(LT(e));return n.forEach((i,o)=>{Gc(e,o)&&(r=r.add(o))}),r}ji(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Gi(e,n){return Zy()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Yd(n)),this.qi.getDocumentsMatchingQuery(e,n,Br.min())}zi(e,n,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i){this.persistence=e,this.Wi=n,this.serializer=i,this.Hi=new Qe(Ce),this.Ji=new Ko(o=>lg(o),ug),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DD(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Hi))}}function HD(t,e,n,r){return new zD(t,e,n,r)}async function nb(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Zi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=be();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({tr:u,removedBatchIds:s,addedBatchIds:a}))})})}function KD(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const c=l.batch,h=c.keys();let f=ee.resolve();return h.forEach(d=>{f=f.next(()=>u.getEntry(a,d)).next(y=>{const v=l.docVersions.get(d);Be(v!==null),y.version.compareTo(v)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),f.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=be();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rb(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Fs.getLastRemoteSnapshotVersion(n))}function WD(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Fs.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Fs.addMatchingKeys(o,c.addedDocuments,h)));let d=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(Pt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(y,v,E){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,d,c)&&a.push(n.Fs.updateTargetData(o,d))});let l=or(),u=be();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(GD(o,s,e.documentUpdates).next(c=>{l=c.er,u=c.nr})),!r.isEqual(we.min())){const c=n.Fs.getLastRemoteSnapshotVersion(o).next(h=>n.Fs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Hi=i,o))}function GD(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=or();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{er:s,nr:i}})}function QD(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YD(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Fs.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Fs.allocateTargetId(r).next(s=>(i=new kr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Hi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(r.targetId,r),n.Ji.set(e,r.targetId)),r})}async function tp(t,e,n){const r=_e(t),i=r.Hi.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ha(s))throw s;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}function E0(t,e,n){const r=_e(t);let i=we.min(),o=be();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const c=_e(a),h=c.Ji.get(u);return h!==void 0?ee.resolve(c.Hi.get(h)):c.Fs.getTargetData(l,u)}(r,s,ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Wi.getDocumentsMatchingQuery(s,e,n?i:we.min(),n?o:be())).next(a=>(XD(r,VP(e),a),{documents:a,sr:o})))}function XD(t,e,n){let r=t.Yi.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Yi.set(e,r)}class _0{constructor(){this.activeTargetIds=QP()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(){this.Wr=new _0,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,n,r){this.Hr[e]=n}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new _0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{Jr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=null;function fh(){return Al===null?Al=268435456+Math.round(2147483648*Math.random()):Al++,"0x"+Al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class nL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.wo=n+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,n,r,i,o){const s=fh(),a=this.Io(e,n);ce("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.To(l,i,o),this.Eo(e,a,l,r).then(u=>(ce("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Oo("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}Ao(e,n,r,i,o,s){return this.po(e,n,r,i,o)}To(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Io(e,n){const r=eL[e];return`${this.wo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,n,r,i){const o=fh();return new Promise((s,a)=>{const l=new hP;l.setWithCredentials(!0),l.listenOnce(uP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case uh.NO_ERROR:const c=l.getResponseJson();ce(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case uh.TIMEOUT:ce(St,`RPC '${e}' ${o} timed out`),a(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const h=l.getStatus();if(ce(St,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const y=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(E)>=0?E:X.UNKNOWN}(d.status);a(new ae(y,d.message))}else a(new ae(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(X.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{ce(St,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ce(St,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=fh(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aP(),a=lP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new fP({})),this.To(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");ce(St,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=s.createWebChannel(u,l);let h=!1,f=!1;const d=new tL({io:v=>{f?ce(St,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ce(St,`Opening RPC '${e}' stream ${i} transport.`),c.open(),h=!0),ce(St,`RPC '${e}' stream ${i} sending:`,v),c.send(v))},ro:()=>c.close()}),y=(v,E,m)=>{v.listen(E,p=>{try{m(p)}catch(w){setTimeout(()=>{throw w},0)}})};return y(c,Ol.EventType.OPEN,()=>{f||ce(St,`RPC '${e}' stream ${i} transport opened.`)}),y(c,Ol.EventType.CLOSE,()=>{f||(f=!0,ce(St,`RPC '${e}' stream ${i} transport closed`),d.fo())}),y(c,Ol.EventType.ERROR,v=>{f||(f=!0,Oo(St,`RPC '${e}' stream ${i} transport errored:`,v),d.fo(new ae(X.UNAVAILABLE,"The operation could not be completed")))}),y(c,Ol.EventType.MESSAGE,v=>{var E;if(!f){const m=v.data[0];Be(!!m);const p=m,w=p.error||((E=p[0])===null||E===void 0?void 0:E.error);if(w){ce(St,`RPC '${e}' stream ${i} received error:`,w);const g=w.status;let _=function(S){const b=et[S];if(b!==void 0)return WT(b)}(g),O=w.message;_===void 0&&(_=X.INTERNAL,O="Unknown error status: "+g+" with message "+w.message),f=!0,d.fo(new ae(_,O)),c.close()}else ce(St,`RPC '${e}' stream ${i} received:`,m),d._o(m)}}),y(a,cP.STAT_EVENT,v=>{v.stat===Xy.PROXY?ce(St,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Xy.NOPROXY&&ce(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.lo()},0),d}}function hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){return new pD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.vo=r,this.Po=i,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Mo=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new ib(e,n)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,n){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,e!==4?this.Lo.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===n&&this.Xo(r,i)},r=>{e(()=>{const i=new ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,n){const r=this.Yo(this.$o);this.stream=this.tu(e,n),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return n=>{this.si.enqueueAndForget(()=>this.$o===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rL extends ob{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}tu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.Lo.reset();const n=vD(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Rn(o.readTime):we.min()}(e);return this.listener.eu(n,r)}nu(e){const n={};n.database=ep(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=Gd(a)?{documents:ED(i,a)}:{query:_D(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=YT(i,o.resumeToken);const l=Xd(i,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(we.min())>0){s.readTime=Gu(i,o.snapshotVersion.toTimestamp());const l=Xd(i,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=TD(this.serializer,e);r&&(n.labels=r),this.zo(n)}su(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.zo(n)}}class iL extends ob{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const n=wD(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.uu(r,n)}return Be(!e.writeResults||e.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const e={};e.database=ep(this.serializer),this.zo(e)}ou(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yD(this.serializer,r))};this.zo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.po(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(X.UNKNOWN,i.toString())})}Ao(e,n,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ao(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(X.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class sL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,e==="Online"&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(rr(n),this.wu=!1):ce("OnlineStateTracker",n)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(s=>{r.enqueueAndForget(async()=>{Di(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=_e(a);l.Au.add(4),await Ga(l),l.Pu.set("Unknown"),l.Au.delete(4),await Zc(l)}(this))})}),this.Pu=new sL(r,i)}}async function Zc(t){if(Di(t))for(const e of t.Ru)await e(!0)}async function Ga(t){for(const e of t.Ru)await e(!1)}function sb(t,e){const n=_e(t);n.Eu.has(e.targetId)||(n.Eu.set(e.targetId,e),Sg(n)?_g(n):Wo(n).Uo()&&Eg(n,e))}function ab(t,e){const n=_e(t),r=Wo(n);n.Eu.delete(e),r.Uo()&&lb(n,e),n.Eu.size===0&&(r.Uo()?r.Qo():Di(n)&&n.Pu.set("Unknown"))}function Eg(t,e){if(t.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(t).nu(e)}function lb(t,e){t.bu.Lt(e),Wo(t).su(e)}function _g(t){t.bu=new cD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),he:e=>t.Eu.get(e)||null,oe:()=>t.datastore.serializer.databaseId}),Wo(t).start(),t.Pu.mu()}function Sg(t){return Di(t)&&!Wo(t).qo()&&t.Eu.size>0}function Di(t){return _e(t).Au.size===0}function ub(t){t.bu=void 0}async function lL(t){t.Eu.forEach((e,n)=>{Eg(t,e)})}async function uL(t,e){ub(t),Sg(t)?(t.Pu.pu(e),_g(t)):t.Pu.set("Unknown")}async function cL(t,e,n){if(t.Pu.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Eu.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Eu.delete(s),r.bu.removeTarget(s))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qu(t,r)}else if(e instanceof Gl?t.bu.Wt(e):e instanceof GT?t.bu.ee(e):t.bu.Yt(e),!n.isEqual(we.min()))try{const r=await rb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.bu.ue(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Eu.get(l);u&&i.Eu.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const u=i.Eu.get(a);if(!u)return;i.Eu.set(a,u.withResumeToken(Pt.EMPTY_BYTE_STRING,u.snapshotVersion)),lb(i,a);const c=new kr(u.target,a,l,u.sequenceNumber);Eg(i,c)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Qu(t,r)}}async function Qu(t,e,n){if(!Ha(e))throw e;t.Au.add(1),await Ga(t),t.Pu.set("Offline"),n||(n=()=>rb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.Au.delete(1),await Zc(t)})}function cb(t,e){return e().catch(n=>Qu(t,n,e))}async function ef(t){const e=_e(t),n=Vr(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;fL(e);)try{const i=await QD(e.localStore,r);if(i===null){e.Tu.length===0&&n.Qo();break}r=i.batchId,hL(e,i)}catch(i){await Qu(e,i)}fb(e)&&hb(e)}function fL(t){return Di(t)&&t.Tu.length<10}function hL(t,e){t.Tu.push(e);const n=Vr(t);n.Uo()&&n.ru&&n.ou(e.mutations)}function fb(t){return Di(t)&&!Vr(t).qo()&&t.Tu.length>0}function hb(t){Vr(t).start()}async function dL(t){Vr(t).au()}async function pL(t){const e=Vr(t);for(const n of t.Tu)e.ou(n.mutations)}async function mL(t,e,n){const r=t.Tu.shift(),i=dg.from(r,e,n);await cb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ef(t)}async function gL(t,e){e&&Vr(t).ru&&await async function(n,r){if(i=r.code,aD(i)&&i!==X.ABORTED){const o=n.Tu.shift();Vr(n).Go(),await cb(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await ef(n)}var i}(t,e),fb(t)&&hb(t)}async function T0(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=Di(n);n.Au.add(3),await Ga(n),r&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Au.delete(3),await Zc(n)}async function vL(t,e){const n=_e(t);e?(n.Au.delete(2),await Zc(n)):e||(n.Au.add(2),await Ga(n),n.Pu.set("Unknown"))}function Wo(t){return t.Vu||(t.Vu=function(e,n,r){const i=_e(e);return i.lu(),new rL(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:lL.bind(null,t),co:uL.bind(null,t),eu:cL.bind(null,t)}),t.Ru.push(async e=>{e?(t.Vu.Go(),Sg(t)?_g(t):t.Pu.set("Unknown")):(await t.Vu.stop(),ub(t))})),t.Vu}function Vr(t){return t.Su||(t.Su=function(e,n,r){const i=_e(e);return i.lu(),new iL(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:dL.bind(null,t),co:gL.bind(null,t),cu:pL.bind(null,t),uu:mL.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Go(),await ef(t)):(await t.Su.stop(),t.Tu.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.Tu.length} pending writes`),t.Tu=[]))})),t.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Tg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(t,e){if(rr("AsyncQueue",`${e}: ${t}`),Ha(t))return new ae(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Ss(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.Du=new Qe(he.comparator)}track(e){const n=e.doc.key,r=this.Du.get(n);r?e.type!==0&&r.type===3?this.Du=this.Du.insert(n,e):e.type===3&&r.type!==1?this.Du=this.Du.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Du=this.Du.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Du=this.Du.remove(n):e.type===1&&r.type===2?this.Du=this.Du.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):pe():this.Du=this.Du.insert(n,e)}Cu(){const e=[];return this.Du.inorderTraversal((n,r)=>{e.push(r)}),e}}class xo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new xo(e,n,po.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.xu=void 0,this.listeners=[]}}class wL{constructor(){this.queries=new Ko(e=>DT(e),Wc),this.onlineState="Unknown",this.Nu=new Set}}async function db(t,e){const n=_e(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new yL),i)try{o.xu=await n.onListen(r)}catch(s){const a=bg(s,`Initialization of query '${Yd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.ku(n.onlineState),o.xu&&e.Mu(o.xu)&&kg(n)}async function pb(t,e){const n=_e(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function EL(t,e){const n=_e(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.Mu(i)&&(r=!0);s.xu=i}}r&&kg(n)}function _L(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function kg(t){t.Nu.forEach(e=>{e.next()})}class mb{constructor(e,n,r){this.query=e,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),n=!0):this.Lu(e,this.onlineState)&&(this.qu(e),n=!0),this.Fu=e,n}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let n=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),n=!0),n}Lu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Uu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Bu(e){if(e.docChanges.length>0)return!0;const n=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qu(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.key=e}}class vb{constructor(e){this.key=e}}class SL{constructor(e,n){this.query=e,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=be(),this.mutatedKeys=be(),this.Zu=LT(e),this.tc=new po(this.Zu)}get ec(){return this.Ju}nc(e,n){const r=n?n.sc:new b0,i=n?n.tc:this.tc;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=Gc(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let E=!1;f&&d?f.data.isEqual(d.data)?y!==v&&(r.track({type:3,doc:d}),E=!0):this.ic(f,d)||(r.track({type:2,doc:d}),E=!0,(l&&this.Zu(d,l)>0||u&&this.Zu(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),E=!0):f&&!d&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(d?(s=s.add(d),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tc:s,sc:r,ji:a,mutatedKeys:o}}ic(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const o=e.sc.Cu();o.sort((u,c)=>function(h,f){const d=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return d(h)-d(f)}(u.type,c.type)||this.Zu(u.doc,c.doc)),this.rc(r);const s=n?this.oc():[],a=this.Xu.size===0&&this.current?1:0,l=a!==this.Yu;return this.Yu=a,o.length!==0||l?{snapshot:new xo(this.query,e.tc,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:s}:{uc:s}}ku(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tc:this.tc,sc:new b0,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(n=>this.Ju=this.Ju.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ju=this.Ju.delete(n)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=be(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const n=[];return e.forEach(r=>{this.Xu.has(r)||n.push(new vb(r))}),this.Xu.forEach(r=>{e.has(r)||n.push(new gb(r))}),n}ac(e){this.Ju=e.sr,this.Xu=be();const n=this.nc(e.documents);return this.applyChanges(n,!0)}hc(){return xo.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,this.Yu===0,this.hasCachedResults)}}class TL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bL{constructor(e){this.key=e,this.lc=!1}}class kL{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fc={},this.dc=new Ko(a=>DT(a),Wc),this._c=new Map,this.wc=new Set,this.mc=new Qe(he.comparator),this.gc=new Map,this.yc=new vg,this.Ic={},this.Tc=new Map,this.Ec=Ao.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function OL(t,e){const n=ML(t);let r,i;const o=n.dc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.hc();else{const s=await YD(n.localStore,ir(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await IL(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&sb(n.remoteStore,s)}return i}async function IL(t,e,n,r,i){t.Rc=(h,f,d)=>async function(y,v,E,m){let p=v.view.nc(E);p.ji&&(p=await E0(y.localStore,v.query,!1).then(({documents:_})=>v.view.nc(_,p)));const w=m&&m.targetChanges.get(v.targetId),g=v.view.applyChanges(p,y.isPrimaryClient,w);return O0(y,v.targetId,g.uc),g.snapshot}(t,h,f,d);const o=await E0(t.localStore,e,!0),s=new SL(e,o.sr),a=s.nc(o.documents),l=Wa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);O0(t,n,u.uc);const c=new TL(e,n,s);return t.dc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function NL(t,e){const n=_e(t),r=n.dc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Wc(o,e))),void n.dc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await tp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ab(n.remoteStore,r.targetId),np(n,r.targetId)}).catch(za)):(np(n,r.targetId),await tp(n.localStore,r.targetId,!0))}async function CL(t,e,n){const r=$L(t);try{const i=await function(o,s){const a=_e(o),l=at.now(),u=s.reduce((f,d)=>f.add(d.key),be());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=or(),y=be();return a.Xi.getEntries(f,u).next(v=>{d=v,d.forEach((E,m)=>{m.isValidDocument()||(y=y.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(v=>{c=v;const E=[];for(const m of s){const p=nD(m,c.get(m.key).overlayedDocument);p!=null&&E.push(new Pi(m.key,p,OT(p.value.mapValue),xn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,E,s)}).next(v=>{h=v;const E=v.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(f,v.batchId,E)})}).then(()=>({batchId:h.batchId,changes:$T(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Ic[o.currentUser.toKey()];l||(l=new Qe(Ce)),l=l.insert(s,a),o.Ic[o.currentUser.toKey()]=l}(r,i.batchId,n),await Qa(r,i.changes),await ef(r.remoteStore)}catch(i){const o=bg(i,"Failed to persist write");n.reject(o)}}async function yb(t,e){const n=_e(t);try{const r=await WD(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.gc.get(o);s&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.lc=!0:i.modifiedDocuments.size>0?Be(s.lc):i.removedDocuments.size>0&&(Be(s.lc),s.lc=!1))}),await Qa(n,r,e)}catch(r){await za(r)}}function k0(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.dc.forEach((o,s)=>{const a=s.view.ku(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=_e(o);a.onlineState=s;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.ku(s)&&(l=!0)}),l&&kg(a)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AL(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.gc.get(e),o=i&&i.key;if(o){let s=new Qe(he.comparator);s=s.insert(o,kt.newNoDocument(o,we.min()));const a=be().add(o),l=new Xc(we.min(),new Map,new Qe(Ce),s,a);await yb(r,l),r.mc=r.mc.remove(o),r.gc.delete(e),Og(r)}else await tp(r.localStore,e,!1).then(()=>np(r,e,n)).catch(za)}async function xL(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await KD(n.localStore,e);Eb(n,r,null),wb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qa(n,i)}catch(i){await za(i)}}async function RL(t,e,n){const r=_e(t);try{const i=await function(o,s){const a=_e(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>(Be(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Eb(r,e,n),wb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qa(r,i)}catch(i){await za(i)}}function wb(t,e){(t.Tc.get(e)||[]).forEach(n=>{n.resolve()}),t.Tc.delete(e)}function Eb(t,e,n){const r=_e(t);let i=r.Ic[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function np(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.dc.delete(r),n&&t.fc.vc(r,n);t._c.delete(e),t.isPrimaryClient&&t.yc.ps(e).forEach(r=>{t.yc.containsKey(r)||_b(t,r)})}function _b(t,e){t.wc.delete(e.path.canonicalString());const n=t.mc.get(e);n!==null&&(ab(t.remoteStore,n),t.mc=t.mc.remove(e),t.gc.delete(n),Og(t))}function O0(t,e,n){for(const r of n)r instanceof gb?(t.yc.addReference(r.key,e),PL(t,r)):r instanceof vb?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.yc.removeReference(r.key,e),t.yc.containsKey(r.key)||_b(t,r.key)):pe()}function PL(t,e){const n=e.key,r=n.path.canonicalString();t.mc.get(n)||t.wc.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.wc.add(r),Og(t))}function Og(t){for(;t.wc.size>0&&t.mc.size<t.maxConcurrentLimboResolutions;){const e=t.wc.values().next().value;t.wc.delete(e);const n=new he(je.fromString(e)),r=t.Ec.next();t.gc.set(r,new bL(n)),t.mc=t.mc.insert(n,r),sb(t.remoteStore,new kr(ir(cg(n.path)),r,"TargetPurposeLimboResolution",ig.ct))}}async function Qa(t,e,n){const r=_e(t),i=[],o=[],s=[];r.dc.isEmpty()||(r.dc.forEach((a,l)=>{s.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=wg.Bi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fc.eu(i),await async function(a,l){const u=_e(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>ee.forEach(l,h=>ee.forEach(h.$i,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>ee.forEach(h.Fi,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Ha(c))throw c;ce("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.Hi.get(h),d=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(d);u.Hi=u.Hi.insert(h,y)}}}(r.localStore,o))}async function DL(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await nb(n.localStore,e);n.currentUser=e,function(i,o){i.Tc.forEach(s=>{s.forEach(a=>{a.reject(new ae(X.CANCELLED,o))})}),i.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qa(n,r.tr)}}function LL(t,e){const n=_e(t),r=n.gc.get(e);if(r&&r.lc)return be().add(r.key);{let i=be();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.dc.get(s);i=i.unionWith(a.view.ec)}return i}}function ML(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AL.bind(null,e),e.fc.eu=EL.bind(null,e.eventManager),e.fc.vc=_L.bind(null,e.eventManager),e}function $L(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RL.bind(null,e),e}class I0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Jc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HD(this.persistence,new VD,e.initialUser,this.serializer)}createPersistence(e){return new BD(yg.js,this.serializer)}createSharedClientState(e){return new JD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DL.bind(null,this.syncEngine),await vL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wL}createDatastore(e){const n=Jc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new nL(i));var i;return function(o,s,a,l){return new oL(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>k0(this.syncEngine,a,0),s=S0.D()?new S0:new ZD,new aL(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,u){const c=new kL(r,i,o,s,a,l);return u&&(c.Ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=_e(e);ce("RemoteStore","RemoteStore shutting down."),n.Au.add(5),await Ga(n),n.vu.shutdown(),n.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=TT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dh(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BL(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>T0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>T0(e.remoteStore,o)),t._onlineComponents=e}function UL(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function BL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await dh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!UL(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await dh(t,new I0)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await dh(t,new I0);return t._offlineComponents}async function Tb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await N0(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await N0(t,new FL))),t._onlineComponents}function qL(t){return Tb(t).then(e=>e.syncEngine)}async function bb(t){const e=await Tb(t),n=e.eventManager;return n.onListen=OL.bind(null,e.syncEngine),n.onUnlisten=NL.bind(null,e.syncEngine),n}function VL(t,e,n={}){const r=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new Sb({next:h=>{o.enqueueAndForget(()=>pb(i,c));const f=h.docs.has(s);!f&&h.fromCache?l.reject(new ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new mb(cg(s.path),u,{includeMetadataChanges:!0,Uu:!0});return db(i,c)}(await bb(t),t.asyncQueue,e,n,r)),r.promise}function zL(t,e,n={}){const r=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new Sb({next:h=>{o.enqueueAndForget(()=>pb(i,c)),h.fromCache&&a.source==="server"?l.reject(new ae(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new mb(s,u,{includeMetadataChanges:!0,Uu:!0});return db(i,c)}(await bb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t,e,n){if(!n)throw new ae(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HL(t,e,n,r){if(e===!0&&r===!0)throw new ae(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A0(t){if(!he.isDocumentKey(t))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x0(t){if(he.isDocumentKey(t))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(t);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function KL(t,e){if(e<=0)throw new ae(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pP;switch(n.type){case"firstParty":return new yP(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=C0.get(e);n&&(ce("ComponentProvider","Removing Datastore"),C0.delete(e),n.terminate())}(this),Promise.resolve()}}function WL(t,e,n,r={}){var i;const o=(t=ki(t,nf))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&Oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=Tt.MOCK_USER;else{s=H2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Tt(l)}t._authCredentials=new mP(new ST(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class Qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qr(this.firestore,e,this._query)}}class Fr extends Qr{constructor(e,n,r){super(e,n,cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new he(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function Ig(t,e,...n){if(t=Kt(t),kb("collection","path",e),t instanceof nf){const r=je.fromString(e,...n);return x0(r),new Fr(t,null,r)}{if(!(t instanceof Xt||t instanceof Fr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return x0(r),new Fr(t.firestore,null,r)}}function Ng(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=TT.A()),kb("doc","path",e),t instanceof nf){const r=je.fromString(e,...n);return A0(r),new Xt(t,null,new he(r))}{if(!(t instanceof Xt||t instanceof Fr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return A0(r),new Xt(t.firestore,t instanceof Fr?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new ib(this,"async_queue_retry"),this.Yc=()=>{const n=hh();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Lo.ko()};const e=hh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const n=hh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const n=new Yn;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!Ha(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(e){const n=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{this.zc=r,this.Wc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Wc=!1,r))));return this.Kc=n,n}enqueueAfterDelay(e,n,r){this.Xc(),this.Jc.indexOf(e)>-1&&(n=0);const i=Tg.createAndSchedule(this,e,n,r,o=>this.ea(o));return this.jc.push(i),i}Xc(){this.zc&&pe()}verifyOperationInProgress(){}async na(){let e;do e=this.Kc,await e;while(e!==this.Kc)}sa(e){for(const n of this.jc)if(n.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.jc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const n=this.jc.indexOf(e);this.jc.splice(n,1)}}class Ya extends nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new GL,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ob(this),this._firestoreClient.terminate()}}function QL(t,e){const n=typeof t=="object"?t:mS(),r=typeof t=="string"?t:e||"(default)",i=Dm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=q2("firestore");o&&WL(i,...o)}return i}function Cg(t){return t._firestoreClient||Ob(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ob(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,u){return new AP(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new jL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Pt.fromBase64String(e))}catch(n){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=/^__.*__$/;class XL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ka(e,this.data,n,this.fieldTransforms)}}function Nb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Rg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Yu(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Nb(this.ua)&&YL.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class JL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jc(e)}ga(e,n,r,i=!1){return new Rg({ua:e,methodName:n,ma:r,path:It.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cb(t){const e=t._freezeSettings(),n=Jc(t._databaseId);return new JL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZL(t,e,n,r,i,o={}){const s=t.ga(o.merge||o.mergeFields?2:0,e,n,i);Rb("Data must be an object, but it was:",s,r);const a=Ab(r,s);let l,u;if(o.merge)l=new vn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const f=tM(e,h,n);if(!s.contains(f))throw new ae(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);rM(c,f)||c.push(f)}l=new vn(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new XL(new sn(a),l,u)}function eM(t,e,n,r=!1){return Pg(n,t.ga(r?4:3,e))}function Pg(t,e){if(xb(t=Kt(t)))return Rb("Unsupported field value:",e,t),Ab(t,e);if(t instanceof Ib)return function(n,r){if(!Nb(r.ua))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ha&&e.ua!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Pg(s,r.da(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Kt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YP(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=at.fromDate(n);return{timestampValue:Gu(r.serializer,i)}}if(n instanceof at){const i=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gu(r.serializer,i)}}if(n instanceof xg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ro)return{bytesValue:YT(r.serializer,n._byteString)};if(n instanceof Xt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${tf(n)}`)}(t,e)}function Ab(t,e){const n={};return bT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(t,(r,i)=>{const o=Pg(i,e.aa(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof xg||t instanceof Ro||t instanceof Xt||t instanceof Ib)}function Rb(t,e,n){if(!xb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=tf(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function tM(t,e,n){if((e=Kt(e))instanceof Ag)return e._internalPath;if(typeof e=="string")return Pb(t,e);throw Yu("Field path arguments must be of type string or ",t,!1,void 0,n)}const nM=new RegExp("[~\\*/\\[\\]]");function Pb(t,e,n){if(e.search(nM)>=0)throw Yu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ag(...e.split("."))._internalPath}catch{throw Yu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ae(X.INVALID_ARGUMENT,a+t+l)}function rM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iM extends Db{data(){return super.data()}}function Dg(t,e){return typeof e=="string"?Pb(t,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class Mg extends Lg{}function sM(t,e,...n){let r=[];e instanceof Lg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof Fg).length,s=i.filter(a=>a instanceof $g).length;if(o>1||o>0&&s>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $g extends Mg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $g(e,n,r)}_apply(e){const n=this._parse(e);return Lb(e._query,n),new Qr(e.firestore,e.converter,Qd(e._query,n))}_parse(e){const n=Cb(e.firestore);return function(i,o,s,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){D0(c,u);const f=[];for(const d of c)f.push(P0(a,i,d));h={arrayValue:{values:f}}}else h=P0(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||D0(c,u),h=eM(s,o,c,u==="in"||u==="not-in");return rt.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Fg extends Lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)Lb(o,a),o=Qd(o,a)}(e._query,n),new Qr(e.firestore,e.converter,Qd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jg extends Mg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jg(e,n)}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new fo(i,o);return function(a,l){if(fg(a)===null){const u=Kc(a);u!==null&&Mb(a,u,l.field)}}(r,s),s}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Ho(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function aM(t,e="asc"){const n=e,r=Dg("orderBy",t);return jg._create(r,n)}class Ug extends Mg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ug(e,n,r)}_apply(e){return new Qr(e.firestore,e.converter,Hu(e._query,this._limit,this._limitType))}}function lM(t){return KL("limit",t),Ug._create("limit",t,"F")}function P0(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PT(e)&&n.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!he.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return r0(t,new he(r))}if(n instanceof Xt)return r0(t,n._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function D0(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(t,e){if(e.isInequality()){const r=Kc(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ae(X.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=fg(t);o!==null&&Mb(t,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Mb(t,e,n){if(!n.isEqual(e))throw new ae(X.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class uM{convertValue(e,n="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new xg(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ha(e));default:return null}}convertTimestamp(e){const n=qr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Be(tb(r));const i=new da(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $b extends Db{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ql extends $b{data(e={}){return super.data(e)}}class fM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ql(this._firestore,this._userDataWriter,r.key,r,new bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Ql(r._firestore,r._userDataWriter,s.doc.key,s.doc,new bs(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Ql(r._firestore,r._userDataWriter,s.doc.key,s.doc,new bs(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:hM(s.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){t=ki(t,Xt);const e=ki(t.firestore,Ya);return VL(Cg(e),t._key).then(n=>gM(e,t,n))}class Fb extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function jb(t){t=ki(t,Qr);const e=ki(t.firestore,Ya),n=Cg(e),r=new Fb(e);return oM(t._query),zL(n,t._query).then(i=>new fM(e,r,t,i))}function pM(t){return Ub(ki(t.firestore,Ya),[new hg(t._key,xn.none())])}function mM(t,e){const n=ki(t.firestore,Ya),r=Ng(t),i=cM(t.converter,e);return Ub(n,[ZL(Cb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xn.exists(!1))]).then(()=>r)}function Ub(t,e){return function(n,r){const i=new Yn;return n.asyncQueue.enqueueAndForget(async()=>CL(await qL(n),r,i)),i.promise}(Cg(t),e)}function gM(t,e,n){const r=n.docs.get(e._key),i=new Fb(t);return new $b(t,i,e._key,r,new bs(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Vo=n})(Uo),bo(new Ei("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Ya(new gP(n.getProvider("auth-internal")),new EP(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new da(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),$r(Jy,"3.11.0",t),$r(Jy,"3.11.0","esm2017")})();var vM="firebase",yM="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(vM,yM,"app");function Bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bb(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wM=Bb,qb=new Pa("auth","Firebase",Bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Rm("@firebase/auth");function EM(t,...e){Xu.logLevel<=Ne.WARN&&Xu.warn(`Auth (${Uo}): ${t}`,...e)}function Yl(t,...e){Xu.logLevel<=Ne.ERROR&&Xu.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw qg(t,...e)}function Pn(t,...e){return qg(t,...e)}function Vb(t,e,n){const r=Object.assign(Object.assign({},wM()),{[e]:n});return new Pa("auth","Firebase",r).create(e,{appName:t.name})}function _M(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mn(t,"argument-error"),Vb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qb.create(t,...e)}function ge(t,e,...n){if(!t)throw qg(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yl(e),new Error(e)}function sr(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SM(){return L0()==="http:"||L0()==="https:"}function L0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SM()||W2()||"connection"in navigator)?navigator.onLine:!0}function bM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=K2()||G2()}get(){return TM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t,e){sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new Xa(3e4,6e4);function Hb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ja(t,e,n,r,i={}){return Kb(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Da(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zb.fetch()(Wb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function Kb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kM),e);try{const i=new NM(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw xl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw xl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw xl(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Vb(t,c,u);Mn(t,c)}}catch(i){if(i instanceof cr)throw i;Mn(t,"network-request-failed",{message:String(i)})}}async function IM(t,e,n,r,i={}){const o=await Ja(t,e,n,r,i);return"mfaPendingCredential"in o&&Mn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Wb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Vg(t.config,i):`${t.config.apiScheme}://${i}`}class NM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),OM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e){return Ja(t,"POST","/v1/accounts:delete",e)}async function AM(t,e){return Ja(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xM(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),i=zg(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Fs(ph(i.auth_time)),issuedAtTime:Fs(ph(i.iat)),expirationTime:Fs(ph(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ph(t){return Number(t)*1e3}function zg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yl("JWT malformed, contained fewer than 3 sections"),null;try{const i=uS(n);return i?JSON.parse(i):(Yl("Failed to decode base64 JWT payload"),null)}catch(i){return Yl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RM(t){const e=zg(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&PM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fs(this.lastLoginAt),this.creationTime=Fs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){var e;const n=t.auth,r=await t.getIdToken(),i=await va(t,AM(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$M(o.providerUserInfo):[],a=MM(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gb(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function LM(t){const e=Kt(t);await Ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $M(t){return t.map(e=>{var{providerId:n}=e,r=Bg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t,e){const n=await Kb(t,{},async()=>{const r=Da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Wb(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zb.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ge(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await FM(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ya;return r&&(ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ya,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await va(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xM(this,e)}reload(){return LM(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ju(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await va(this,CM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:g,isAnonymous:_,providerData:O,stsTokenManager:S}=n;ge(w&&S,e,"internal-error");const b=ya.fromJSON(this.name,S);ge(typeof w=="string",e,"internal-error"),dr(h,e.name),dr(f,e.name),ge(typeof g=="boolean",e,"internal-error"),ge(typeof _=="boolean",e,"internal-error"),dr(d,e.name),dr(y,e.name),dr(v,e.name),dr(E,e.name),dr(m,e.name),dr(p,e.name);const A=new di({uid:w,auth:e,email:f,emailVerified:g,displayName:h,isAnonymous:_,photoURL:y,phoneNumber:d,tenantId:v,stsTokenManager:b,createdAt:m,lastLoginAt:p});return O&&Array.isArray(O)&&(A.providerData=O.map(k=>Object.assign({},k))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new ya;i.updateFromServerResponse(n);const o=new di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ju(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;function Wn(t){sr(t instanceof Function,"Expected a class definition");let e=M0.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qb.type="NONE";const $0=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Xl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Xl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(Wn($0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Wn($0);const s=Xl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const h=di._fromJSON(e,c);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new mo(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new mo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ek(e))return"Blackberry";if(tk(e))return"Webos";if(Hg(e))return"Safari";if((e.includes("chrome/")||Xb(e))&&!e.includes("edge/"))return"Chrome";if(Zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Yb(t=Rt()){return/firefox\//i.test(t)}function Hg(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xb(t=Rt()){return/crios\//i.test(t)}function Jb(t=Rt()){return/iemobile/i.test(t)}function Zb(t=Rt()){return/android/i.test(t)}function ek(t=Rt()){return/blackberry/i.test(t)}function tk(t=Rt()){return/webos/i.test(t)}function rf(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jM(t=Rt()){var e;return rf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UM(){return Q2()&&document.documentMode===10}function nk(t=Rt()){return rf(t)||Zb(t)||tk(t)||ek(t)||/windows phone/i.test(t)||Jb(t)}function BM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e=[]){let n;switch(t){case"Browser":n=F0(Rt());break;case"Worker":n=`${F0(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}async function ik(t,e){return Ja(t,"GET","/v2/recaptchaConfig",Hb(t,e))}function j0(t){return t!==void 0&&t.enterprise!==void 0}class ok{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function sk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Pn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",qM().appendChild(r)})}function VM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zM="https://www.google.com/recaptcha/enterprise.js?render=",HM="recaptcha-enterprise",KM="NO_RECAPTCHA";class WM{constructor(e){this.type=HM,this.auth=Za(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{ik(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new ok(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;j0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(KM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&j0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}sk(zM+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U0(this),this.idTokenSubscription=new U0(this),this.beforeStateQueue=new GM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ju(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Kt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}async initializeRecaptchaConfig(){const e=await ik(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new ok(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new WM(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&EM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Za(t){return Kt(t)}class U0{constructor(e){this.auth=e,this.observer=null,this.addObserver=nx(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){const n=Dm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(xu(o,e??{}))return i;Mn(i,"already-initialized")}return n.initialize({options:e})}function XM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JM(t,e,n){const r=Za(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=ak(e),{host:s,port:a}=ZM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||e$()}function ak(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZM(t){const e=ak(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:B0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:B0(s)}}}function B0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return IM(t,"POST","/v1/accounts:signInWithIdp",Hb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="http://localhost";class Oi extends lk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Bg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Oi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:t$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Da(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends Kg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends el{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends el{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bn.credential(n,r)}catch{return null}}}Bn.GOOGLE_SIGN_IN_METHOD="google.com";Bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends el{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends el{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await di._fromIdTokenResponse(e,r,i),s=q0(r);return new Po({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=q0(r);return new Po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function q0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends cr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Zu(e,n,r,i)}}function uk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(t,o,e,r):o})}async function n$(t,e,n=!1){const r=await va(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await va(t,uk(r,i,e,t),n);ge(o.idToken,r,"internal-error");const s=zg(o.idToken);ge(s,r,"internal-error");const{sub:a}=s;return ge(t.uid===a,r,"user-mismatch"),Po._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(t,e,n=!1){const r="signIn",i=await uk(t,r,e),o=await Po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function o$(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function s$(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function a$(t,e,n,r){return Kt(t).onAuthStateChanged(e,n,r)}function l$(t){return Kt(t).signOut()}const ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ec,"1"),this.storage.removeItem(ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(){const t=Rt();return Hg(t)||rf(t)}const c$=1e3,f$=10;class fk extends ck{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=u$()&&BM(),this.fallbackToPolling=nk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);UM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,f$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},c$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fk.type="LOCAL";const h$=fk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends ck{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hk.type="SESSION";const dk=hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new of(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await d$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Wg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function m$(t){Dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function g$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function y$(){return pk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firebaseLocalStorageDb",w$=1,tc="firebaseLocalStorage",gk="fbase_key";class tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([tc],e?"readwrite":"readonly").objectStore(tc)}function E$(){const t=indexedDB.deleteDatabase(mk);return new tl(t).toPromise()}function ip(){const t=indexedDB.open(mk,w$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tc,{keyPath:gk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tc)?e(r):(r.close(),await E$(),e(await ip()))})})}async function V0(t,e,n){const r=sf(t,!0).put({[gk]:e,value:n});return new tl(r).toPromise()}async function _$(t,e){const n=sf(t,!1).get(e),r=await new tl(n).toPromise();return r===void 0?null:r.value}function z0(t,e){const n=sf(t,!0).delete(e);return new tl(n).toPromise()}const S$=800,T$=3;class vk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(y$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await g$(),!this.activeServiceWorker)return;this.sender=new p$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await V0(e,ec,"1"),await z0(e,ec),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=sf(i,!1).getAll();return new tl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vk.type="LOCAL";const b$=vk;new Xa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t,e){return e?Wn(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends lk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k$(t){return i$(t.auth,new Gg(t),t.bypassAuthState)}function O$(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),r$(n,new Gg(t),t.bypassAuthState)}async function I$(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),n$(n,new Gg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k$;case"linkViaPopup":case"linkViaRedirect":return I$;case"reauthViaPopup":case"reauthViaRedirect":return O$;default:Mn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=new Xa(2e3,1e4);async function C$(t,e,n){const r=Za(t);_M(t,e,Kg);const i=yk(r,n);return new ui(r,"signInViaPopup",e,i).executeNotNull()}class ui extends wk{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ui.currentPopupAction&&ui.currentPopupAction.cancel(),ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N$.get())};e()}}ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="pendingRedirect",Jl=new Map;class x$ extends wk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jl.get(this.auth._key());if(!e){try{const r=await R$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jl.set(this.auth._key(),e)}return this.bypassAuthState||Jl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R$(t,e){const n=L$(e),r=D$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function P$(t,e){Jl.set(t._key(),e)}function D$(t){return Wn(t._redirectPersistence)}function L$(t){return Xl(A$,t.config.apiKey,t.name)}async function M$(t,e,n=!1){const r=Za(t),i=yk(r,e),s=await new x$(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=10*60*1e3;class F${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ek(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$$&&this.cachedEventUids.clear(),this.cachedEventUids.has(H0(e))}saveEventToCache(e){this.cachedEventUids.add(H0(e)),this.lastProcessedEventTime=Date.now()}}function H0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ek({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ek(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e={}){return Ja(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q$=/^https?/;async function V$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U$(t);for(const n of e)try{if(z$(n))return}catch{}Mn(t,"unauthorized-domain")}function z$(t){const e=rp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!q$.test(n))return!1;if(B$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=new Xa(3e4,6e4);function K0(){const t=Dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K$(t){return new Promise((e,n)=>{var r,i,o;function s(){K0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K0(),n(Pn(t,"network-request-failed"))},timeout:H$.get()})}if(!((i=(r=Dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Dn().gapi)===null||o===void 0)&&o.load)s();else{const a=VM("iframefcb");return Dn()[a]=()=>{gapi.load?s():n(Pn(t,"network-request-failed"))},sk(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zl=null,e})}let Zl=null;function W$(t){return Zl=Zl||K$(t),Zl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=new Xa(5e3,15e3),Q$="__/auth/iframe",Y$="emulator/auth/iframe",X$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z$(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vg(e,Y$):`https://${t.config.authDomain}/${Q$}`,r={apiKey:e.apiKey,appName:t.name,v:Uo},i=J$.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Da(r).slice(1)}`}async function e4(t){const e=await W$(t),n=Dn().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:Z$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Pn(t,"network-request-failed"),a=Dn().setTimeout(()=>{o(s)},G$.get());function l(){Dn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n4=500,r4=600,i4="_blank",o4="http://localhost";class W0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s4(t,e,n,r=n4,i=r4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},t4),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Rt().toLowerCase();n&&(a=Xb(u)?i4:n),Yb(u)&&(e=e||o4,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[d,y])=>`${f}${d}=${y},`,"");if(jM(u)&&a!=="_self")return a4(e||"",a),new W0(null);const h=window.open(e||"",a,c);ge(h,t,"popup-blocked");try{h.focus()}catch{}return new W0(h)}function a4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="__/auth/handler",u4="emulator/auth/handler",c4=encodeURIComponent("fac");async function G0(t,e,n,r,i,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:i};if(e instanceof Kg){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",tx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(o||{}))s[c]=h}if(e instanceof el){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${c4}=${encodeURIComponent(l)}`:"";return`${f4(t)}?${Da(a).slice(1)}${u}`}function f4({config:t}){return t.emulator?Vg(t,u4):`https://${t.authDomain}/${l4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="webStorageSupport";class h4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dk,this._completeRedirectFn=M$,this._overrideRedirectResult=P$}async _openPopup(e,n,r,i){var o;sr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await G0(e,n,r,rp(),i);return s4(e,s,Wg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await G0(e,n,r,rp(),i);return m$(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(sr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await e4(e),r=new F$(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mh,{type:mh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[mh];s!==void 0&&n(!!s),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=V$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nk()||Hg()||rf()}}const d4=h4;var Q0="@firebase/auth",Y0="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function g4(t){bo(new Ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),ge(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rk(t)},u=new QM(r,i,o,l);return XM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new Ei("auth-internal",e=>{const n=Za(e.getProvider("auth").getImmediate());return(r=>new p4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(Q0,Y0,m4(t)),$r(Q0,Y0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=5*60,y4=fS("authIdTokenMaxAge")||v4;let X0=null;const w4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y4)return;const i=n==null?void 0:n.token;X0!==i&&(X0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function E4(t=mS()){const e=Dm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YM(t,{popupRedirectResolver:d4,persistence:[b$,h$,dk]}),r=fS("authTokenSyncURL");if(r){const o=w4(r);s$(n,o,()=>o(n.currentUser)),o$(n,s=>o(s))}const i=cS("auth");return i&&JM(n,`http://${i}`),n}g4("Browser");const _4={apiKey:"AIzaSyDBZLyfmV-Qw5Rqe9lp8wJCjuU4IpzRZd8",authDomain:"lokman-blog.firebaseapp.com",projectId:"lokman-blog",storageBucket:"lokman-blog.appspot.com",messagingSenderId:"189504006380",appId:"1:189504006380:web:977571cde229fc2c421dc9"},_k=pS(_4),wa=QL(_k),Ea=E4(_k),S4=new Bn,T4=()=>{const[t,e]=L.useState([]);return L.useEffect(()=>{(async()=>{const i=sM(Ig(wa,"posts"),aM("createdAt","desc"),lM(10)),s=(await jb(i)).docs.map(a=>({...a.data(),id:a.id}));e(s)})()},[]),fe("div",{children:[j(R2,{images:[{src:"https://via.placeholder.com/900x200",alt:"First slide",caption:"insert text 1"},{src:"https://via.placeholder.com/900x200",alt:"Second slide",caption:"insert text 2"},{src:"https://via.placeholder.com/900x200",alt:"Third slide",caption:"insert text 3"}]}),j("hr",{}),fe("div",{className:"bio-container",children:[j("h2",{children:"About Me"}),j("p",{children:"Thank you for visiting my personal website! My name is Lokman RAMDANI, and I'm a 21-year-old web developer who's passionate about the digital world. After obtaining a literary baccalaureate and studying the Japanese language abroad, I made the decision to reorient my career and focus on the field of web development."}),j("h2",{children:"Education"}),fe("ul",{children:[j("li",{children:"2020: Baccalaurat Gnrale de Srie L - Lyce George Clemenceau"}),j("li",{children:"2021: Japanese Language Course (6 months) - Tokyo Galaxy, Tokyo, Japan"}),j("li",{children:"2022-2023: Web Developer and Web Mobile Course - ADRAR"})]}),j("h2",{children:"Work Experience"}),fe("ul",{children:[j("li",{children:"2021: Freelance Illustrator - Providing illustration services via the Fiverr platform."}),j("li",{children:"Mission Locale - Participated in an intensive program to facilitate education and employment opportunities."})]}),j("h2",{children:"Interests"}),fe("ul",{children:[j("li",{children:"Digital drawing (cartoon, manga)"}),j("li",{children:"Computer technology (hardware and software)"}),j("li",{children:"Social media activities: sharing illustrations, streaming"}),j("li",{children:"Traveling: I've been to Japan and Germany."})]})]}),j("hr",{}),fe("div",{className:"news-icons-wrapper",children:[fe("div",{children:[j("h1",{children:"News:"}),j("ul",{children:t.map(r=>j("li",{children:fe(to,{to:`/post/${r.id}`,children:[new Date(r.createdAt).toLocaleDateString()," - ",r.title]})},r.id))})]}),fe("div",{className:"Projectsicon",children:[j("h1",{children:"Projects"}),j("div",{className:"project-container",children:fe("a",{href:"https://www.example.com/amadeus",children:[j("img",{className:"project_icons",src:P2,alt:"Amadeus Fan-Project Realisation 2.0"}),j("span",{children:"Fan-Project: Amadeus Reborn (name subject to change)"})]})}),j("div",{className:"project-container",children:fe("a",{href:"https://www.example.com/rakugaki",children:[j("img",{className:"project_icons",src:D2,alt:"Rakugaki"}),j("span",{children:"Rakugaki"})]})})]})]})]})},_a={_origin:"https://api.emailjs.com"},b4=(t,e="https://api.emailjs.com")=>{_a._userID=t,_a._origin=e},Sk=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class J0{constructor(e){this.status=e.status,this.text=e.responseText}}const Tk=(t,e,n={})=>new Promise((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const a=new J0(s);a.status===200||a.text==="OK"?r(a):i(a)}),o.addEventListener("error",({target:s})=>{i(new J0(s))}),o.open("POST",_a._origin+t,!0),Object.keys(n).forEach(s=>{o.setRequestHeader(s,n[s])}),o.send(e)}),k4=(t,e,n,r)=>{const i=r||_a._userID;return Sk(i,t,e),Tk("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},O4=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},I4=(t,e,n,r)=>{const i=r||_a._userID,o=O4(n);Sk(i,t,e);const s=new FormData(o);return s.append("lib_version","3.2.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",i),Tk("/api/v1.0/email/send-form",s)},N4={init:b4,send:k4,sendForm:I4},C4=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[i,o]=L.useState(""),[s,a]=L.useState(""),[l,u]=L.useState(""),[c,h]=L.useState({});return fe("div",{className:"container",children:[j("h1",{children:"Contact Me"}),fe("form",{onSubmit:d=>{if(d.preventDefault(),!t||!n||!l){h({name:!t&&"Name is required",email:!n&&"Email is required",message:!l&&"Message is required"});return}const y={from_name:t,from_email:n,phone:i,subject:s||"New message from your website",message:l};N4.send({}.REACT_APP_EMAILJS_SERVICE_ID,{}.REACT_APP_EMAILJS_TEMPLATE_ID,y,{}.REACT_APP_EMAILJS_USER_ID).then(v=>{console.log(v.text),alert("Email sent successfully!"),e(""),r(""),o(""),a(""),u(""),h({})},v=>{console.log(v.text),alert("There was an error sending your email. Please try again later.")})},children:[fe("div",{className:"form-group",children:[j("label",{htmlFor:"name",children:"Name"}),j("input",{type:"text",className:`form-control ${c.name?"is-invalid":""}`,id:"name",value:t,onChange:d=>e(d.target.value),required:!0}),c.name&&j("div",{className:"invalid-feedback",children:c.name})]}),fe("div",{className:"form-group",children:[j("label",{htmlFor:"email",children:"Email"}),j("input",{type:"email",className:`form-control ${c.email?"is-invalid":""}`,id:"email",value:n,onChange:d=>r(d.target.value),required:!0}),c.email&&j("div",{className:"invalid-feedback",children:c.email})]}),fe("div",{className:"form-group",children:[j("label",{htmlFor:"phone",children:"Phone (optional)"}),j("input",{type:"tel",className:`form-control ${c.phone?"is-invalid":""}`,id:"phone",value:i,onChange:d=>o(d.target.value)}),c.phone&&j("div",{className:"invalid-feedback",children:c.phone})]}),fe("div",{className:"form-group",children:[j("label",{htmlFor:"subject",children:"Subject (optional)"}),j("input",{type:"text",className:"form-control",id:"subject",value:s,onChange:d=>a(d.target.value)})]}),fe("div",{className:"form-group",children:[j("label",{htmlFor:"message",children:"Message"}),j("textarea",{className:`form-control ${c.message?"is-invalid":""}`,id:"message",rows:"5",value:l,onChange:d=>u(d.target.value),required:!0}),c.message&&j("div",{className:"invalid-feedback",children:c.message})]}),j("button",{type:"submit",className:"btn btn-primary",children:"Send"})]})]})},A4=({isAuth:t,setIsAuth:e})=>{let n=wm();const r=()=>{l$(Ea).then(()=>{localStorage.clear(),e(!1),n("/lokman/blog")}).catch(i=>{console.error("Sign out error:",i)})};return t?j(pi,{children:j("button",{onClick:r,children:"Log Out"})}):null},bk=({isAuth:t,setIsAuth:e})=>{if(t)return null;let n=wm();const r=()=>{C$(Ea,S4).then(i=>{localStorage.setItem("isAuth",!0),e(!0),n("/lokman/blog")})};return L.useEffect(()=>{t&&n("/blog")},[t,n]),fe("div",{className:"login_page",children:[j("h1",{children:"Sign In with Google"}),j("button",{className:"login-with-google-btn",onClick:r,children:"Sign In with Google"})]})},x4=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(!0);return L.useEffect(()=>{const i=a$(Ea,o=>{o?(e(o.email),localStorage.setItem("email",o.email)):(e(""),localStorage.removeItem("email")),r(!1)});return()=>i()},[]),[t,n]};function R4(){this.__data__=[],this.size=0}var P4=R4;function D4(t,e){return t===e||t!==t&&e!==e}var kk=D4,L4=kk;function M4(t,e){for(var n=t.length;n--;)if(L4(t[n][0],e))return n;return-1}var af=M4,$4=af,F4=Array.prototype,j4=F4.splice;function U4(t){var e=this.__data__,n=$4(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():j4.call(e,n,1),--this.size,!0}var B4=U4,q4=af;function V4(t){var e=this.__data__,n=q4(e,t);return n<0?void 0:e[n][1]}var z4=V4,H4=af;function K4(t){return H4(this.__data__,t)>-1}var W4=K4,G4=af;function Q4(t,e){var n=this.__data__,r=G4(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Y4=Q4,X4=P4,J4=B4,Z4=z4,e3=W4,t3=Y4;function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=X4;Go.prototype.delete=J4;Go.prototype.get=Z4;Go.prototype.has=e3;Go.prototype.set=t3;var lf=Go,n3=lf;function r3(){this.__data__=new n3,this.size=0}var i3=r3;function o3(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var s3=o3;function a3(t){return this.__data__.get(t)}var l3=a3;function u3(t){return this.__data__.has(t)}var c3=u3,f3=typeof Gt=="object"&&Gt&&Gt.Object===Object&&Gt,Ok=f3,h3=Ok,d3=typeof self=="object"&&self&&self.Object===Object&&self,p3=h3||d3||Function("return this")(),fr=p3,m3=fr,g3=m3.Symbol,Qg=g3,Z0=Qg,Ik=Object.prototype,v3=Ik.hasOwnProperty,y3=Ik.toString,ds=Z0?Z0.toStringTag:void 0;function w3(t){var e=v3.call(t,ds),n=t[ds];try{t[ds]=void 0;var r=!0}catch{}var i=y3.call(t);return r&&(e?t[ds]=n:delete t[ds]),i}var E3=w3,_3=Object.prototype,S3=_3.toString;function T3(t){return S3.call(t)}var b3=T3,e1=Qg,k3=E3,O3=b3,I3="[object Null]",N3="[object Undefined]",t1=e1?e1.toStringTag:void 0;function C3(t){return t==null?t===void 0?N3:I3:t1&&t1 in Object(t)?k3(t):O3(t)}var uf=C3;function A3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Nk=A3,x3=uf,R3=Nk,P3="[object AsyncFunction]",D3="[object Function]",L3="[object GeneratorFunction]",M3="[object Proxy]";function $3(t){if(!R3(t))return!1;var e=x3(t);return e==D3||e==L3||e==P3||e==M3}var Ck=$3,F3=fr,j3=F3["__core-js_shared__"],U3=j3,gh=U3,n1=function(){var t=/[^.]+$/.exec(gh&&gh.keys&&gh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function B3(t){return!!n1&&n1 in t}var q3=B3,V3=Function.prototype,z3=V3.toString;function H3(t){if(t!=null){try{return z3.call(t)}catch{}try{return t+""}catch{}}return""}var Ak=H3,K3=Ck,W3=q3,G3=Nk,Q3=Ak,Y3=/[\\^$.*+?()[\]{}|]/g,X3=/^\[object .+?Constructor\]$/,J3=Function.prototype,Z3=Object.prototype,e5=J3.toString,t5=Z3.hasOwnProperty,n5=RegExp("^"+e5.call(t5).replace(Y3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function r5(t){if(!G3(t)||W3(t))return!1;var e=K3(t)?n5:X3;return e.test(Q3(t))}var i5=r5;function o5(t,e){return t==null?void 0:t[e]}var s5=o5,a5=i5,l5=s5;function u5(t,e){var n=l5(t,e);return a5(n)?n:void 0}var Qo=u5,c5=Qo,f5=fr,h5=c5(f5,"Map"),Yg=h5,d5=Qo,p5=d5(Object,"create"),cf=p5,r1=cf;function m5(){this.__data__=r1?r1(null):{},this.size=0}var g5=m5;function v5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var y5=v5,w5=cf,E5="__lodash_hash_undefined__",_5=Object.prototype,S5=_5.hasOwnProperty;function T5(t){var e=this.__data__;if(w5){var n=e[t];return n===E5?void 0:n}return S5.call(e,t)?e[t]:void 0}var b5=T5,k5=cf,O5=Object.prototype,I5=O5.hasOwnProperty;function N5(t){var e=this.__data__;return k5?e[t]!==void 0:I5.call(e,t)}var C5=N5,A5=cf,x5="__lodash_hash_undefined__";function R5(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=A5&&e===void 0?x5:e,this}var P5=R5,D5=g5,L5=y5,M5=b5,$5=C5,F5=P5;function Yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yo.prototype.clear=D5;Yo.prototype.delete=L5;Yo.prototype.get=M5;Yo.prototype.has=$5;Yo.prototype.set=F5;var j5=Yo,i1=j5,U5=lf,B5=Yg;function q5(){this.size=0,this.__data__={hash:new i1,map:new(B5||U5),string:new i1}}var V5=q5;function z5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var H5=z5,K5=H5;function W5(t,e){var n=t.__data__;return K5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ff=W5,G5=ff;function Q5(t){var e=G5(this,t).delete(t);return this.size-=e?1:0,e}var Y5=Q5,X5=ff;function J5(t){return X5(this,t).get(t)}var Z5=J5,eF=ff;function tF(t){return eF(this,t).has(t)}var nF=tF,rF=ff;function iF(t,e){var n=rF(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var oF=iF,sF=V5,aF=Y5,lF=Z5,uF=nF,cF=oF;function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=sF;Xo.prototype.delete=aF;Xo.prototype.get=lF;Xo.prototype.has=uF;Xo.prototype.set=cF;var xk=Xo,fF=lf,hF=Yg,dF=xk,pF=200;function mF(t,e){var n=this.__data__;if(n instanceof fF){var r=n.__data__;if(!hF||r.length<pF-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new dF(r)}return n.set(t,e),this.size=n.size,this}var gF=mF,vF=lf,yF=i3,wF=s3,EF=l3,_F=c3,SF=gF;function Jo(t){var e=this.__data__=new vF(t);this.size=e.size}Jo.prototype.clear=yF;Jo.prototype.delete=wF;Jo.prototype.get=EF;Jo.prototype.has=_F;Jo.prototype.set=SF;var TF=Jo,bF="__lodash_hash_undefined__";function kF(t){return this.__data__.set(t,bF),this}var OF=kF;function IF(t){return this.__data__.has(t)}var NF=IF,CF=xk,AF=OF,xF=NF;function nc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new CF;++e<n;)this.add(t[e])}nc.prototype.add=nc.prototype.push=AF;nc.prototype.has=xF;var RF=nc;function PF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var DF=PF;function LF(t,e){return t.has(e)}var MF=LF,$F=RF,FF=DF,jF=MF,UF=1,BF=2;function qF(t,e,n,r,i,o){var s=n&UF,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,f=!0,d=n&BF?new $F:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var y=t[h],v=e[h];if(r)var E=s?r(v,y,h,e,t,o):r(y,v,h,t,e,o);if(E!==void 0){if(E)continue;f=!1;break}if(d){if(!FF(e,function(m,p){if(!jF(d,p)&&(y===m||i(y,m,n,r,o)))return d.push(p)})){f=!1;break}}else if(!(y===v||i(y,v,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var Rk=qF,VF=fr,zF=VF.Uint8Array,HF=zF;function KF(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var WF=KF;function GF(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var QF=GF,o1=Qg,s1=HF,YF=kk,XF=Rk,JF=WF,ZF=QF,e9=1,t9=2,n9="[object Boolean]",r9="[object Date]",i9="[object Error]",o9="[object Map]",s9="[object Number]",a9="[object RegExp]",l9="[object Set]",u9="[object String]",c9="[object Symbol]",f9="[object ArrayBuffer]",h9="[object DataView]",a1=o1?o1.prototype:void 0,vh=a1?a1.valueOf:void 0;function d9(t,e,n,r,i,o,s){switch(n){case h9:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case f9:return!(t.byteLength!=e.byteLength||!o(new s1(t),new s1(e)));case n9:case r9:case s9:return YF(+t,+e);case i9:return t.name==e.name&&t.message==e.message;case a9:case u9:return t==e+"";case o9:var a=JF;case l9:var l=r&e9;if(a||(a=ZF),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=t9,s.set(t,e);var c=XF(a(t),a(e),r,i,o,s);return s.delete(t),c;case c9:if(vh)return vh.call(t)==vh.call(e)}return!1}var p9=d9;function m9(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var g9=m9,v9=Array.isArray,Xg=v9,y9=g9,w9=Xg;function E9(t,e,n){var r=e(t);return w9(t)?r:y9(r,n(t))}var _9=E9;function S9(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var T9=S9;function b9(){return[]}var k9=b9,O9=T9,I9=k9,N9=Object.prototype,C9=N9.propertyIsEnumerable,l1=Object.getOwnPropertySymbols,A9=l1?function(t){return t==null?[]:(t=Object(t),O9(l1(t),function(e){return C9.call(t,e)}))}:I9,x9=A9;function R9(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var P9=R9;function D9(t){return t!=null&&typeof t=="object"}var hf=D9,L9=uf,M9=hf,$9="[object Arguments]";function F9(t){return M9(t)&&L9(t)==$9}var j9=F9,u1=j9,U9=hf,Pk=Object.prototype,B9=Pk.hasOwnProperty,q9=Pk.propertyIsEnumerable,V9=u1(function(){return arguments}())?u1:function(t){return U9(t)&&B9.call(t,"callee")&&!q9.call(t,"callee")},z9=V9,rc={exports:{}};function H9(){return!1}var K9=H9;rc.exports;(function(t,e){var n=fr,r=K9,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(rc,rc.exports);var Dk=rc.exports,W9=9007199254740991,G9=/^(?:0|[1-9]\d*)$/;function Q9(t,e){var n=typeof t;return e=e??W9,!!e&&(n=="number"||n!="symbol"&&G9.test(t))&&t>-1&&t%1==0&&t<e}var Y9=Q9,X9=9007199254740991;function J9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=X9}var Lk=J9,Z9=uf,ej=Lk,tj=hf,nj="[object Arguments]",rj="[object Array]",ij="[object Boolean]",oj="[object Date]",sj="[object Error]",aj="[object Function]",lj="[object Map]",uj="[object Number]",cj="[object Object]",fj="[object RegExp]",hj="[object Set]",dj="[object String]",pj="[object WeakMap]",mj="[object ArrayBuffer]",gj="[object DataView]",vj="[object Float32Array]",yj="[object Float64Array]",wj="[object Int8Array]",Ej="[object Int16Array]",_j="[object Int32Array]",Sj="[object Uint8Array]",Tj="[object Uint8ClampedArray]",bj="[object Uint16Array]",kj="[object Uint32Array]",Fe={};Fe[vj]=Fe[yj]=Fe[wj]=Fe[Ej]=Fe[_j]=Fe[Sj]=Fe[Tj]=Fe[bj]=Fe[kj]=!0;Fe[nj]=Fe[rj]=Fe[mj]=Fe[ij]=Fe[gj]=Fe[oj]=Fe[sj]=Fe[aj]=Fe[lj]=Fe[uj]=Fe[cj]=Fe[fj]=Fe[hj]=Fe[dj]=Fe[pj]=!1;function Oj(t){return tj(t)&&ej(t.length)&&!!Fe[Z9(t)]}var Ij=Oj;function Nj(t){return function(e){return t(e)}}var Cj=Nj,ic={exports:{}};ic.exports;(function(t,e){var n=Ok,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(ic,ic.exports);var Aj=ic.exports,xj=Ij,Rj=Cj,c1=Aj,f1=c1&&c1.isTypedArray,Pj=f1?Rj(f1):xj,Mk=Pj,Dj=P9,Lj=z9,Mj=Xg,$j=Dk,Fj=Y9,jj=Mk,Uj=Object.prototype,Bj=Uj.hasOwnProperty;function qj(t,e){var n=Mj(t),r=!n&&Lj(t),i=!n&&!r&&$j(t),o=!n&&!r&&!i&&jj(t),s=n||r||i||o,a=s?Dj(t.length,String):[],l=a.length;for(var u in t)(e||Bj.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Fj(u,l)))&&a.push(u);return a}var Vj=qj,zj=Object.prototype;function Hj(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||zj;return t===n}var Kj=Hj;function Wj(t,e){return function(n){return t(e(n))}}var Gj=Wj,Qj=Gj,Yj=Qj(Object.keys,Object),Xj=Yj,Jj=Kj,Zj=Xj,eU=Object.prototype,tU=eU.hasOwnProperty;function nU(t){if(!Jj(t))return Zj(t);var e=[];for(var n in Object(t))tU.call(t,n)&&n!="constructor"&&e.push(n);return e}var rU=nU,iU=Ck,oU=Lk;function sU(t){return t!=null&&oU(t.length)&&!iU(t)}var aU=sU,lU=Vj,uU=rU,cU=aU;function fU(t){return cU(t)?lU(t):uU(t)}var hU=fU,dU=_9,pU=x9,mU=hU;function gU(t){return dU(t,mU,pU)}var vU=gU,h1=vU,yU=1,wU=Object.prototype,EU=wU.hasOwnProperty;function _U(t,e,n,r,i,o){var s=n&yU,a=h1(t),l=a.length,u=h1(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var f=a[h];if(!(s?f in e:EU.call(e,f)))return!1}var d=o.get(t),y=o.get(e);if(d&&y)return d==e&&y==t;var v=!0;o.set(t,e),o.set(e,t);for(var E=s;++h<l;){f=a[h];var m=t[f],p=e[f];if(r)var w=s?r(p,m,f,e,t,o):r(m,p,f,t,e,o);if(!(w===void 0?m===p||i(m,p,n,r,o):w)){v=!1;break}E||(E=f=="constructor")}if(v&&!E){var g=t.constructor,_=e.constructor;g!=_&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return o.delete(t),o.delete(e),v}var SU=_U,TU=Qo,bU=fr,kU=TU(bU,"DataView"),OU=kU,IU=Qo,NU=fr,CU=IU(NU,"Promise"),AU=CU,xU=Qo,RU=fr,PU=xU(RU,"Set"),DU=PU,LU=Qo,MU=fr,$U=LU(MU,"WeakMap"),FU=$U,op=OU,sp=Yg,ap=AU,lp=DU,up=FU,$k=uf,Zo=Ak,d1="[object Map]",jU="[object Object]",p1="[object Promise]",m1="[object Set]",g1="[object WeakMap]",v1="[object DataView]",UU=Zo(op),BU=Zo(sp),qU=Zo(ap),VU=Zo(lp),zU=Zo(up),ni=$k;(op&&ni(new op(new ArrayBuffer(1)))!=v1||sp&&ni(new sp)!=d1||ap&&ni(ap.resolve())!=p1||lp&&ni(new lp)!=m1||up&&ni(new up)!=g1)&&(ni=function(t){var e=$k(t),n=e==jU?t.constructor:void 0,r=n?Zo(n):"";if(r)switch(r){case UU:return v1;case BU:return d1;case qU:return p1;case VU:return m1;case zU:return g1}return e});var HU=ni,yh=TF,KU=Rk,WU=p9,GU=SU,y1=HU,w1=Xg,E1=Dk,QU=Mk,YU=1,_1="[object Arguments]",S1="[object Array]",Rl="[object Object]",XU=Object.prototype,T1=XU.hasOwnProperty;function JU(t,e,n,r,i,o){var s=w1(t),a=w1(e),l=s?S1:y1(t),u=a?S1:y1(e);l=l==_1?Rl:l,u=u==_1?Rl:u;var c=l==Rl,h=u==Rl,f=l==u;if(f&&E1(t)){if(!E1(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new yh),s||QU(t)?KU(t,e,n,r,i,o):WU(t,e,l,n,r,i,o);if(!(n&YU)){var d=c&&T1.call(t,"__wrapped__"),y=h&&T1.call(e,"__wrapped__");if(d||y){var v=d?t.value():t,E=y?e.value():e;return o||(o=new yh),i(v,E,n,r,o)}}return f?(o||(o=new yh),GU(t,e,n,r,i,o)):!1}var ZU=JU,e6=ZU,b1=hf;function Fk(t,e,n,r,i){return t===e?!0:t==null||e==null||!b1(t)&&!b1(e)?t!==t&&e!==e:e6(t,e,n,r,Fk,i)}var t6=Fk,n6=t6;function r6(t,e){return n6(t,e)}var i6=r6,jk={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Gt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),c=i(47),h=i(48),f=i(49),d=i(12),y=i(32),v=i(33),E=i(31),m=i(1),p={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:f.default,Attributor:{Attribute:d.default,Class:y.default,Style:v.default,Store:E.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var w in p)p.hasOwnProperty(w)&&(m[w]=p[w])};return function(m,p){E(m,p);function w(){this.constructor=m}m.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(E){o(m,E);function m(p){var w=this;return p="[Parchment] "+p,w=E.call(this,p)||this,w.message=p,w.name=w.constructor.name,w}return m}(Error);r.ParchmentError=s;var a={},l={},u={},c={};r.DATA_KEY="__blot";var h;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function f(E,m){var p=y(E);if(p==null)throw new s("Unable to create "+E+" blot");var w=p,g=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:w.create(m);return new w(g,m)}r.create=f;function d(E,m){return m===void 0&&(m=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:m?d(E.parentNode,m):null}r.find=d;function y(E,m){m===void 0&&(m=h.ANY);var p;if(typeof E=="string")p=c[E]||a[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)p=c.text;else if(typeof E=="number")E&h.LEVEL&h.BLOCK?p=c.block:E&h.LEVEL&h.INLINE&&(p=c.inline);else if(E instanceof HTMLElement){var w=(E.getAttribute("class")||"").split(/\s+/);for(var g in w)if(p=l[w[g]],p)break;p=p||u[E.tagName]}return p==null?null:m&h.LEVEL&p.scope&&m&h.TYPE&p.scope?p:null}r.query=y;function v(){for(var E=[],m=0;m<arguments.length;m++)E[m]=arguments[m];if(E.length>1)return E.map(function(g){return v(g)});var p=E[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(c[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(g){return g.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var w=Array.isArray(p.tagName)?p.tagName:[p.tagName];w.forEach(function(g){(u[g]==null||p.className==null)&&(u[g]=p)})}return p}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u=String.fromCharCode(0),c=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};c.prototype.insert=function(h,f){var d={};return h.length===0?this:(d.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(d.attributes=f),this.push(d))},c.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},c.prototype.retain=function(h,f){if(h<=0)return this;var d={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(d.attributes=f),this.push(d)},c.prototype.push=function(h){var f=this.ops.length,d=this.ops[f-1];if(h=a(!0,{},h),typeof d=="object"){if(typeof h.delete=="number"&&typeof d.delete=="number")return this.ops[f-1]={delete:d.delete+h.delete},this;if(typeof d.delete=="number"&&h.insert!=null&&(f-=1,d=this.ops[f-1],typeof d!="object"))return this.ops.unshift(h),this;if(s(h.attributes,d.attributes)){if(typeof h.insert=="string"&&typeof d.insert=="string")return this.ops[f-1]={insert:d.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof d.retain=="number")return this.ops[f-1]={retain:d.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},c.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},c.prototype.filter=function(h){return this.ops.filter(h)},c.prototype.forEach=function(h){this.ops.forEach(h)},c.prototype.map=function(h){return this.ops.map(h)},c.prototype.partition=function(h){var f=[],d=[];return this.forEach(function(y){var v=h(y)?f:d;v.push(y)}),[f,d]},c.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},c.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+l.length(f):f.delete?h-f.delete:h},0)},c.prototype.length=function(){return this.reduce(function(h,f){return h+l.length(f)},0)},c.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var d=[],y=l.iterator(this.ops),v=0;v<f&&y.hasNext();){var E;v<h?E=y.next(h-v):(E=y.next(f-v),d.push(E)),v+=l.length(E)}return new c(d)},c.prototype.compose=function(h){var f=l.iterator(this.ops),d=l.iterator(h.ops),y=[],v=d.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var E=v.retain;f.peekType()==="insert"&&f.peekLength()<=E;)E-=f.peekLength(),y.push(f.next());v.retain-E>0&&d.next(v.retain-E)}for(var m=new c(y);f.hasNext()||d.hasNext();)if(d.peekType()==="insert")m.push(d.next());else if(f.peekType()==="delete")m.push(f.next());else{var p=Math.min(f.peekLength(),d.peekLength()),w=f.next(p),g=d.next(p);if(typeof g.retain=="number"){var _={};typeof w.retain=="number"?_.retain=p:_.insert=w.insert;var O=l.attributes.compose(w.attributes,g.attributes,typeof w.retain=="number");if(O&&(_.attributes=O),m.push(_),!d.hasNext()&&s(m.ops[m.ops.length-1],_)){var S=new c(f.rest());return m.concat(S).chop()}}else typeof g.delete=="number"&&typeof w.retain=="number"&&m.push(g)}return m.chop()},c.prototype.concat=function(h){var f=new c(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},c.prototype.diff=function(h,f){if(this.ops===h.ops)return new c;var d=[this,h].map(function(p){return p.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var g=p===h?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),y=new c,v=o(d[0],d[1],f),E=l.iterator(this.ops),m=l.iterator(h.ops);return v.forEach(function(p){for(var w=p[1].length;w>0;){var g=0;switch(p[0]){case o.INSERT:g=Math.min(m.peekLength(),w),y.push(m.next(g));break;case o.DELETE:g=Math.min(w,E.peekLength()),E.next(g),y.delete(g);break;case o.EQUAL:g=Math.min(E.peekLength(),m.peekLength(),w);var _=E.next(g),O=m.next(g);s(_.insert,O.insert)?y.retain(g,l.attributes.diff(_.attributes,O.attributes)):y.push(O).delete(g);break}w-=g}}),y.chop()},c.prototype.eachLine=function(h,f){f=f||`
`;for(var d=l.iterator(this.ops),y=new c,v=0;d.hasNext();){if(d.peekType()!=="insert")return;var E=d.peek(),m=l.length(E)-d.peekLength(),p=typeof E.insert=="string"?E.insert.indexOf(f,m)-m:-1;if(p<0)y.push(d.next());else if(p>0)y.push(d.next(p));else{if(h(y,d.next(1).attributes||{},v)===!1)return;v+=1,y=new c}}y.length()>0&&h(y,{},v)},c.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var d=l.iterator(this.ops),y=l.iterator(h.ops),v=new c;d.hasNext()||y.hasNext();)if(d.peekType()==="insert"&&(f||y.peekType()!=="insert"))v.retain(l.length(d.next()));else if(y.peekType()==="insert")v.push(y.next());else{var E=Math.min(d.peekLength(),y.peekLength()),m=d.next(E),p=y.next(E);if(m.delete)continue;p.delete?v.push(p):v.retain(E,l.attributes.transform(m.attributes,p.attributes,f))}return v.chop()},c.prototype.transformPosition=function(h,f){f=!!f;for(var d=l.iterator(this.ops),y=0;d.hasNext()&&y<=h;){var v=d.peekLength(),E=d.peekType();if(d.next(),E==="delete"){h-=Math.min(v,h-y);continue}else E==="insert"&&(y<h||!f)&&(h+=v);y+=v}return h},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},u=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var y=i.call(d,"constructor"),v=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!y&&!v)return!1;var E;for(E in d);return typeof E>"u"||i.call(d,E)},c=function(d,y){s&&y.name==="__proto__"?s(d,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):d[y.name]=y.newValue},h=function(d,y){if(y==="__proto__")if(i.call(d,y)){if(a)return a(d,y).value}else return;return d[y]};n.exports=function f(){var d,y,v,E,m,p,w=arguments[0],g=1,_=arguments.length,O=!1;for(typeof w=="boolean"&&(O=w,w=arguments[1]||{},g=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});g<_;++g)if(d=arguments[g],d!=null)for(y in d)v=h(w,y),E=h(d,y),w!==E&&(O&&E&&(u(E)||(m=l(E)))?(m?(m=!1,p=v&&l(v)?v:[]):p=v&&u(v)?v:{},c(w,{name:y,newValue:f(O,p,E)})):typeof E<"u"&&c(w,{name:y,newValue:E}));return w}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function T(I,C){for(var R=0;R<C.length;R++){var $=C[R];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,C,R){return C&&T(I.prototype,C),R&&T(I,R),I}}(),s=function T(I,C,R){I===null&&(I=Function.prototype);var $=Object.getOwnPropertyDescriptor(I,C);if($===void 0){var z=Object.getPrototypeOf(I);return z===null?void 0:T(z,C,R)}else{if("value"in $)return $.value;var B=$.get;return B===void 0?void 0:B.call(R)}},a=i(3),l=w(a),u=i(2),c=w(u),h=i(0),f=w(h),d=i(16),y=w(d),v=i(6),E=w(v),m=i(7),p=w(m);function w(T){return T&&T.__esModule?T:{default:T}}function g(T,I){if(!(T instanceof I))throw new TypeError("Cannot call a class as a function")}function _(T,I){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:T}function O(T,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);T.prototype=Object.create(I&&I.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(T,I):T.__proto__=I)}var S=1,b=function(T){O(I,T);function I(){return g(this,I),_(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"attach",value:function(){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,$){var z=f.default.query(R,f.default.Scope.BLOCK_ATTRIBUTE);z!=null&&this.attributes.attribute(z,$)}},{key:"formatAt",value:function(R,$,z,B){this.format(z,B)}},{key:"insertAt",value:function(R,$,z){if(typeof $=="string"&&$.endsWith(`
`)){var B=f.default.create(A.blotName);this.parent.insertBefore(B,R===0?this:this.next),B.insertAt(0,$.slice(0,-1))}else s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,R,$,z)}}]),I}(f.default.Embed);b.scope=f.default.Scope.BLOCK_BLOT;var A=function(T){O(I,T);function I(C){g(this,I);var R=_(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,C));return R.cache={},R}return o(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(R,$){return $.length()===0?R:R.insert($.value(),k($))},new c.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(R,$){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,R,$),this.cache={}}},{key:"formatAt",value:function(R,$,z,B){$<=0||(f.default.query(z,f.default.Scope.BLOCK)?R+$===this.length()&&this.format(z,B):s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,R,Math.min($,this.length()-R-1),z,B),this.cache={})}},{key:"insertAt",value:function(R,$,z){if(z!=null)return s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,R,$,z);if($.length!==0){var B=$.split(`
`),H=B.shift();H.length>0&&(R<this.length()-1||this.children.tail==null?s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var F=this;B.reduce(function(D,N){return F=F.split(D,!0),F.insertAt(0,N),N.length},R+H.length)}}},{key:"insertBefore",value:function(R,$){var z=this.children.head;s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,R,$),z instanceof y.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(R,$){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,R,$),this.cache={}}},{key:"optimize",value:function(R){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($&&(R===0||R>=this.length()-S)){var z=this.clone();return R===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}else{var B=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,R,$);return this.cache={},B}}}]),I}(f.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[E.default,f.default.Embed,p.default];function k(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(I=(0,l.default)(I,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?I:k(T.parent,I)}r.bubbleFormats=k,r.BlockEmbed=b,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s=function(){function F(D,N){var P=[],M=!0,V=!1,q=void 0;try{for(var x=D[Symbol.iterator](),U;!(M=(U=x.next()).done)&&(P.push(U.value),!(N&&P.length===N));M=!0);}catch(K){V=!0,q=K}finally{try{!M&&x.return&&x.return()}finally{if(V)throw q}}return P}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return F(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function F(D,N){for(var P=0;P<N.length;P++){var M=N[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(D,M.key,M)}}return function(D,N,P){return N&&F(D.prototype,N),P&&F(D,P),D}}();i(50);var l=i(2),u=k(l),c=i(14),h=k(c),f=i(8),d=k(f),y=i(9),v=k(y),E=i(0),m=k(E),p=i(15),w=k(p),g=i(3),_=k(g),O=i(10),S=k(O),b=i(34),A=k(b);function k(F){return F&&F.__esModule?F:{default:F}}function T(F,D,N){return D in F?Object.defineProperty(F,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[D]=N,F}function I(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}var C=(0,S.default)("quill"),R=function(){a(F,null,[{key:"debug",value:function(N){N===!0&&(N="log"),S.default.level(N)}},{key:"find",value:function(N){return N.__quill||m.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&C.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,P){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var q=N.attrName||N.blotName;typeof q=="string"?this.register("formats/"+q,N,P):Object.keys(N).forEach(function(x){M.register(x,N[x],P)})}else this.imports[N]!=null&&!V&&C.warn("Overwriting "+N+" with",P),this.imports[N]=P,(N.startsWith("blots/")||N.startsWith("formats/"))&&P.blotName!=="abstract"?m.default.register(P):N.startsWith("modules")&&typeof P.register=="function"&&P.register()}}]);function F(D){var N=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,F),this.options=$(D,P),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",D);this.options.debug&&F.debug(this.options.debug);var M=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(q){q===d.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(q,x){var U=N.selection.lastRange,K=U&&U.length===0?U.index:void 0;z.call(N,function(){return N.editor.update(null,x,K)},q)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+M+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(F,[{key:"addContainer",value:function(N){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var M=N;N=document.createElement("div"),N.classList.add(M)}return this.container.insertBefore(N,P),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,P,M){var V=this,q=B(N,P,M),x=s(q,4);return N=x[0],P=x[1],M=x[3],z.call(this,function(){return V.editor.deleteText(N,P)},M,N,-1*P)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,P){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return z.call(this,function(){var q=M.getSelection(!0),x=new u.default;if(q==null)return x;if(m.default.query(N,m.default.Scope.BLOCK))x=M.editor.formatLine(q.index,q.length,T({},N,P));else{if(q.length===0)return M.selection.format(N,P),x;x=M.editor.formatText(q.index,q.length,T({},N,P))}return M.setSelection(q,d.default.sources.SILENT),x},V)}},{key:"formatLine",value:function(N,P,M,V,q){var x=this,U=void 0,K=B(N,P,M,V,q),W=s(K,4);return N=W[0],P=W[1],U=W[2],q=W[3],z.call(this,function(){return x.editor.formatLine(N,P,U)},q,N,0)}},{key:"formatText",value:function(N,P,M,V,q){var x=this,U=void 0,K=B(N,P,M,V,q),W=s(K,4);return N=W[0],P=W[1],U=W[2],q=W[3],z.call(this,function(){return x.editor.formatText(N,P,U)},q,N,0)}},{key:"getBounds",value:function(N){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=void 0;typeof N=="number"?M=this.selection.getBounds(N,P):M=this.selection.getBounds(N.index,N.length);var V=this.container.getBoundingClientRect();return{bottom:M.bottom-V.top,height:M.height,left:M.left-V.left,right:M.right-V.left,top:M.top-V.top,width:M.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,M=B(N,P),V=s(M,2);return N=V[0],P=V[1],this.editor.getContents(N,P)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,P):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,P)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,M=B(N,P),V=s(M,2);return N=V[0],P=V[1],this.editor.getText(N,P)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,P,M){var V=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F.sources.API;return z.call(this,function(){return V.editor.insertEmbed(N,P,M)},q,N)}},{key:"insertText",value:function(N,P,M,V,q){var x=this,U=void 0,K=B(N,0,M,V,q),W=s(K,4);return N=W[0],U=W[2],q=W[3],z.call(this,function(){return x.editor.insertText(N,P,U)},q,N,P.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,P,M){this.clipboard.dangerouslyPasteHTML(N,P,M)}},{key:"removeFormat",value:function(N,P,M){var V=this,q=B(N,P,M),x=s(q,4);return N=x[0],P=x[1],M=x[3],z.call(this,function(){return V.editor.removeFormat(N,P)},M,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var P=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return z.call(this,function(){N=new u.default(N);var V=P.getLength(),q=P.editor.deleteText(0,V),x=P.editor.applyDelta(N),U=x.ops[x.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(P.editor.deleteText(P.getLength()-1,1),x.delete(1));var K=q.compose(x);return K},M)}},{key:"setSelection",value:function(N,P,M){if(N==null)this.selection.setRange(null,P||F.sources.API);else{var V=B(N,P,M),q=s(V,4);N=q[0],P=q[1],M=q[3],this.selection.setRange(new p.Range(N,P),M),M!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,M=new u.default().insert(N);return this.setContents(M,P)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,P=this.scroll.update(N);return this.selection.update(N),P}},{key:"updateContents",value:function(N){var P=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return z.call(this,function(){return N=new u.default(N),P.editor.applyDelta(N,M)},M,!0)}}]),F}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=d.default.events,R.sources=d.default.sources,R.version="1.3.7",R.imports={delta:u.default,parchment:m.default,"core/module":v.default,"core/theme":A.default};function $(F,D){if(D=(0,_.default)(!0,{container:F,modules:{clipboard:!0,keyboard:!0,history:!0}},D),!D.theme||D.theme===R.DEFAULTS.theme)D.theme=A.default;else if(D.theme=R.import("themes/"+D.theme),D.theme==null)throw new Error("Invalid theme "+D.theme+". Did you register it?");var N=(0,_.default)(!0,{},D.theme.DEFAULTS);[N,D].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(q){V.modules[q]===!0&&(V.modules[q]={})})});var P=Object.keys(N.modules).concat(Object.keys(D.modules)),M=P.reduce(function(V,q){var x=R.import("modules/"+q);return x==null?C.error("Cannot load "+q+" module. Are you sure you registered it?"):V[q]=x.DEFAULTS||{},V},{});return D.modules!=null&&D.modules.toolbar&&D.modules.toolbar.constructor!==Object&&(D.modules.toolbar={container:D.modules.toolbar}),D=(0,_.default)(!0,{},R.DEFAULTS,{modules:M},N,D),["bounds","container","scrollingContainer"].forEach(function(V){typeof D[V]=="string"&&(D[V]=document.querySelector(D[V]))}),D.modules=Object.keys(D.modules).reduce(function(V,q){return D.modules[q]&&(V[q]=D.modules[q]),V},{}),D}function z(F,D,N,P){if(this.options.strict&&!this.isEnabled()&&D===d.default.sources.USER)return new u.default;var M=N==null?null:this.getSelection(),V=this.editor.delta,q=F();if(M!=null&&(N===!0&&(N=M.index),P==null?M=H(M,q,D):P!==0&&(M=H(M,N,P,D)),this.setSelection(M,d.default.sources.SILENT)),q.length()>0){var x,U=[d.default.events.TEXT_CHANGE,q,V,D];if((x=this.emitter).emit.apply(x,[d.default.events.EDITOR_CHANGE].concat(U)),D!==d.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,U)}}return q}function B(F,D,N,P,M){var V={};return typeof F.index=="number"&&typeof F.length=="number"?typeof D!="number"?(M=P,P=N,N=D,D=F.length,F=F.index):(D=F.length,F=F.index):typeof D!="number"&&(M=P,P=N,N=D,D=0),(typeof N>"u"?"undefined":o(N))==="object"?(V=N,M=P):typeof N=="string"&&(P!=null?V[N]=P:M=N),M=M||d.default.sources.API,[F,D,V,M]}function H(F,D,N,P){if(F==null)return null;var M=void 0,V=void 0;if(D instanceof u.default){var q=[F.index,F.index+F.length].map(function(W){return D.transformPosition(W,P!==d.default.sources.USER)}),x=s(q,2);M=x[0],V=x[1]}else{var U=[F.index,F.index+F.length].map(function(W){return W<D||W===D&&P===d.default.sources.USER?W:N>=0?W+N:Math.max(D,W+N)}),K=s(U,2);M=K[0],V=K[1]}return new p.Range(M,V-M)}r.expandConfig=$,r.overload=B,r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var w=0;w<p.length;w++){var g=p[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,w){return p&&E(m.prototype,p),w&&E(m,w),m}}(),s=function E(m,p,w){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,w)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(w)}},a=i(7),l=h(a),u=i(0),c=h(u);function h(E){return E&&E.__esModule?E:{default:E}}function f(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function d(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function y(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var v=function(E){y(m,E);function m(){return f(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"formatAt",value:function(w,g,_,O){if(m.compare(this.statics.blotName,_)<0&&c.default.query(_,c.default.Scope.BLOT)){var S=this.isolate(w,g);O&&S.wrap(_,O)}else s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,w,g,_,O)}},{key:"optimize",value:function(w){if(s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,w),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(w,g){var _=m.order.indexOf(w),O=m.order.indexOf(g);return _>=0||O>=0?_-O:w===g?0:w<g?-1:1}}]),m}(c.default.Inline);v.allowedChildren=[v,c.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(w,g){for(var _=0;_<g.length;_++){var O=g[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,g,_){return g&&p(w.prototype,g),_&&p(w,_),w}}(),s=function p(w,g,_){w===null&&(w=Function.prototype);var O=Object.getOwnPropertyDescriptor(w,g);if(O===void 0){var S=Object.getPrototypeOf(w);return S===null?void 0:p(S,g,_)}else{if("value"in O)return O.value;var b=O.get;return b===void 0?void 0:b.call(_)}},a=i(54),l=h(a),u=i(10),c=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function f(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function d(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:p}function y(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}var v=(0,c.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(p){document.addEventListener(p,function(){for(var w=arguments.length,g=Array(w),_=0;_<w;_++)g[_]=arguments[_];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var S;(S=O.__quill.emitter).handleDOM.apply(S,g)}})})});var m=function(p){y(w,p);function w(){f(this,w);var g=d(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return g.listeners={},g.on("error",v.error),g}return o(w,[{key:"emit",value:function(){v.log.apply(v,arguments),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(_){for(var O=arguments.length,S=Array(O>1?O-1:0),b=1;b<O;b++)S[b-1]=arguments[b];(this.listeners[_.type]||[]).forEach(function(A){var k=A.node,T=A.handler;(_.target===k||k.contains(_.target))&&T.apply(void 0,[_].concat(S))})}},{key:"listenDOM",value:function(_,O,S){this.listeners[_]||(this.listeners[_]=[]),this.listeners[_].push({node:O,handler:S})}}]),w}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,h=arguments.length,f=Array(h>1?h-1:0),d=1;d<h;d++)f[d-1]=arguments[d];(c=console)[u].apply(c,f)}}function l(u){return o.reduce(function(c,h){return c[h]=a.bind(console,h,u),c},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(f,d,y){return y||(y={}),f===d?!0:f instanceof Date&&d instanceof Date?f.getTime()===d.getTime():!f||!d||typeof f!="object"&&typeof d!="object"?y.strict?f===d:f==d:h(f,d,y)};function u(f){return f==null}function c(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,d,y){var v,E;if(u(f)||u(d)||f.prototype!==d.prototype)return!1;if(a(f))return a(d)?(f=o.call(f),d=o.call(d),l(f,d,y)):!1;if(c(f)){if(!c(d)||f.length!==d.length)return!1;for(v=0;v<f.length;v++)if(f[v]!==d[v])return!1;return!0}try{var m=s(f),p=s(d)}catch{return!1}if(m.length!=p.length)return!1;for(m.sort(),p.sort(),v=m.length-1;v>=0;v--)if(m[v]!=p[v])return!1;for(v=m.length-1;v>=0;v--)if(E=m[v],!l(f[E],d[E],y))return!1;return typeof f==typeof d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function b(A,k){var T=[],I=!0,C=!1,R=void 0;try{for(var $=A[Symbol.iterator](),z;!(I=(z=$.next()).done)&&(T.push(z.value),!(k&&T.length===k));I=!0);}catch(B){C=!0,R=B}finally{try{!I&&$.return&&$.return()}finally{if(C)throw R}}return T}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return b(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(A,k){for(var T=0;T<k.length;T++){var I=k[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,k,T){return k&&b(A.prototype,k),T&&b(A,T),A}}(),a=function b(A,k,T){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,k);if(I===void 0){var C=Object.getPrototypeOf(A);return C===null?void 0:b(C,k,T)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call(T)}},l=i(2),u=p(l),c=i(0),h=p(c),f=i(4),d=p(f),y=i(6),v=p(y),E=i(7),m=p(E);function p(b){return b&&b.__esModule?b:{default:b}}function w(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function g(b,A){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:b}function _(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}var O=function(b){_(A,b);function A(){return w(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(v.default);O.blotName="code",O.tagName="CODE";var S=function(b){_(A,b);function A(){return w(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"delta",value:function(){var T=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(C,R){return C.insert(R).insert(`
`,T.formats())},new u.default)}},{key:"format",value:function(T,I){if(!(T===this.statics.blotName&&I)){var C=this.descendant(m.default,this.length()-1),R=o(C,1),$=R[0];$!=null&&$.deleteAt($.length()-1,1),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,T,I)}}},{key:"formatAt",value:function(T,I,C,R){if(I!==0&&!(h.default.query(C,h.default.Scope.BLOCK)==null||C===this.statics.blotName&&R===this.statics.formats(this.domNode))){var $=this.newlineIndex(T);if(!($<0||$>=T+I)){var z=this.newlineIndex(T,!0)+1,B=$-z+1,H=this.isolate(z,B),F=H.next;H.format(C,R),F instanceof A&&F.formatAt(0,T-z+I-B,C,R)}}}},{key:"insertAt",value:function(T,I,C){if(C==null){var R=this.descendant(m.default,T),$=o(R,2),z=$[0],B=$[1];z.insertAt(B,I)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var C=this.domNode.textContent.slice(T).indexOf(`
`);return C>-1?T+C:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,T);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(T),I.moveChildren(this),I.remove())}},{key:"replace",value:function(T){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var C=h.default.find(I);C==null?I.parentNode.removeChild(I):C instanceof h.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(T){var I=a(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,T);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),A}(d.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=O,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s=function(){function F(D,N){var P=[],M=!0,V=!1,q=void 0;try{for(var x=D[Symbol.iterator](),U;!(M=(U=x.next()).done)&&(P.push(U.value),!(N&&P.length===N));M=!0);}catch(K){V=!0,q=K}finally{try{!M&&x.return&&x.return()}finally{if(V)throw q}}return P}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return F(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function F(D,N){for(var P=0;P<N.length;P++){var M=N[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(D,M.key,M)}}return function(D,N,P){return N&&F(D.prototype,N),P&&F(D,P),D}}(),l=i(2),u=I(l),c=i(20),h=I(c),f=i(0),d=I(f),y=i(13),v=I(y),E=i(24),m=I(E),p=i(4),w=I(p),g=i(16),_=I(g),O=i(21),S=I(O),b=i(11),A=I(b),k=i(3),T=I(k);function I(F){return F&&F.__esModule?F:{default:F}}function C(F,D,N){return D in F?Object.defineProperty(F,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):F[D]=N,F}function R(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}var $=/^[ -~]*$/,z=function(){function F(D){R(this,F),this.scroll=D,this.delta=this.getDelta()}return a(F,[{key:"applyDelta",value:function(N){var P=this,M=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),N=H(N),N.reduce(function(q,x){var U=x.retain||x.delete||x.insert.length||1,K=x.attributes||{};if(x.insert!=null){if(typeof x.insert=="string"){var W=x.insert;W.endsWith(`
`)&&M&&(M=!1,W=W.slice(0,-1)),q>=V&&!W.endsWith(`
`)&&(M=!0),P.scroll.insertAt(q,W);var Y=P.scroll.line(q),te=s(Y,2),ue=te[0],de=te[1],le=(0,T.default)({},(0,p.bubbleFormats)(ue));if(ue instanceof w.default){var Se=ue.descendant(d.default.Leaf,de),lt=s(Se,1),He=lt[0];le=(0,T.default)(le,(0,p.bubbleFormats)(He))}K=h.default.attributes.diff(le,K)||{}}else if(o(x.insert)==="object"){var G=Object.keys(x.insert)[0];if(G==null)return q;P.scroll.insertAt(q,G,x.insert[G])}V+=U}return Object.keys(K).forEach(function(Q){P.scroll.formatAt(q,U,Q,K[Q])}),q+U},0),N.reduce(function(q,x){return typeof x.delete=="number"?(P.scroll.deleteAt(q,x.delete),q):q+(x.retain||x.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,P){return this.scroll.deleteAt(N,P),this.update(new u.default().retain(N).delete(P))}},{key:"formatLine",value:function(N,P){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(q){if(!(M.scroll.whitelist!=null&&!M.scroll.whitelist[q])){var x=M.scroll.lines(N,Math.max(P,1)),U=P;x.forEach(function(K){var W=K.length();if(!(K instanceof v.default))K.format(q,V[q]);else{var Y=N-K.offset(M.scroll),te=K.newlineIndex(Y+U)-Y+1;K.formatAt(Y,te,q,V[q])}U-=W})}}),this.scroll.optimize(),this.update(new u.default().retain(N).retain(P,(0,S.default)(V)))}},{key:"formatText",value:function(N,P){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(q){M.scroll.formatAt(N,P,q,V[q])}),this.update(new u.default().retain(N).retain(P,(0,S.default)(V)))}},{key:"getContents",value:function(N,P){return this.delta.slice(N,N+P)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,P){return N.concat(P.delta())},new u.default)}},{key:"getFormat",value:function(N){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=[],V=[];P===0?this.scroll.path(N).forEach(function(x){var U=s(x,1),K=U[0];K instanceof w.default?M.push(K):K instanceof d.default.Leaf&&V.push(K)}):(M=this.scroll.lines(N,P),V=this.scroll.descendants(d.default.Leaf,N,P));var q=[M,V].map(function(x){if(x.length===0)return{};for(var U=(0,p.bubbleFormats)(x.shift());Object.keys(U).length>0;){var K=x.shift();if(K==null)return U;U=B((0,p.bubbleFormats)(K),U)}return U});return T.default.apply(T.default,q)}},{key:"getText",value:function(N,P){return this.getContents(N,P).filter(function(M){return typeof M.insert=="string"}).map(function(M){return M.insert}).join("")}},{key:"insertEmbed",value:function(N,P,M){return this.scroll.insertAt(N,P,M),this.update(new u.default().retain(N).insert(C({},P,M)))}},{key:"insertText",value:function(N,P){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P=P.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,P),Object.keys(V).forEach(function(q){M.scroll.formatAt(N,P.length,q,V[q])}),this.update(new u.default().retain(N).insert(P,(0,S.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==w.default.blotName||N.children.length>1?!1:N.children.head instanceof _.default}},{key:"removeFormat",value:function(N,P){var M=this.getText(N,P),V=this.scroll.line(N+P),q=s(V,2),x=q[0],U=q[1],K=0,W=new u.default;x!=null&&(x instanceof v.default?K=x.newlineIndex(U)-U+1:K=x.length()-U,W=x.delta().slice(U,U+K-1).insert(`
`));var Y=this.getContents(N,P+K),te=Y.diff(new u.default().insert(M).concat(W)),ue=new u.default().retain(N).concat(te);return this.applyDelta(ue)}},{key:"update",value:function(N){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(P.length===1&&P[0].type==="characterData"&&P[0].target.data.match($)&&d.default.find(P[0].target)){var q=d.default.find(P[0].target),x=(0,p.bubbleFormats)(q),U=q.offset(this.scroll),K=P[0].oldValue.replace(m.default.CONTENTS,""),W=new u.default().insert(K),Y=new u.default().insert(q.value()),te=new u.default().retain(U).concat(W.diff(Y,M));N=te.reduce(function(ue,de){return de.insert?ue.insert(de.insert,x):ue.push(de)},new u.default),this.delta=V.compose(N)}else this.delta=this.getDelta(),(!N||!(0,A.default)(V.compose(N),this.delta))&&(N=V.diff(this.delta,M));return N}}]),F}();function B(F,D){return Object.keys(D).reduce(function(N,P){return F[P]==null||(D[P]===F[P]?N[P]=D[P]:Array.isArray(D[P])?D[P].indexOf(F[P])<0&&(N[P]=D[P].concat([F[P]])):N[P]=[D[P],F[P]]),N},{})}function H(F){return F.reduce(function(D,N){if(N.insert===1){var P=(0,S.default)(N.attributes);return delete P.image,D.insert({image:N.attributes.image},P)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,S.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var M=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return D.insert(M,N.attributes)}return D.push(N)},new u.default)}r.default=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function b(A,k){var T=[],I=!0,C=!1,R=void 0;try{for(var $=A[Symbol.iterator](),z;!(I=(z=$.next()).done)&&(T.push(z.value),!(k&&T.length===k));I=!0);}catch(B){C=!0,R=B}finally{try{!I&&$.return&&$.return()}finally{if(C)throw R}}return T}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return b(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(A,k){for(var T=0;T<k.length;T++){var I=k[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,k,T){return k&&b(A.prototype,k),T&&b(A,T),A}}(),a=i(0),l=m(a),u=i(21),c=m(u),h=i(11),f=m(h),d=i(8),y=m(d),v=i(10),E=m(v);function m(b){return b&&b.__esModule?b:{default:b}}function p(b){if(Array.isArray(b)){for(var A=0,k=Array(b.length);A<b.length;A++)k[A]=b[A];return k}else return Array.from(b)}function w(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}var g=(0,E.default)("quill:selection"),_=function b(A){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,b),this.index=A,this.length=k},O=function(){function b(A,k){var T=this;w(this,b),this.emitter=k,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new _(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(I,C){I===y.default.events.TEXT_CHANGE&&C.length()>0&&T.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var I=T.getNativeRange();I!=null&&I.start.node!==T.cursor.textNode&&T.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(I,C){if(C.range){var R=C.range,$=R.startNode,z=R.startOffset,B=R.endNode,H=R.endOffset;T.setNativeRange($,z,B,H)}}),this.update(y.default.sources.SILENT)}return s(b,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var T=k.cursor.restore();if(!T)return;setTimeout(function(){k.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||l.default.query(k,l.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var C=l.default.find(I.start.node,!1);if(C==null)return;if(C instanceof l.default.Leaf){var R=C.split(I.start.offset);C.parent.insertBefore(this.cursor,R)}else C.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(k,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();k=Math.min(k,I-1),T=Math.min(k+T,I-1)-k;var C=void 0,R=this.scroll.leaf(k),$=o(R,2),z=$[0],B=$[1];if(z==null)return null;var H=z.position(B,!0),F=o(H,2);C=F[0],B=F[1];var D=document.createRange();if(T>0){D.setStart(C,B);var N=this.scroll.leaf(k+T),P=o(N,2);if(z=P[0],B=P[1],z==null)return null;var M=z.position(B,!0),V=o(M,2);return C=V[0],B=V[1],D.setEnd(C,B),D.getBoundingClientRect()}else{var q="left",x=void 0;return C instanceof Text?(B<C.data.length?(D.setStart(C,B),D.setEnd(C,B+1)):(D.setStart(C,B-1),D.setEnd(C,B),q="right"),x=D.getBoundingClientRect()):(x=z.domNode.getBoundingClientRect(),B>0&&(q="right")),{bottom:x.top+x.height,height:x.height,left:x[q],right:x[q],top:x.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var T=k.getRangeAt(0);if(T==null)return null;var I=this.normalizeNative(T);return g.info("getNativeRange",I),I}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var T=this.normalizedToRange(k);return[T,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var T=this,I=[[k.start.node,k.start.offset]];k.native.collapsed||I.push([k.end.node,k.end.offset]);var C=I.map(function(z){var B=o(z,2),H=B[0],F=B[1],D=l.default.find(H,!0),N=D.offset(T.scroll);return F===0?N:D instanceof l.default.Container?N+D.length():N+D.index(H,F)}),R=Math.min(Math.max.apply(Math,p(C)),this.scroll.length()-1),$=Math.min.apply(Math,[R].concat(p(C)));return new _($,R-$)}},{key:"normalizeNative",value:function(k){if(!S(this.root,k.startContainer)||!k.collapsed&&!S(this.root,k.endContainer))return null;var T={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[T.start,T.end].forEach(function(I){for(var C=I.node,R=I.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>R)C=C.childNodes[R],R=0;else if(C.childNodes.length===R)C=C.lastChild,R=C instanceof Text?C.data.length:C.childNodes.length+1;else break;I.node=C,I.offset=R}),T}},{key:"rangeToNative",value:function(k){var T=this,I=k.collapsed?[k.index]:[k.index,k.index+k.length],C=[],R=this.scroll.length();return I.forEach(function($,z){$=Math.min(R-1,$);var B=void 0,H=T.scroll.leaf($),F=o(H,2),D=F[0],N=F[1],P=D.position(N,z!==0),M=o(P,2);B=M[0],N=M[1],C.push(B,N)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(k){var T=this.lastRange;if(T!=null){var I=this.getBounds(T.index,T.length);if(I!=null){var C=this.scroll.length()-1,R=this.scroll.line(Math.min(T.index,C)),$=o(R,1),z=$[0],B=z;if(T.length>0){var H=this.scroll.line(Math.min(T.index+T.length,C)),F=o(H,1);B=F[0]}if(!(z==null||B==null)){var D=k.getBoundingClientRect();I.top<D.top?k.scrollTop-=D.top-I.top:I.bottom>D.bottom&&(k.scrollTop+=I.bottom-D.bottom)}}}}},{key:"setNativeRange",value:function(k,T){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",k,T,I,C),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||I.parentNode==null))){var $=document.getSelection();if($!=null)if(k!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||R||k!==z.startContainer||T!==z.startOffset||I!==z.endContainer||C!==z.endOffset){k.tagName=="BR"&&(T=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),I.tagName=="BR"&&(C=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var B=document.createRange();B.setStart(k,T),B.setEnd(I,C),$.removeAllRanges(),$.addRange(B)}}else $.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof T=="string"&&(I=T,T=!1),g.info("setRange",k),k!=null){var C=this.rangeToNative(k);this.setNativeRange.apply(this,p(C).concat([T]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,T=this.lastRange,I=this.getRange(),C=o(I,2),R=C[0],$=C[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(T,this.lastRange)){var z;!this.composing&&$!=null&&$.native.collapsed&&$.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[y.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(T),k];if((z=this.emitter).emit.apply(z,[y.default.events.EDITOR_CHANGE].concat(B)),k!==y.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,B)}}}}]),b}();function S(b,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),b.contains(A)}r.Range=_,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&y(v.prototype,E),m&&y(v,m),v}}(),s=function y(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var d=function(y){f(v,y);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(m,p){m.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,m,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var y in d)d.hasOwnProperty(y)&&(f[y]=d[y])};return function(f,d){h(f,d);function y(){this.constructor=f}f.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(h){o(f,h);function f(d){var y=h.call(this,d)||this;return y.build(),y}return f.prototype.appendChild=function(d){this.insertBefore(d)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},f.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var v=c(y);d.insertBefore(v,d.children.head||void 0)}catch(E){if(E instanceof l.ParchmentError)return;throw E}})},f.prototype.deleteAt=function(d,y){if(d===0&&y===this.length())return this.remove();this.children.forEachAt(d,y,function(v,E,m){v.deleteAt(E,m)})},f.prototype.descendant=function(d,y){var v=this.children.find(y),E=v[0],m=v[1];return d.blotName==null&&d(E)||d.blotName!=null&&E instanceof d?[E,m]:E instanceof f?E.descendant(d,m):[null,-1]},f.prototype.descendants=function(d,y,v){y===void 0&&(y=0),v===void 0&&(v=Number.MAX_VALUE);var E=[],m=v;return this.children.forEachAt(y,v,function(p,w,g){(d.blotName==null&&d(p)||d.blotName!=null&&p instanceof d)&&E.push(p),p instanceof f&&(E=E.concat(p.descendants(d,w,m))),m-=g}),E},f.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(d,y,v,E){this.children.forEachAt(d,y,function(m,p,w){m.formatAt(p,w,v,E)})},f.prototype.insertAt=function(d,y,v){var E=this.children.find(d),m=E[0],p=E[1];if(m)m.insertAt(p,y,v);else{var w=v==null?l.create("text",y):l.create(y,v);this.appendChild(w)}},f.prototype.insertBefore=function(d,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return d instanceof v}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,y)},f.prototype.length=function(){return this.children.reduce(function(d,y){return d+y.length()},0)},f.prototype.moveChildren=function(d,y){this.children.forEach(function(v){d.insertBefore(v,y)})},f.prototype.optimize=function(d){if(h.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var y=l.create(this.statics.defaultChild);this.appendChild(y),y.optimize(d)}else this.remove()},f.prototype.path=function(d,y){y===void 0&&(y=!1);var v=this.children.find(d,y),E=v[0],m=v[1],p=[[this,d]];return E instanceof f?p.concat(E.path(m,y)):(E!=null&&p.push([E,m]),p)},f.prototype.removeChild=function(d){this.children.remove(d)},f.prototype.replace=function(d){d instanceof f&&d.moveChildren(this),h.prototype.replace.call(this,d)},f.prototype.split=function(d,y){if(y===void 0&&(y=!1),!y){if(d===0)return this;if(d===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(d,this.length(),function(E,m,p){E=E.split(m,y),v.appendChild(E)}),v},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(d,y){var v=this,E=[],m=[];d.forEach(function(p){p.target===v.domNode&&p.type==="childList"&&(E.push.apply(E,p.addedNodes),m.push.apply(m,p.removedNodes))}),m.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(p);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===v.domNode)&&w.detach()}}),E.filter(function(p){return p.parentNode==v.domNode}).sort(function(p,w){return p===w?0:p.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var w=null;p.nextSibling!=null&&(w=l.find(p.nextSibling));var g=c(p);(g.next!=w||g.next==null)&&(g.parent!=null&&g.parent.removeChild(v),v.insertBefore(g,w||void 0))})},f}(a.default);function c(h){var f=l.find(h);if(f==null)try{f=l.create(h)}catch{f=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(y){f.domNode.appendChild(y)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var y in d)d.hasOwnProperty(y)&&(f[y]=d[y])};return function(f,d){h(f,d);function y(){this.constructor=f}f.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),c=function(h){o(f,h);function f(d){var y=h.call(this,d)||this;return y.attributes=new a.default(y.domNode),y}return f.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},f.prototype.format=function(d,y){var v=u.query(d);v instanceof s.default?this.attributes.attribute(v,y):y&&v!=null&&(d!==this.statics.blotName||this.formats()[d]!==y)&&this.replaceWith(d,y)},f.prototype.formats=function(){var d=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(d[this.statics.blotName]=y),d},f.prototype.replaceWith=function(d,y){var v=h.prototype.replaceWith.call(this,d,y);return this.attributes.copy(v),v},f.prototype.update=function(d,y){var v=this;h.prototype.update.call(this,d,y),d.some(function(E){return E.target===v.domNode&&E.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(d,y){var v=h.prototype.wrap.call(this,d,y);return v instanceof f&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},f}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(h){return!0},c.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},c.prototype.position=function(h,f){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(d+=1),[this.parent.domNode,d]},c.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,c,h){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=s(!0,{},c);h||(f=Object.keys(f).reduce(function(y,v){return f[v]!=null&&(y[v]=f[v]),y},{}));for(var d in u)u[d]!==void 0&&c[d]===void 0&&(f[d]=u[d]);return Object.keys(f).length>0?f:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=Object.keys(u).concat(Object.keys(c)).reduce(function(f,d){return o(u[d],c[d])||(f[d]=c[d]===void 0?null:c[d]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(u,c,h){if(typeof u!="object")return c;if(typeof c=="object"){if(!h)return c;var f=Object.keys(c).reduce(function(d,y){return u[y]===void 0&&(d[y]=c[y]),d},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var h=this.offset,f=a.length(c);if(u>=f-h?(u=f-h,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var d={};return c.attributes&&(d.attributes=c.attributes),typeof c.retain=="number"?d.retain=u:typeof c.insert=="string"?d.insert=c.insert.substr(h,u):d.insert=c.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=c,[h].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,E){return E!=null&&v instanceof E}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,E,m,p,w){typeof E=="object"&&(m=E.depth,p=E.prototype,w=E.includeNonEnumerable,E=E.circular);var g=[],_=[],O=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof m>"u"&&(m=1/0);function S(b,A){if(b===null)return null;if(A===0)return b;var k,T;if(typeof b!="object")return b;if(o(b,s))k=new s;else if(o(b,a))k=new a;else if(o(b,l))k=new l(function(D,N){b.then(function(P){D(S(P,A-1))},function(P){N(S(P,A-1))})});else if(u.__isArray(b))k=[];else if(u.__isRegExp(b))k=new RegExp(b.source,y(b)),b.lastIndex&&(k.lastIndex=b.lastIndex);else if(u.__isDate(b))k=new Date(b.getTime());else{if(O&&Buffer.isBuffer(b))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(b.length):k=new Buffer(b.length),b.copy(k),k;o(b,Error)?k=Object.create(b):typeof p>"u"?(T=Object.getPrototypeOf(b),k=Object.create(T)):(k=Object.create(p),T=p)}if(E){var I=g.indexOf(b);if(I!=-1)return _[I];g.push(b),_.push(k)}o(b,s)&&b.forEach(function(D,N){var P=S(N,A-1),M=S(D,A-1);k.set(P,M)}),o(b,a)&&b.forEach(function(D){var N=S(D,A-1);k.add(N)});for(var C in b){var R;T&&(R=Object.getOwnPropertyDescriptor(T,C)),!(R&&R.set==null)&&(k[C]=S(b[C],A-1))}if(Object.getOwnPropertySymbols)for(var $=Object.getOwnPropertySymbols(b),C=0;C<$.length;C++){var z=$[C],B=Object.getOwnPropertyDescriptor(b,z);B&&!B.enumerable&&!w||(k[z]=S(b[z],A-1),B.enumerable||Object.defineProperty(k,z,{enumerable:!1}))}if(w)for(var H=Object.getOwnPropertyNames(b),C=0;C<H.length;C++){var F=H[C],B=Object.getOwnPropertyDescriptor(b,F);B&&B.enumerable||(k[F]=S(b[F],A-1),Object.defineProperty(k,F,{enumerable:!1}))}return k}return S(v,m)}u.clonePrototype=function(E){if(E===null)return null;var m=function(){};return m.prototype=E,new m};function c(v){return Object.prototype.toString.call(v)}u.__objToStr=c;function h(v){return typeof v=="object"&&c(v)==="[object Date]"}u.__isDate=h;function f(v){return typeof v=="object"&&c(v)==="[object Array]"}u.__isArray=f;function d(v){return typeof v=="object"&&c(v)==="[object RegExp]"}u.__isRegExp=d;function y(v){var E="";return v.global&&(E+="g"),v.ignoreCase&&(E+="i"),v.multiline&&(E+="m"),E}return u.__getRegExpFlags=y,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function k(T,I){var C=[],R=!0,$=!1,z=void 0;try{for(var B=T[Symbol.iterator](),H;!(R=(H=B.next()).done)&&(C.push(H.value),!(I&&C.length===I));R=!0);}catch(F){$=!0,z=F}finally{try{!R&&B.return&&B.return()}finally{if($)throw z}}return C}return function(T,I){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return k(T,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(T,I){for(var C=0;C<I.length;C++){var R=I[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}}return function(T,I,C){return I&&k(T.prototype,I),C&&k(T,C),T}}(),a=function k(T,I,C){T===null&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,I);if(R===void 0){var $=Object.getPrototypeOf(T);return $===null?void 0:k($,I,C)}else{if("value"in R)return R.value;var z=R.get;return z===void 0?void 0:z.call(C)}},l=i(0),u=g(l),c=i(8),h=g(c),f=i(4),d=g(f),y=i(16),v=g(y),E=i(13),m=g(E),p=i(25),w=g(p);function g(k){return k&&k.__esModule?k:{default:k}}function _(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function O(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function S(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}function b(k){return k instanceof d.default||k instanceof f.BlockEmbed}var A=function(k){S(T,k);function T(I,C){_(this,T);var R=O(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I));return R.emitter=C.emitter,Array.isArray(C.whitelist)&&(R.whitelist=C.whitelist.reduce(function($,z){return $[z]=!0,$},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return s(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,R){var $=this.line(C),z=o($,2),B=z[0],H=z[1],F=this.line(C+R),D=o(F,1),N=D[0];if(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,C,R),N!=null&&B!==N&&H>0){if(B instanceof f.BlockEmbed||N instanceof f.BlockEmbed){this.optimize();return}if(B instanceof m.default){var P=B.newlineIndex(B.length(),!0);if(P>-1&&(B=B.split(P+1),B===N)){this.optimize();return}}else if(N instanceof m.default){var M=N.newlineIndex(0);M>-1&&N.split(M+1)}var V=N.children.head instanceof v.default?null:N.children.head;B.moveChildren(N,V),B.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,R,$,z){this.whitelist!=null&&!this.whitelist[$]||(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,C,R,$,z),this.optimize())}},{key:"insertAt",value:function(C,R,$){if(!($!=null&&this.whitelist!=null&&!this.whitelist[R])){if(C>=this.length())if($==null||u.default.query(R,u.default.Scope.BLOCK)==null){var z=u.default.create(this.statics.defaultChild);this.appendChild(z),$==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),z.insertAt(0,R,$)}else{var B=u.default.create(R,$);this.appendChild(B)}else a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,C,R,$);this.optimize()}}},{key:"insertBefore",value:function(C,R){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var $=u.default.create(this.statics.defaultChild);$.appendChild(C),C=$}a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,C,R)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(b,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,$=function z(B,H,F){var D=[],N=F;return B.children.forEachAt(H,F,function(P,M,V){b(P)?D.push(P):P instanceof u.default.Container&&(D=D.concat(z(P,M,N))),N-=V}),D};return $(this,C,R)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,C,R),C.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,C,R))}},{key:"path",value:function(C){return a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var R=h.default.sources.USER;typeof C=="string"&&(R=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,R,C),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,R,C)}}}]),T}(u.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[d.default,f.BlockEmbed,w.default],r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s=function(){function x(U,K){var W=[],Y=!0,te=!1,ue=void 0;try{for(var de=U[Symbol.iterator](),le;!(Y=(le=de.next()).done)&&(W.push(le.value),!(K&&W.length===K));Y=!0);}catch(Se){te=!0,ue=Se}finally{try{!Y&&de.return&&de.return()}finally{if(te)throw ue}}return W}return function(U,K){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return x(U,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function x(U,K){for(var W=0;W<K.length;W++){var Y=K[W];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(U,Y.key,Y)}}return function(U,K,W){return K&&x(U.prototype,K),W&&x(U,W),U}}(),l=i(21),u=k(l),c=i(11),h=k(c),f=i(3),d=k(f),y=i(2),v=k(y),E=i(20),m=k(E),p=i(0),w=k(p),g=i(5),_=k(g),O=i(10),S=k(O),b=i(9),A=k(b);function k(x){return x&&x.__esModule?x:{default:x}}function T(x,U,K){return U in x?Object.defineProperty(x,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):x[U]=K,x}function I(x,U){if(!(x instanceof U))throw new TypeError("Cannot call a class as a function")}function C(x,U){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:x}function R(x,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);x.prototype=Object.create(U&&U.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(x,U):x.__proto__=U)}var $=(0,S.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(x){R(U,x),a(U,null,[{key:"match",value:function(W,Y){return Y=q(Y),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!Y[te]!==W[te]&&Y[te]!==null})?!1:Y.key===(W.which||W.keyCode)}}]);function U(K,W){I(this,U);var Y=C(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,W));return Y.bindings={},Object.keys(Y.options.bindings).forEach(function(te){te==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||Y.options.bindings[te]&&Y.addBinding(Y.options.bindings[te])}),Y.addBinding({key:U.keys.ENTER,shiftKey:null},P),Y.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Y.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},F),Y.addBinding({key:U.keys.DELETE},{collapsed:!0},D)):(Y.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},F),Y.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},D)),Y.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},N),Y.addBinding({key:U.keys.DELETE},{collapsed:!1},N),Y.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},F),Y.listen(),Y}return a(U,[{key:"addBinding",value:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ue=q(W);if(ue==null||ue.key==null)return $.warn("Attempted to add invalid keyboard binding",ue);typeof Y=="function"&&(Y={handler:Y}),typeof te=="function"&&(te={handler:te}),ue=(0,d.default)(ue,Y,te),this.bindings[ue.key]=this.bindings[ue.key]||[],this.bindings[ue.key].push(ue)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(Y){if(!Y.defaultPrevented){var te=Y.which||Y.keyCode,ue=(W.bindings[te]||[]).filter(function(qe){return U.match(Y,qe)});if(ue.length!==0){var de=W.quill.getSelection();if(!(de==null||!W.quill.hasFocus())){var le=W.quill.getLine(de.index),Se=s(le,2),lt=Se[0],He=Se[1],G=W.quill.getLeaf(de.index),Q=s(G,2),ne=Q[0],re=Q[1],J=de.length===0?[ne,re]:W.quill.getLeaf(de.index+de.length),ye=s(J,2),me=ye[0],oe=ye[1],Je=ne instanceof w.default.Text?ne.value().slice(0,re):"",jt=me instanceof w.default.Text?me.value().slice(oe):"",Me={collapsed:de.length===0,empty:de.length===0&&lt.length()<=1,format:W.quill.getFormat(de),offset:He,prefix:Je,suffix:jt},nl=ue.some(function(qe){if(qe.collapsed!=null&&qe.collapsed!==Me.collapsed||qe.empty!=null&&qe.empty!==Me.empty||qe.offset!=null&&qe.offset!==Me.offset)return!1;if(Array.isArray(qe.format)){if(qe.format.every(function(fn){return Me.format[fn]==null}))return!1}else if(o(qe.format)==="object"&&!Object.keys(qe.format).every(function(fn){return qe.format[fn]===!0?Me.format[fn]!=null:qe.format[fn]===!1?Me.format[fn]==null:(0,h.default)(qe.format[fn],Me.format[fn])}))return!1;return qe.prefix!=null&&!qe.prefix.test(Me.prefix)||qe.suffix!=null&&!qe.suffix.test(Me.suffix)?!1:qe.handler.call(W,de,Me)!==!0});nl&&Y.preventDefault()}}}})}}]),U}(A.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",_.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",_.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,K){K.format.indent!=null?this.quill.format("indent","-1",_.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,_.default.sources.USER)}},"indent code-block":M(!0),"outdent code-block":M(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,_.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(U){this.quill.history.cutoff();var K=new v.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(K,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,_.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,K){this.quill.format("list",!1,_.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,_.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var K=this.quill.getLine(U.index),W=s(K,2),Y=W[0],te=W[1],ue=(0,d.default)({},Y.formats(),{list:"checked"}),de=new v.default().retain(U.index).insert(`
`,ue).retain(Y.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(de,_.default.sources.USER),this.quill.setSelection(U.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,K){var W=this.quill.getLine(U.index),Y=s(W,2),te=Y[0],ue=Y[1],de=new v.default().retain(U.index).insert(`
`,K.format).retain(te.length()-ue-1).retain(1,{header:null});this.quill.updateContents(de,_.default.sources.USER),this.quill.setSelection(U.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,K){var W=K.prefix.length,Y=this.quill.getLine(U.index),te=s(Y,2),ue=te[0],de=te[1];if(de>W)return!0;var le=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(U.index," ",_.default.sources.USER),this.quill.history.cutoff();var Se=new v.default().retain(U.index-de).delete(W+1).retain(ue.length()-2-de).retain(1,{list:le});this.quill.updateContents(Se,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-W,_.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var K=this.quill.getLine(U.index),W=s(K,2),Y=W[0],te=W[1],ue=new v.default().retain(U.index+Y.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ue,_.default.sources.USER)}},"embed left":H(B.keys.LEFT,!1),"embed left shift":H(B.keys.LEFT,!0),"embed right":H(B.keys.RIGHT,!1),"embed right shift":H(B.keys.RIGHT,!0)}};function H(x,U){var K,W=x===B.keys.LEFT?"prefix":"suffix";return K={key:x,shiftKey:U,altKey:null},T(K,W,/^$/),T(K,"handler",function(te){var ue=te.index;x===B.keys.RIGHT&&(ue+=te.length+1);var de=this.quill.getLeaf(ue),le=s(de,1),Se=le[0];return Se instanceof w.default.Embed?(x===B.keys.LEFT?U?this.quill.setSelection(te.index-1,te.length+1,_.default.sources.USER):this.quill.setSelection(te.index-1,_.default.sources.USER):U?this.quill.setSelection(te.index,te.length+1,_.default.sources.USER):this.quill.setSelection(te.index+te.length+1,_.default.sources.USER),!1):!0}),K}function F(x,U){if(!(x.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(x.index),W=s(K,1),Y=W[0],te={};if(U.offset===0){var ue=this.quill.getLine(x.index-1),de=s(ue,1),le=de[0];if(le!=null&&le.length()>1){var Se=Y.formats(),lt=this.quill.getFormat(x.index-1,1);te=m.default.attributes.diff(Se,lt)||{}}}var He=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(x.index-He,He,_.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(x.index-He,He,te,_.default.sources.USER),this.quill.focus()}}function D(x,U){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(x.index>=this.quill.getLength()-K)){var W={},Y=0,te=this.quill.getLine(x.index),ue=s(te,1),de=ue[0];if(U.offset>=de.length()-1){var le=this.quill.getLine(x.index+1),Se=s(le,1),lt=Se[0];if(lt){var He=de.formats(),G=this.quill.getFormat(x.index,1);W=m.default.attributes.diff(He,G)||{},Y=lt.length()}}this.quill.deleteText(x.index,K,_.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(x.index+Y-1,K,W,_.default.sources.USER)}}function N(x){var U=this.quill.getLines(x),K={};if(U.length>1){var W=U[0].formats(),Y=U[U.length-1].formats();K=m.default.attributes.diff(Y,W)||{}}this.quill.deleteText(x,_.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(x.index,1,K,_.default.sources.USER),this.quill.setSelection(x.index,_.default.sources.SILENT),this.quill.focus()}function P(x,U){var K=this;x.length>0&&this.quill.scroll.deleteAt(x.index,x.length);var W=Object.keys(U.format).reduce(function(Y,te){return w.default.query(te,w.default.Scope.BLOCK)&&!Array.isArray(U.format[te])&&(Y[te]=U.format[te]),Y},{});this.quill.insertText(x.index,`
`,W,_.default.sources.USER),this.quill.setSelection(x.index+1,_.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(Y){W[Y]==null&&(Array.isArray(U.format[Y])||Y!=="link"&&K.quill.format(Y,U.format[Y],_.default.sources.USER))})}function M(x){return{key:B.keys.TAB,shiftKey:!x,format:{"code-block":!0},handler:function(K){var W=w.default.query("code-block"),Y=K.index,te=K.length,ue=this.quill.scroll.descendant(W,Y),de=s(ue,2),le=de[0],Se=de[1];if(le!=null){var lt=this.quill.getIndex(le),He=le.newlineIndex(Se,!0)+1,G=le.newlineIndex(lt+Se+te),Q=le.domNode.textContent.slice(He,G).split(`
`);Se=0,Q.forEach(function(ne,re){x?(le.insertAt(He+Se,W.TAB),Se+=W.TAB.length,re===0?Y+=W.TAB.length:te+=W.TAB.length):ne.startsWith(W.TAB)&&(le.deleteAt(He+Se,W.TAB.length),Se-=W.TAB.length,re===0?Y-=W.TAB.length:te-=W.TAB.length),Se+=ne.length+1}),this.quill.update(_.default.sources.USER),this.quill.setSelection(Y,te,_.default.sources.SILENT)}}}}function V(x){return{key:x[0].toUpperCase(),shortKey:!0,handler:function(K,W){this.quill.format(x,!W.format[x],_.default.sources.USER)}}}function q(x){if(typeof x=="string"||typeof x=="number")return q({key:x});if((typeof x>"u"?"undefined":o(x))==="object"&&(x=(0,u.default)(x,!1)),typeof x.key=="string")if(B.keys[x.key.toUpperCase()]!=null)x.key=B.keys[x.key.toUpperCase()];else if(x.key.length===1)x.key=x.key.toUpperCase().charCodeAt(0);else return null;return x.shortKey&&(x[z]=x.shortKey,delete x.shortKey),x}r.default=B,r.SHORTKEY=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,w){var g=[],_=!0,O=!1,S=void 0;try{for(var b=p[Symbol.iterator](),A;!(_=(A=b.next()).done)&&(g.push(A.value),!(w&&g.length===w));_=!0);}catch(k){O=!0,S=k}finally{try{!_&&b.return&&b.return()}finally{if(O)throw S}}return g}return function(p,w){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function m(p,w,g){p===null&&(p=Function.prototype);var _=Object.getOwnPropertyDescriptor(p,w);if(_===void 0){var O=Object.getPrototypeOf(p);return O===null?void 0:m(O,w,g)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(g)}},a=function(){function m(p,w){for(var g=0;g<w.length;g++){var _=w[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,w,g){return w&&m(p.prototype,w),g&&m(p,g),p}}(),l=i(0),u=f(l),c=i(7),h=f(c);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function y(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function v(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var E=function(m){v(p,m),a(p,null,[{key:"value",value:function(){}}]);function p(w,g){d(this,p);var _=y(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return _.selection=g,_.textNode=document.createTextNode(p.CONTENTS),_.domNode.appendChild(_.textNode),_._length=0,_}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,_){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,g,_);for(var O=this,S=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=p.CONTENTS.length,O.optimize(),O.formatAt(S,p.CONTENTS.length,g,_),this._length=0)}},{key:"index",value:function(g,_){return g===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,_)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,_=this.selection.getNativeRange(),O=void 0,S=void 0,b=void 0;if(_!=null&&_.start.node===g&&_.end.node===g){var A=[g,_.start.offset,_.end.offset];O=A[0],S=A[1],b=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var k=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof h.default?(O=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=p.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var T=[S,b].map(function(C){return Math.max(0,Math.min(O.data.length,C-1))}),I=o(T,2);return S=I[0],b=I[1],{startNode:O,startOffset:S,endNode:O,endOffset:b}}}}},{key:"update",value:function(g,_){var O=this;if(g.some(function(b){return b.type==="characterData"&&b.target===O.textNode})){var S=this.restore();S&&(_.range=S)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var d=function(y){f(v,y);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);d.allowedChildren=[l.default,a.BlockEmbed,d],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function E(m,p){for(var w=0;w<p.length;w++){var g=p[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,w){return p&&E(m.prototype,p),w&&E(m,w),m}}(),s=function E(m,p,w){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,w)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(w)}},a=i(0),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function c(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function h(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function f(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var d=function(E){f(m,E);function m(){return c(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(w){var g=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,w);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(_){return("00"+parseInt(_).toString(16)).slice(-2)}).join("")):g}}]),m}(l.default.Attributor.Style),y=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new d("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=y,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(E,m){for(var p=0;p<m.length;p++){var w=m[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,m,p){return m&&v(E.prototype,m),p&&v(E,p),E}}(),s=function v(E,m,p){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,m);if(w===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:v(g,m,p)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(p)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function h(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function f(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var d=function(v){f(E,v);function E(){return c(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(p,w){if(p!==this.statics.blotName||!w)return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,p,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(p){var w=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,p);return p=this.sanitize(p),w.setAttribute("href",p),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return y(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),E}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(v,E){var m=document.createElement("a");m.href=v;var p=m.href.slice(0,m.href.indexOf(":"));return E.indexOf(p)>-1}r.default=d,r.sanitize=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=function(){function E(m,p){for(var w=0;w<p.length;w++){var g=p[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,w){return p&&E(m.prototype,p),w&&E(m,w),m}}(),a=i(23),l=h(a),u=i(107),c=h(u);function h(E){return E&&E.__esModule?E:{default:E}}function f(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}var d=0;function y(E,m){E.setAttribute(m,E.getAttribute(m)!=="true")}var v=function(){function E(m){var p=this;f(this,E),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var w=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),p.hasAttribute("value")&&g.setAttribute("data-value",p.getAttribute("value")),p.textContent&&g.setAttribute("data-label",p.textContent),g.addEventListener("click",function(){w.selectItem(g,!0)}),g.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:w.selectItem(g,!0),_.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),_.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=c.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(g){var _=p.buildItem(g);w.appendChild(_),g.selected===!0&&p.selectItem(_)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(w){p.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(p!==g&&(g!=null&&g.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var _=document.createEvent("Event");_.initEvent("change",!0,!0),this.select.dispatchEvent(_)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var g=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),E}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=$(o),a=i(5),l=$(a),u=i(4),c=$(u),h=i(16),f=$(h),d=i(25),y=$(d),v=i(24),E=$(v),m=i(35),p=$(m),w=i(6),g=$(w),_=i(22),O=$(_),S=i(7),b=$(S),A=i(55),k=$(A),T=i(42),I=$(T),C=i(23),R=$(C);function $(z){return z&&z.__esModule?z:{default:z}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":y.default,"blots/cursor":E.default,"blots/embed":p.default,"blots/inline":g.default,"blots/scroll":O.default,"blots/text":b.default,"modules/clipboard":k.default,"modules/history":I.default,"modules/keyboard":R.default}),s.default.register(c.default,f.default,E.default,g.default,O.default,b.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,h){var f=this.isolate(l,u);if(o.query(c,o.Scope.BLOT)!=null&&h)f.wrap(c,h);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var d=o.create(this.statics.scope);f.wrap(d),d.format(c,h)}},a.prototype.insertAt=function(l,u,c){var h=c==null?o.create("text",u):o.create(u,c),f=this.split(l);this.parent.insertBefore(h,f)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function c(h){this.attributes={},this.domNode=h,this.build()}return c.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},c.prototype.build=function(){var h=this;this.attributes={};var f=o.default.keys(this.domNode),d=s.default.keys(this.domNode),y=a.default.keys(this.domNode);f.concat(d).concat(y).forEach(function(v){var E=l.query(v,l.Scope.ATTRIBUTE);E instanceof o.default&&(h.attributes[E.attrName]=E)})},c.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(d){var y=f.attributes[d].value(f.domNode);h.format(d,y)})},c.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(d){f.attributes[d].remove(f.domNode)}),this.attributes={}},c.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,d){return f[d]=h.attributes[d].value(h.domNode),f},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,c){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(c+"-")===0})}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},c.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},c.prototype.remove=function(h){var f=a(h,this.keyName);f.forEach(function(d){h.classList.remove(d)}),h.classList.length===0&&h.removeAttribute("class")},c.prototype.value=function(h){var f=a(h,this.keyName)[0]||"",d=f.slice(this.keyName.length+1);return this.canAdd(h,d)?d:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var c=u.split("-"),h=c.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return c[0]+h}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var d=f.split(":");return d[0].trim()})},c.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[a(this.keyName)]=f,!0):!1},c.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},c.prototype.value=function(h){var f=h.style[a(this.keyName)];return this.canAdd(h,f)?f:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){s(this,l),this.quill=u,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(h){c.modules[h]==null&&c.addModule(h)})}},{key:"addModule",value:function(c){var h=this.quill.constructor.import("modules/"+c);return this.modules[c]=new h(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,w){for(var g=0;g<w.length;g++){var _=w[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,w,g){return w&&m(p.prototype,w),g&&m(p,g),p}}(),s=function m(p,w,g){p===null&&(p=Function.prototype);var _=Object.getOwnPropertyDescriptor(p,w);if(_===void 0){var O=Object.getPrototypeOf(p);return O===null?void 0:m(O,w,g)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=h(a),u=i(7),c=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function y(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var v="\uFEFF",E=function(m){y(p,m);function p(w){f(this,p);var g=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(_){g.contentNode.appendChild(_)}),g.leftGuard=document.createTextNode(v),g.rightGuard=document.createTextNode(v),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(p,[{key:"index",value:function(g,_){return g===this.leftGuard?0:g===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,_)}},{key:"restore",value:function(g){var _=void 0,O=void 0,S=g.data.split(v).join("");if(g===this.leftGuard)if(this.prev instanceof c.default){var b=this.prev.length();this.prev.insertAt(b,S),_={startNode:this.prev.domNode,startOffset:b+S.length}}else O=document.createTextNode(S),this.parent.insertBefore(l.default.create(O),this),_={startNode:O,startOffset:S.length};else g===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,S),_={startNode:this.next.domNode,startOffset:S.length}):(O=document.createTextNode(S),this.parent.insertBefore(l.default.create(O),this.next),_={startNode:O,startOffset:S.length}));return g.data=v,_}},{key:"update",value:function(g,_){var O=this;g.forEach(function(S){if(S.type==="characterData"&&(S.target===O.leftGuard||S.target===O.rightGuard)){var b=O.restore(S.target);b&&(_.range=b)}})}}]),p}(l.default.Embed);r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function m(p,w){for(var g=0;g<w.length;g++){var _=w[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,w,g){return w&&m(p.prototype,w),g&&m(p,g),p}}(),s=function m(p,w,g){p===null&&(p=Function.prototype);var _=Object.getOwnPropertyDescriptor(p,w);if(_===void 0){var O=Object.getPrototypeOf(p);return O===null?void 0:m(O,w,g)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function h(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function f(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new l.default.Attributor.Class("font","ql-font",d),v=function(m){f(p,m);function p(){return c(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(g){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),E=new v("font","font-family",d);r.FontStyle=E,r.FontClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function w(g,_){for(var O=0;O<_.length;O++){var S=_[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,_,O){return _&&w(g.prototype,_),O&&w(g,O),g}}(),s=i(0),a=f(s),l=i(5),u=f(l),c=i(9),h=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function d(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function y(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function v(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var E=function(w){v(g,w);function g(_,O){d(this,g);var S=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,O));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(b,A,k,T){b!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||T===u.default.sources.USER?S.record(A,k):S.transform(A))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(g,[{key:"change",value:function(O,S){if(this.stack[O].length!==0){var b=this.stack[O].pop();this.stack[S].push(b),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(b[O],u.default.sources.USER),this.ignoreChange=!1;var A=p(b[O]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,S){if(O.ops.length!==0){this.stack.redo=[];var b=this.quill.getContents().diff(S),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var k=this.stack.undo.pop();b=b.compose(k.undo),O=k.redo.compose(O)}else this.lastRecorded=A;this.stack.undo.push({redo:O,undo:b}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(S){S.undo=O.transform(S.undo,!0),S.redo=O.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=O.transform(S.undo,!0),S.redo=O.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(h.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(w){var g=w.ops[w.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(_){return a.default.query(_,a.default.Scope.BLOCK)!=null}):!1}function p(w){var g=w.reduce(function(O,S){return O+=S.delete||0,O},0),_=w.length()-g;return m(w)&&(_-=1),_}r.default=E,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function P(M,V){for(var q=0;q<V.length;q++){var x=V[q];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(M,x.key,x)}}return function(M,V,q){return V&&P(M.prototype,V),q&&P(M,q),M}}(),s=function P(M,V,q){M===null&&(M=Function.prototype);var x=Object.getOwnPropertyDescriptor(M,V);if(x===void 0){var U=Object.getPrototypeOf(M);return U===null?void 0:P(U,V,q)}else{if("value"in x)return x.value;var K=x.get;return K===void 0?void 0:K.call(q)}},a=i(3),l=A(a),u=i(2),c=A(u),h=i(8),f=A(h),d=i(23),y=A(d),v=i(34),E=A(v),m=i(59),p=A(m),w=i(60),g=A(w),_=i(28),O=A(_),S=i(61),b=A(S);function A(P){return P&&P.__esModule?P:{default:P}}function k(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")}function T(P,M){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:P}function I(P,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);P.prototype=Object.create(M&&M.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(P,M):P.__proto__=M)}var C=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],$=[!1,"serif","monospace"],z=["1","2","3",!1],B=["small",!1,"large","huge"],H=function(P){I(M,P);function M(V,q){k(this,M);var x=T(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,V,q)),U=function K(W){if(!document.body.contains(V.root))return document.body.removeEventListener("click",K);x.tooltip!=null&&!x.tooltip.root.contains(W.target)&&document.activeElement!==x.tooltip.textbox&&!x.quill.hasFocus()&&x.tooltip.hide(),x.pickers!=null&&x.pickers.forEach(function(Y){Y.container.contains(W.target)||Y.close()})};return V.emitter.listenDOM("click",document.body,U),x}return o(M,[{key:"addModule",value:function(q){var x=s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"addModule",this).call(this,q);return q==="toolbar"&&this.extendToolbar(x),x}},{key:"buildButtons",value:function(q,x){q.forEach(function(U){var K=U.getAttribute("class")||"";K.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),x[W]!=null))if(W==="direction")U.innerHTML=x[W][""]+x[W].rtl;else if(typeof x[W]=="string")U.innerHTML=x[W];else{var Y=U.value||"";Y!=null&&x[W][Y]&&(U.innerHTML=x[W][Y])}})})}},{key:"buildPickers",value:function(q,x){var U=this;this.pickers=q.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&N(W,C),new g.default(W,x.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var Y=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&N(W,R,Y==="background"?"#ffffff":"#000000"),new p.default(W,x[Y])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?N(W,$):W.classList.contains("ql-header")?N(W,z):W.classList.contains("ql-size")&&N(W,B)),new O.default(W)});var K=function(){U.pickers.forEach(function(Y){Y.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,K)}}]),M}(E.default);H.DEFAULTS=(0,l.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var M=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var q=new FileReader;q.onload=function(x){var U=M.quill.getSelection(!0);M.quill.updateContents(new c.default().retain(U.index).delete(U.length).insert({image:x.target.result}),f.default.sources.USER),M.quill.setSelection(U.index+1,f.default.sources.SILENT),V.value=""},q.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var F=function(P){I(M,P);function M(V,q){k(this,M);var x=T(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,V,q));return x.textbox=x.root.querySelector('input[type="text"]'),x.listen(),x}return o(M,[{key:"listen",value:function(){var q=this;this.textbox.addEventListener("keydown",function(x){y.default.match(x,"enter")?(q.save(),x.preventDefault()):y.default.match(x,"escape")&&(q.cancel(),x.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),x!=null?this.textbox.value=x:q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+q)||""),this.root.setAttribute("data-mode",q)}},{key:"restoreFocus",value:function(){var q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=q}},{key:"save",value:function(){var q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var x=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,f.default.sources.USER)),this.quill.root.scrollTop=x;break}case"video":q=D(q);case"formula":{if(!q)break;var U=this.quill.getSelection(!0);if(U!=null){var K=U.index+U.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),q,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",f.default.sources.USER),this.quill.setSelection(K+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),M}(b.default);function D(P){var M=P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return M?(M[1]||"https")+"://www.youtube.com/embed/"+M[2]+"?showinfo=0":(M=P.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(M[1]||"https")+"://player.vimeo.com/video/"+M[2]+"/":P}function N(P,M){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;M.forEach(function(q){var x=document.createElement("option");q===V?x.setAttribute("selected","selected"):x.setAttribute("value",q),P.appendChild(x)})}r.BaseTooltip=F,r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var h=u.length();if(a<h||l&&a===h&&(u.next==null||u.next.length()!==0))return[u,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),h=c[0],f=c[1],d,y=a-f,v=this.iterator(h);(d=v())&&y<a+l;){var E=d.length();a>y?u(d,a-y,Math.min(l,y+E-a)):u(d,0,Math.min(E,a+l-y)),y+=E}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var y in d)d.hasOwnProperty(y)&&(f[y]=d[y])};return function(f,d){h(f,d);function y(){this.constructor=f}f.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(h){o(f,h);function f(d){var y=h.call(this,d)||this;return y.scroll=y,y.observer=new MutationObserver(function(v){y.update(v)}),y.observer.observe(y.domNode,l),y.attach(),y}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(d,y){this.update(),d===0&&y===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,d,y)},f.prototype.formatAt=function(d,y,v,E){this.update(),h.prototype.formatAt.call(this,d,y,v,E)},f.prototype.insertAt=function(d,y,v){this.update(),h.prototype.insertAt.call(this,d,y,v)},f.prototype.optimize=function(d,y){var v=this;d===void 0&&(d=[]),y===void 0&&(y={}),h.prototype.optimize.call(this,y);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)d.push(E.pop());for(var m=function(_,O){O===void 0&&(O=!0),!(_==null||_===v)&&_.domNode.parentNode!=null&&(_.domNode[a.DATA_KEY].mutations==null&&(_.domNode[a.DATA_KEY].mutations=[]),O&&m(_.parent))},p=function(_){_.domNode[a.DATA_KEY]==null||_.domNode[a.DATA_KEY].mutations==null||(_ instanceof s.default&&_.children.forEach(p),_.optimize(y))},w=d,g=0;w.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(_){var O=a.find(_.target,!0);O!=null&&(O.domNode===_.target&&(_.type==="childList"?(m(a.find(_.previousSibling,!1)),[].forEach.call(_.addedNodes,function(S){var b=a.find(S,!1);m(b,!1),b instanceof s.default&&b.children.forEach(function(A){m(A,!1)})})):_.type==="attributes"&&m(O.prev)),m(O))}),this.children.forEach(p),w=[].slice.call(this.observer.takeRecords()),E=w.slice();E.length>0;)d.push(E.pop())}},f.prototype.update=function(d,y){var v=this;y===void 0&&(y={}),d=d||this.observer.takeRecords(),d.map(function(E){var m=a.find(E.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[E],m):(m.domNode[a.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===v||E.domNode[a.DATA_KEY]==null||E.update(E.domNode[a.DATA_KEY].mutations||[],y)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,y),this.optimize(d,y)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){c(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,h){if(Object.keys(c).length!==Object.keys(h).length)return!1;for(var f in c)if(c[f]!==h[f])return!1;return!0}var u=function(c){o(h,c);function h(){return c!==null&&c.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return c.formats.call(this,f)},h.prototype.format=function(f,d){var y=this;f===this.statics.blotName&&!d?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(h.blotName,!0)),y.attributes.copy(v)}),this.unwrap()):c.prototype.format.call(this,f,d)},h.prototype.formatAt=function(f,d,y,v){if(this.formats()[y]!=null||a.query(y,a.Scope.ATTRIBUTE)){var E=this.isolate(f,d);E.format(y,v)}else c.prototype.formatAt.call(this,f,d,y,v)},h.prototype.optimize=function(f){c.prototype.optimize.call(this,f);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var y=this.next;y instanceof h&&y.prev===this&&l(d,y.formats())&&(y.moveChildren(this),y.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(h){var f=a.query(c.blotName).tagName;if(h.tagName!==f)return u.formats.call(this,h)},c.prototype.format=function(h,f){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(c.blotName):u.prototype.format.call(this,h,f))},c.prototype.formatAt=function(h,f,d,y){a.query(d,a.Scope.BLOCK)!=null?this.format(d,y):u.prototype.formatAt.call(this,h,f,d,y)},c.prototype.insertAt=function(h,f,d){if(d==null||a.query(f,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,f,d);else{var y=this.split(h),v=a.create(f,d);y.parent.insertBefore(v,y)}},c.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,f)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var h in c)c.hasOwnProperty(h)&&(u[h]=c[h])};return function(u,c){l(u,c);function h(){this.constructor=u}u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,h){l.prototype.formatAt.call(this,0,this.length(),c,h)},u.prototype.formatAt=function(c,h,f,d){c===0&&h===this.length()?this.format(f,d):l.prototype.formatAt.call(this,c,h,f,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(c,u);function c(h){var f=u.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return c.create=function(h){return document.createTextNode(h)},c.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},c.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},c.prototype.index=function(h,f){return this.domNode===h?f:-1},c.prototype.insertAt=function(h,f,d){d==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,f,d)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(h,f){return[this.domNode,h]},c.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var d=a.create(this.domNode.splitText(h));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},c.prototype.update=function(h,f){var d=this;h.some(function(y){return y.type==="characterData"&&y.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,h=arguments[1],f,d=0;d<c;d++)if(f=u[d],l.call(h,f,d,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,_,O){if(g==_)return g?[[s,g]]:[];(O<0||g.length<O)&&(O=null);var S=h(g,_),b=g.substring(0,S);g=g.substring(S),_=_.substring(S),S=f(g,_);var A=g.substring(g.length-S);g=g.substring(0,g.length-S),_=_.substring(0,_.length-S);var k=l(g,_);return b&&k.unshift([s,b]),A&&k.push([s,A]),y(k),O!=null&&(k=m(k,O)),k=p(k),k}function l(g,_){var O;if(!g)return[[o,_]];if(!_)return[[i,g]];var S=g.length>_.length?g:_,b=g.length>_.length?_:g,A=S.indexOf(b);if(A!=-1)return O=[[o,S.substring(0,A)],[s,b],[o,S.substring(A+b.length)]],g.length>_.length&&(O[0][0]=O[2][0]=i),O;if(b.length==1)return[[i,g],[o,_]];var k=d(g,_);if(k){var T=k[0],I=k[1],C=k[2],R=k[3],$=k[4],z=a(T,C),B=a(I,R);return z.concat([[s,$]],B)}return u(g,_)}function u(g,_){for(var O=g.length,S=_.length,b=Math.ceil((O+S)/2),A=b,k=2*b,T=new Array(k),I=new Array(k),C=0;C<k;C++)T[C]=-1,I[C]=-1;T[A+1]=0,I[A+1]=0;for(var R=O-S,$=R%2!=0,z=0,B=0,H=0,F=0,D=0;D<b;D++){for(var N=-D+z;N<=D-B;N+=2){var P=A+N,M;N==-D||N!=D&&T[P-1]<T[P+1]?M=T[P+1]:M=T[P-1]+1;for(var V=M-N;M<O&&V<S&&g.charAt(M)==_.charAt(V);)M++,V++;if(T[P]=M,M>O)B+=2;else if(V>S)z+=2;else if($){var q=A+R-N;if(q>=0&&q<k&&I[q]!=-1){var x=O-I[q];if(M>=x)return c(g,_,M,V)}}}for(var U=-D+H;U<=D-F;U+=2){var q=A+U,x;U==-D||U!=D&&I[q-1]<I[q+1]?x=I[q+1]:x=I[q-1]+1;for(var K=x-U;x<O&&K<S&&g.charAt(O-x-1)==_.charAt(S-K-1);)x++,K++;if(I[q]=x,x>O)F+=2;else if(K>S)H+=2;else if(!$){var P=A+R-U;if(P>=0&&P<k&&T[P]!=-1){var M=T[P],V=A+M-P;if(x=O-x,M>=x)return c(g,_,M,V)}}}}return[[i,g],[o,_]]}function c(g,_,O,S){var b=g.substring(0,O),A=_.substring(0,S),k=g.substring(O),T=_.substring(S),I=a(b,A),C=a(k,T);return I.concat(C)}function h(g,_){if(!g||!_||g.charAt(0)!=_.charAt(0))return 0;for(var O=0,S=Math.min(g.length,_.length),b=S,A=0;O<b;)g.substring(A,b)==_.substring(A,b)?(O=b,A=O):S=b,b=Math.floor((S-O)/2+O);return b}function f(g,_){if(!g||!_||g.charAt(g.length-1)!=_.charAt(_.length-1))return 0;for(var O=0,S=Math.min(g.length,_.length),b=S,A=0;O<b;)g.substring(g.length-b,g.length-A)==_.substring(_.length-b,_.length-A)?(O=b,A=O):S=b,b=Math.floor((S-O)/2+O);return b}function d(g,_){var O=g.length>_.length?g:_,S=g.length>_.length?_:g;if(O.length<4||S.length*2<O.length)return null;function b(B,H,F){for(var D=B.substring(F,F+Math.floor(B.length/4)),N=-1,P="",M,V,q,x;(N=H.indexOf(D,N+1))!=-1;){var U=h(B.substring(F),H.substring(N)),K=f(B.substring(0,F),H.substring(0,N));P.length<K+U&&(P=H.substring(N-K,N)+H.substring(N,N+U),M=B.substring(0,F-K),V=B.substring(F+U),q=H.substring(0,N-K),x=H.substring(N+U))}return P.length*2>=B.length?[M,V,q,x,P]:null}var A=b(O,S,Math.ceil(O.length/4)),k=b(O,S,Math.ceil(O.length/2)),T;if(!A&&!k)return null;k?A?T=A[4].length>k[4].length?A:k:T=k:T=A;var I,C,R,$;g.length>_.length?(I=T[0],C=T[1],R=T[2],$=T[3]):(R=T[0],$=T[1],I=T[2],C=T[3]);var z=T[4];return[I,C,R,$,z]}function y(g){g.push([s,""]);for(var _=0,O=0,S=0,b="",A="",k;_<g.length;)switch(g[_][0]){case o:S++,A+=g[_][1],_++;break;case i:O++,b+=g[_][1],_++;break;case s:O+S>1?(O!==0&&S!==0&&(k=h(A,b),k!==0&&(_-O-S>0&&g[_-O-S-1][0]==s?g[_-O-S-1][1]+=A.substring(0,k):(g.splice(0,0,[s,A.substring(0,k)]),_++),A=A.substring(k),b=b.substring(k)),k=f(A,b),k!==0&&(g[_][1]=A.substring(A.length-k)+g[_][1],A=A.substring(0,A.length-k),b=b.substring(0,b.length-k))),O===0?g.splice(_-S,O+S,[o,A]):S===0?g.splice(_-O,O+S,[i,b]):g.splice(_-O-S,O+S,[i,b],[o,A]),_=_-O-S+(O?1:0)+(S?1:0)+1):_!==0&&g[_-1][0]==s?(g[_-1][1]+=g[_][1],g.splice(_,1)):_++,S=0,O=0,b="",A="";break}g[g.length-1][1]===""&&g.pop();var T=!1;for(_=1;_<g.length-1;)g[_-1][0]==s&&g[_+1][0]==s&&(g[_][1].substring(g[_][1].length-g[_-1][1].length)==g[_-1][1]?(g[_][1]=g[_-1][1]+g[_][1].substring(0,g[_][1].length-g[_-1][1].length),g[_+1][1]=g[_-1][1]+g[_+1][1],g.splice(_-1,1),T=!0):g[_][1].substring(0,g[_+1][1].length)==g[_+1][1]&&(g[_-1][1]+=g[_+1][1],g[_][1]=g[_][1].substring(g[_+1][1].length)+g[_+1][1],g.splice(_+1,1),T=!0)),_++;T&&y(g)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function E(g,_){if(_===0)return[s,g];for(var O=0,S=0;S<g.length;S++){var b=g[S];if(b[0]===i||b[0]===s){var A=O+b[1].length;if(_===A)return[S+1,g];if(_<A){g=g.slice();var k=_-O,T=[b[0],b[1].slice(0,k)],I=[b[0],b[1].slice(k)];return g.splice(S,1,T,I),[S+1,g]}else O=A}}throw new Error("cursor_pos is out of bounds!")}function m(g,_){var O=E(g,_),S=O[1],b=O[0],A=S[b],k=S[b+1];if(A==null)return g;if(A[0]!==s)return g;if(k!=null&&A[1]+k[1]===k[1]+A[1])return S.splice(b,2,k,A),w(S,b,2);if(k!=null&&k[1].indexOf(A[1])===0){S.splice(b,2,[k[0],A[1]],[0,A[1]]);var T=k[1].slice(A[1].length);return T.length>0&&S.splice(b+2,0,[k[0],T]),w(S,b,3)}else return g}function p(g){for(var _=!1,O=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},S=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},b=2;b<g.length;b+=1)g[b-2][0]===s&&S(g[b-2][1])&&g[b-1][0]===i&&O(g[b-1][1])&&g[b][0]===o&&O(g[b][1])&&(_=!0,g[b-1][1]=g[b-2][1].slice(-1)+g[b-1][1],g[b][1]=g[b-2][1].slice(-1)+g[b][1],g[b-2][1]=g[b-2][1].slice(0,-1));if(!_)return g;for(var A=[],b=0;b<g.length;b+=1)g[b][1].length>0&&A.push(g[b]);return A}function w(g,_,O){for(var S=_+O-1;S>=0&&S>=_-1;S--)if(S+1<g.length){var b=g[S],A=g[S+1];b[0]===A[1]&&g.splice(S,2,[b[0],b[1]+A[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,c,h){this.fn=u,this.context=c,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)i.call(h,f)&&c.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c,h){var f=o?o+c:c,d=this._events[f];if(h)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var y=0,v=d.length,E=new Array(v);y<v;y++)E[y]=d[y].fn;return E},l.prototype.emit=function(c,h,f,d,y,v){var E=o?o+c:c;if(!this._events[E])return!1;var m=this._events[E],p=arguments.length,w,g;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,f),!0;case 4:return m.fn.call(m.context,h,f,d),!0;case 5:return m.fn.call(m.context,h,f,d,y),!0;case 6:return m.fn.call(m.context,h,f,d,y,v),!0}for(g=1,w=new Array(p-1);g<p;g++)w[g-1]=arguments[g];m.fn.apply(m.context,w)}else{var _=m.length,O;for(g=0;g<_;g++)switch(m[g].once&&this.removeListener(c,m[g].fn,void 0,!0),p){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,h);break;case 3:m[g].fn.call(m[g].context,h,f);break;case 4:m[g].fn.call(m[g].context,h,f,d);break;default:if(!w)for(O=1,w=new Array(p-1);O<p;O++)w[O-1]=arguments[O];m[g].fn.apply(m[g].context,w)}}return!0},l.prototype.on=function(c,h,f){var d=new a(h,f||this),y=o?o+c:c;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],d]:this._events[y].push(d):(this._events[y]=d,this._eventsCount++),this},l.prototype.once=function(c,h,f){var d=new a(h,f||this,!0),y=o?o+c:c;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],d]:this._events[y].push(d):(this._events[y]=d,this._eventsCount++),this},l.prototype.removeListener=function(c,h,f,d){var y=o?o+c:c;if(!this._events[y])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[y],this;var v=this._events[y];if(v.fn)v.fn===h&&(!d||v.once)&&(!f||v.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[y]);else{for(var E=0,m=[],p=v.length;E<p;E++)(v[E].fn!==h||d&&!v[E].once||f&&v[E].context!==f)&&m.push(v[E]);m.length?this._events[y]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new s:delete this._events[y]}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=o?o+c:c,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},s=function(){function G(Q,ne){var re=[],J=!0,ye=!1,me=void 0;try{for(var oe=Q[Symbol.iterator](),Je;!(J=(Je=oe.next()).done)&&(re.push(Je.value),!(ne&&re.length===ne));J=!0);}catch(jt){ye=!0,me=jt}finally{try{!J&&oe.return&&oe.return()}finally{if(ye)throw me}}return re}return function(Q,ne){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return G(Q,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function G(Q,ne){for(var re=0;re<ne.length;re++){var J=ne[re];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,J.key,J)}}return function(Q,ne,re){return ne&&G(Q.prototype,ne),re&&G(Q,re),Q}}(),l=i(3),u=I(l),c=i(2),h=I(c),f=i(0),d=I(f),y=i(5),v=I(y),E=i(10),m=I(E),p=i(9),w=I(p),g=i(36),_=i(37),O=i(13),S=I(O),b=i(26),A=i(38),k=i(39),T=i(40);function I(G){return G&&G.__esModule?G:{default:G}}function C(G,Q,ne){return Q in G?Object.defineProperty(G,Q,{value:ne,enumerable:!0,configurable:!0,writable:!0}):G[Q]=ne,G}function R(G,Q){if(!(G instanceof Q))throw new TypeError("Cannot call a class as a function")}function $(G,Q){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:G}function z(G,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);G.prototype=Object.create(Q&&Q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Q):G.__proto__=Q)}var B=(0,m.default)("quill:clipboard"),H="__ql-matcher",F=[[Node.TEXT_NODE,He],[Node.TEXT_NODE,le],["br",te],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,Se],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,lt],["li",de],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",ue]],D=[g.AlignAttribute,A.DirectionAttribute].reduce(function(G,Q){return G[Q.keyName]=Q,G},{}),N=[g.AlignStyle,_.BackgroundStyle,b.ColorStyle,A.DirectionStyle,k.FontStyle,T.SizeStyle].reduce(function(G,Q){return G[Q.keyName]=Q,G},{}),P=function(G){z(Q,G);function Q(ne,re){R(this,Q);var J=$(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ne,re));return J.quill.root.addEventListener("paste",J.onPaste.bind(J)),J.container=J.quill.addContainer("ql-clipboard"),J.container.setAttribute("contenteditable",!0),J.container.setAttribute("tabindex",-1),J.matchers=[],F.concat(J.options.matchers).forEach(function(ye){var me=s(ye,2),oe=me[0],Je=me[1];!re.matchVisual&&Je===Se||J.addMatcher(oe,Je)}),J}return a(Q,[{key:"addMatcher",value:function(re,J){this.matchers.push([re,J])}},{key:"convert",value:function(re){if(typeof re=="string")return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var J=this.quill.getFormat(this.quill.selection.savedRange.index);if(J[S.default.blotName]){var ye=this.container.innerText;return this.container.innerHTML="",new h.default().insert(ye,C({},S.default.blotName,J[S.default.blotName]))}var me=this.prepareMatching(),oe=s(me,2),Je=oe[0],jt=oe[1],Me=U(this.container,Je,jt);return q(Me,`
`)&&Me.ops[Me.ops.length-1].attributes==null&&(Me=Me.compose(new h.default().retain(Me.length()-1).delete(1))),B.log("convert",this.container.innerHTML,Me),this.container.innerHTML="",Me}},{key:"dangerouslyPasteHTML",value:function(re,J){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof re=="string")this.quill.setContents(this.convert(re),J),this.quill.setSelection(0,v.default.sources.SILENT);else{var me=this.convert(J);this.quill.updateContents(new h.default().retain(re).concat(me),ye),this.quill.setSelection(re+me.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var J=this;if(!(re.defaultPrevented||!this.quill.isEnabled())){var ye=this.quill.getSelection(),me=new h.default().retain(ye.index),oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){me=me.concat(J.convert()).delete(ye.length),J.quill.updateContents(me,v.default.sources.USER),J.quill.setSelection(me.length()-ye.length,v.default.sources.SILENT),J.quill.scrollingContainer.scrollTop=oe,J.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,J=[],ye=[];return this.matchers.forEach(function(me){var oe=s(me,2),Je=oe[0],jt=oe[1];switch(Je){case Node.TEXT_NODE:ye.push(jt);break;case Node.ELEMENT_NODE:J.push(jt);break;default:[].forEach.call(re.container.querySelectorAll(Je),function(Me){Me[H]=Me[H]||[],Me[H].push(jt)});break}}),[J,ye]}}]),Q}(w.default);P.DEFAULTS={matchers:[],matchVisual:!0};function M(G,Q,ne){return(typeof Q>"u"?"undefined":o(Q))==="object"?Object.keys(Q).reduce(function(re,J){return M(re,J,Q[J])},G):G.reduce(function(re,J){return J.attributes&&J.attributes[Q]?re.push(J):re.insert(J.insert,(0,u.default)({},C({},Q,ne),J.attributes))},new h.default)}function V(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var Q="__ql-computed-style";return G[Q]||(G[Q]=window.getComputedStyle(G))}function q(G,Q){for(var ne="",re=G.ops.length-1;re>=0&&ne.length<Q.length;--re){var J=G.ops[re];if(typeof J.insert!="string")break;ne=J.insert+ne}return ne.slice(-1*Q.length)===Q}function x(G){if(G.childNodes.length===0)return!1;var Q=V(G);return["block","list-item"].indexOf(Q.display)>-1}function U(G,Q,ne){return G.nodeType===G.TEXT_NODE?ne.reduce(function(re,J){return J(G,re)},new h.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(re,J){var ye=U(J,Q,ne);return J.nodeType===G.ELEMENT_NODE&&(ye=Q.reduce(function(me,oe){return oe(J,me)},ye),ye=(J[H]||[]).reduce(function(me,oe){return oe(J,me)},ye)),re.concat(ye)},new h.default):new h.default}function K(G,Q,ne){return M(ne,G,!0)}function W(G,Q){var ne=d.default.Attributor.Attribute.keys(G),re=d.default.Attributor.Class.keys(G),J=d.default.Attributor.Style.keys(G),ye={};return ne.concat(re).concat(J).forEach(function(me){var oe=d.default.query(me,d.default.Scope.ATTRIBUTE);oe!=null&&(ye[oe.attrName]=oe.value(G),ye[oe.attrName])||(oe=D[me],oe!=null&&(oe.attrName===me||oe.keyName===me)&&(ye[oe.attrName]=oe.value(G)||void 0),oe=N[me],oe!=null&&(oe.attrName===me||oe.keyName===me)&&(oe=N[me],ye[oe.attrName]=oe.value(G)||void 0))}),Object.keys(ye).length>0&&(Q=M(Q,ye)),Q}function Y(G,Q){var ne=d.default.query(G);if(ne==null)return Q;if(ne.prototype instanceof d.default.Embed){var re={},J=ne.value(G);J!=null&&(re[ne.blotName]=J,Q=new h.default().insert(re,ne.formats(G)))}else typeof ne.formats=="function"&&(Q=M(Q,ne.blotName,ne.formats(G)));return Q}function te(G,Q){return q(Q,`
`)||Q.insert(`
`),Q}function ue(){return new h.default}function de(G,Q){var ne=d.default.query(G);if(ne==null||ne.blotName!=="list-item"||!q(Q,`
`))return Q;for(var re=-1,J=G.parentNode;!J.classList.contains("ql-clipboard");)(d.default.query(J)||{}).blotName==="list"&&(re+=1),J=J.parentNode;return re<=0?Q:Q.compose(new h.default().retain(Q.length()-1).retain(1,{indent:re}))}function le(G,Q){return q(Q,`
`)||(x(G)||Q.length()>0&&G.nextSibling&&x(G.nextSibling))&&Q.insert(`
`),Q}function Se(G,Q){if(x(G)&&G.nextElementSibling!=null&&!q(Q,`

`)){var ne=G.offsetHeight+parseFloat(V(G).marginTop)+parseFloat(V(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+ne*1.5&&Q.insert(`
`)}return Q}function lt(G,Q){var ne={},re=G.style||{};return re.fontStyle&&V(G).fontStyle==="italic"&&(ne.italic=!0),re.fontWeight&&(V(G).fontWeight.startsWith("bold")||parseInt(V(G).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(Q=M(Q,ne)),parseFloat(re.textIndent||0)>0&&(Q=new h.default().insert("	").concat(Q)),Q}function He(G,Q){var ne=G.data;if(G.parentNode.tagName==="O:P")return Q.insert(ne.trim());if(ne.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return Q;if(!V(G.parentNode).whiteSpace.startsWith("pre")){var re=function(ye,me){return me=me.replace(/[^\u00a0]/g,""),me.length<1&&ye?" ":me};ne=ne.replace(/\r\n/g," ").replace(/\n/g," "),ne=ne.replace(/\s\s+/g,re.bind(re,!0)),(G.previousSibling==null&&x(G.parentNode)||G.previousSibling!=null&&x(G.previousSibling))&&(ne=ne.replace(/^\s+/,re.bind(re,!1))),(G.nextSibling==null&&x(G.parentNode)||G.nextSibling!=null&&x(G.nextSibling))&&(ne=ne.replace(/\s+$/,re.bind(re,!1)))}return Q.insert(ne)}r.default=P,r.matchAttributor=W,r.matchBlot=Y,r.matchNewline=le,r.matchSpacing=Se,r.matchText=He},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&y(v.prototype,E),m&&y(v,m),v}}(),s=function y(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var d=function(y){f(v,y);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(m){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function T(I,C){var R=[],$=!0,z=!1,B=void 0;try{for(var H=I[Symbol.iterator](),F;!($=(F=H.next()).done)&&(R.push(F.value),!(C&&R.length===C));$=!0);}catch(D){z=!0,B=D}finally{try{!$&&H.return&&H.return()}finally{if(z)throw B}}return R}return function(I,C){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return T(I,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(I,C){for(var R=0;R<C.length;R++){var $=C[R];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,C,R){return C&&T(I.prototype,C),R&&T(I,R),I}}(),a=i(2),l=m(a),u=i(0),c=m(u),h=i(5),f=m(h),d=i(10),y=m(d),v=i(9),E=m(v);function m(T){return T&&T.__esModule?T:{default:T}}function p(T,I,C){return I in T?Object.defineProperty(T,I,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[I]=C,T}function w(T,I){if(!(T instanceof I))throw new TypeError("Cannot call a class as a function")}function g(T,I){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:T}function _(T,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);T.prototype=Object.create(I&&I.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(T,I):T.__proto__=I)}var O=(0,y.default)("quill:toolbar"),S=function(T){_(I,T);function I(C,R){w(this,I);var $=g(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,C,R));if(Array.isArray($.options.container)){var z=document.createElement("div");A(z,$.options.container),C.container.parentNode.insertBefore(z,C.container),$.container=z}else typeof $.options.container=="string"?$.container=document.querySelector($.options.container):$.container=$.options.container;if(!($.container instanceof HTMLElement)){var B;return B=O.error("Container required for toolbar",$.options),g($,B)}return $.container.classList.add("ql-toolbar"),$.controls=[],$.handlers={},Object.keys($.options.handlers).forEach(function(H){$.addHandler(H,$.options.handlers[H])}),[].forEach.call($.container.querySelectorAll("button, select"),function(H){$.attach(H)}),$.quill.on(f.default.events.EDITOR_CHANGE,function(H,F){H===f.default.events.SELECTION_CHANGE&&$.update(F)}),$.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var H=$.quill.selection.getRange(),F=o(H,1),D=F[0];$.update(D)}),$}return s(I,[{key:"addHandler",value:function(R,$){this.handlers[R]=$}},{key:"attach",value:function(R){var $=this,z=[].find.call(R.classList,function(H){return H.indexOf("ql-")===0});if(z){if(z=z.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null){O.warn("ignoring attaching to disabled format",z,R);return}if(c.default.query(z)==null){O.warn("ignoring attaching to nonexistent format",z,R);return}}var B=R.tagName==="SELECT"?"change":"click";R.addEventListener(B,function(H){var F=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var D=R.options[R.selectedIndex];D.hasAttribute("selected")?F=!1:F=D.value||!1}else R.classList.contains("ql-active")?F=!1:F=R.value||!R.hasAttribute("value"),H.preventDefault();$.quill.focus();var N=$.quill.selection.getRange(),P=o(N,1),M=P[0];if($.handlers[z]!=null)$.handlers[z].call($,F);else if(c.default.query(z).prototype instanceof c.default.Embed){if(F=prompt("Enter "+z),!F)return;$.quill.updateContents(new l.default().retain(M.index).delete(M.length).insert(p({},z,F)),f.default.sources.USER)}else $.quill.format(z,F,f.default.sources.USER);$.update(M)}),this.controls.push([z,R])}}},{key:"update",value:function(R){var $=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(z){var B=o(z,2),H=B[0],F=B[1];if(F.tagName==="SELECT"){var D=void 0;if(R==null)D=null;else if($[H]==null)D=F.querySelector("option[selected]");else if(!Array.isArray($[H])){var N=$[H];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),D=F.querySelector('option[value="'+N+'"]')}D==null?(F.value="",F.selectedIndex=-1):D.selected=!0}else if(R==null)F.classList.remove("ql-active");else if(F.hasAttribute("value")){var P=$[H]===F.getAttribute("value")||$[H]!=null&&$[H].toString()===F.getAttribute("value")||$[H]==null&&!F.getAttribute("value");F.classList.toggle("ql-active",P)}else F.classList.toggle("ql-active",$[H]!=null)})}}]),I}(E.default);S.DEFAULTS={};function b(T,I,C){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+I),C!=null&&(R.value=C),T.appendChild(R)}function A(T,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(C){var R=document.createElement("span");R.classList.add("ql-formats"),C.forEach(function($){if(typeof $=="string")b(R,$);else{var z=Object.keys($)[0],B=$[z];Array.isArray(B)?k(R,z,B):b(R,z,B)}}),T.appendChild(R)})}function k(T,I,C){var R=document.createElement("select");R.classList.add("ql-"+I),C.forEach(function($){var z=document.createElement("option");$!==!1?z.setAttribute("value",$):z.setAttribute("selected","selected"),R.appendChild(z)}),T.appendChild(R)}S.DEFAULTS={container:null,handlers:{clean:function(){var I=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function($){c.default.query($,c.default.Scope.INLINE)!=null&&I.quill.format($,!1)})}else this.quill.removeFormat(C,f.default.sources.USER)},direction:function(I){var C=this.quill.getFormat().align;I==="rtl"&&C==null?this.quill.format("align","right",f.default.sources.USER):!I&&C==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",I,f.default.sources.USER)},indent:function(I){var C=this.quill.getSelection(),R=this.quill.getFormat(C),$=parseInt(R.indent||0);if(I==="+1"||I==="-1"){var z=I==="+1"?1:-1;R.direction==="rtl"&&(z*=-1),this.quill.format("indent",$+z,f.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,f.default.sources.USER)},list:function(I){var C=this.quill.getSelection(),R=this.quill.getFormat(C);I==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",I,f.default.sources.USER)}}},r.default=S,r.addControls=A},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&y(v.prototype,E),m&&y(v,m),v}}(),s=function y(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var d=function(y){f(v,y);function v(E,m){c(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return p.label.innerHTML=m,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),p}return o(v,[{key:"buildItem",value:function(m){var p=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,m);return p.style.backgroundColor=m.getAttribute("value")||"",p}},{key:"selectItem",value:function(m,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,p);var w=this.label.querySelector(".ql-color-label"),g=m&&m.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=g:w.style.fill=g)}}]),v}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&y(v.prototype,E),m&&y(v,m),v}}(),s=function y(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var d=function(y){f(v,y);function v(E,m){c(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=m[w.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(v,[{key:"selectItem",value:function(m,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,p),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),v}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var h=this;s(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var h=c.left+c.width/2-this.root.offsetWidth/2,f=c.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),v=0;if(y.right>d.right&&(v=d.right-y.right,this.root.style.left=h+v+"px"),y.left<d.left&&(v=d.left-y.left,this.root.style.left=h+v+"px"),y.bottom>d.bottom){var E=y.bottom-y.top,m=c.bottom-c.top+E;this.root.style.top=f-m+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function k(T,I){var C=[],R=!0,$=!1,z=void 0;try{for(var B=T[Symbol.iterator](),H;!(R=(H=B.next()).done)&&(C.push(H.value),!(I&&C.length===I));R=!0);}catch(F){$=!0,z=F}finally{try{!R&&B.return&&B.return()}finally{if($)throw z}}return C}return function(T,I){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return k(T,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function k(T,I,C){T===null&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,I);if(R===void 0){var $=Object.getPrototypeOf(T);return $===null?void 0:k($,I,C)}else{if("value"in R)return R.value;var z=R.get;return z===void 0?void 0:z.call(C)}},a=function(){function k(T,I){for(var C=0;C<I.length;C++){var R=I[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}}return function(T,I,C){return I&&k(T.prototype,I),C&&k(T,C),T}}(),l=i(3),u=w(l),c=i(8),h=w(c),f=i(43),d=w(f),y=i(27),v=w(y),E=i(15),m=i(41),p=w(m);function w(k){return k&&k.__esModule?k:{default:k}}function g(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function _(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function O(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(k){O(T,k);function T(I,C){g(this,T),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=S);var R=_(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I,C));return R.quill.container.classList.add("ql-snow"),R}return a(T,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),p.default),this.tooltip=new A(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,$){C.handlers.link.call(C,!$.format.link)})}}]),T}(d.default);b.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var I=this.quill.getSelection();if(I==null||I.length==0)return;var C=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var R=this.quill.theme.tooltip;R.edit("link",C)}else this.quill.format("link",!1)}}}}});var A=function(k){O(T,k);function T(I,C){g(this,T);var R=_(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,I,C));return R.preview=R.root.querySelector("a.ql-preview"),R}return a(T,[{key:"listen",value:function(){var C=this;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(C.linkRange!=null){var $=C.linkRange;C.restoreFocus(),C.quill.formatText($,"link",!1,h.default.sources.USER),delete C.linkRange}R.preventDefault(),C.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(R,$,z){if(R!=null){if(R.length===0&&z===h.default.sources.USER){var B=C.quill.scroll.descendant(v.default,R.index),H=o(B,2),F=H[0],D=H[1];if(F!=null){C.linkRange=new E.Range(R.index-D,F.length());var N=v.default.formats(F.domNode);C.preview.textContent=N,C.preview.setAttribute("href",N),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(f.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=J(o),a=i(36),l=i(38),u=i(64),c=i(65),h=J(c),f=i(66),d=J(f),y=i(67),v=J(y),E=i(37),m=i(26),p=i(39),w=i(40),g=i(56),_=J(g),O=i(68),S=J(O),b=i(27),A=J(b),k=i(69),T=J(k),I=i(70),C=J(I),R=i(71),$=J(R),z=i(72),B=J(z),H=i(73),F=J(H),D=i(13),N=J(D),P=i(74),M=J(P),V=i(75),q=J(V),x=i(57),U=J(x),K=i(41),W=J(K),Y=i(28),te=J(Y),ue=i(59),de=J(ue),le=i(60),Se=J(le),lt=i(61),He=J(lt),G=i(108),Q=J(G),ne=i(62),re=J(ne);function J(ye){return ye&&ye.__esModule?ye:{default:ye}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":w.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":p.FontClass,"formats/size":w.SizeClass,"formats/blockquote":h.default,"formats/code-block":N.default,"formats/header":d.default,"formats/list":v.default,"formats/bold":_.default,"formats/code":D.Code,"formats/italic":S.default,"formats/link":A.default,"formats/script":T.default,"formats/strike":C.default,"formats/underline":$.default,"formats/image":B.default,"formats/video":F.default,"formats/list/item":y.ListItem,"modules/formula":M.default,"modules/syntax":q.default,"modules/toolbar":U.default,"themes/bubble":Q.default,"themes/snow":re.default,"ui/icons":W.default,"ui/picker":te.default,"ui/icon-picker":Se.default,"ui/color-picker":de.default,"ui/tooltip":He.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(E,m){for(var p=0;p<m.length;p++){var w=m[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,m,p){return m&&v(E.prototype,m),p&&v(E,p),E}}(),s=function v(E,m,p){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,m);if(w===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:v(g,m,p)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(p)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function h(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function f(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var d=function(v){f(E,v);function E(){return c(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"add",value:function(p,w){if(w==="+1"||w==="-1"){var g=this.value(p)||0;w=w==="+1"?g+1:g-1}return w===0?(this.remove(p),!0):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,p,w)}},{key:"canAdd",value:function(p,w){return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,w)||s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,parseInt(w))}},{key:"value",value:function(p){return parseInt(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,p))||void 0}}]),E}(l.default.Attributor.Class),y=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(y,v){for(var E=0;E<v.length;E++){var m=v[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,v,E){return v&&d(y.prototype,v),E&&d(y,E),y}}(),s=i(4),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}function u(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function c(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function h(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var f=function(d){h(y,d);function y(){return u(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),y}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(_,O){for(var S=0;S<O.length;S++){var b=O[S];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,O,S){return O&&g(_.prototype,O),S&&g(_,S),_}}(),s=function g(_,O,S){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,O);if(b===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:g(A,O,S)}else{if("value"in b)return b.value;var k=b.get;return k===void 0?void 0:k.call(S)}},a=i(0),l=d(a),u=i(4),c=d(u),h=i(25),f=d(h);function d(g){return g&&g.__esModule?g:{default:g}}function y(g,_,O){return _ in g?Object.defineProperty(g,_,{value:O,enumerable:!0,configurable:!0,writable:!0}):g[_]=O,g}function v(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function E(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function m(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var p=function(g){m(_,g);function _(){return v(this,_),E(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(S,b){S===w.blotName&&!b?this.replaceWith(l.default.create(this.statics.scope)):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,S,b)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,b){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,b),this):(this.parent.unwrap(),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,S,b))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(_.__proto__||Object.getPrototypeOf(_),"formats",this).call(this,S)}}]),_}(c.default);p.blotName="list-item",p.tagName="LI";var w=function(g){m(_,g),o(_,null,[{key:"create",value:function(S){var b=S==="ordered"?"OL":"UL",A=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,b);return(S==="checked"||S==="unchecked")&&A.setAttribute("data-checked",S==="checked"),A}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function _(O){v(this,_);var S=E(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O)),b=function(k){if(k.target.parentNode===O){var T=S.statics.formats(O),I=l.default.find(k.target);T==="checked"?I.format("list","unchecked"):T==="unchecked"&&I.format("list","checked")}};return O.addEventListener("touchstart",b),O.addEventListener("mousedown",b),S}return o(_,[{key:"format",value:function(S,b){this.children.length>0&&this.children.tail.format(S,b)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,b){if(S instanceof p)s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,S,b);else{var A=b==null?this.length():b.offset(this),k=this.split(A);k.parent.insertBefore(S,k)}}},{key:"optimize",value:function(S){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,S);var b=this.next;b!=null&&b.prev===this&&b.statics.blotName===this.statics.blotName&&b.domNode.tagName===this.domNode.tagName&&b.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(b.moveChildren(this),b.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var b=l.default.create(this.statics.defaultChild);S.moveChildren(b),this.appendChild(b)}s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replace",this).call(this,S)}}]),_}(f.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[p],r.ListItem=p,r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&y(v.prototype,E),m&&y(v,m),v}}(),s=function y(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var d=function(y){f(v,y);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),v}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var w=0;w<p.length;w++){var g=p[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,w){return p&&E(m.prototype,p),w&&E(m,w),m}}(),s=function E(m,p,w){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,w)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(w)}},a=i(0),l=c(a),u=i(27);function c(E){return E&&E.__esModule?E:{default:E}}function h(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function f(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function d(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var y=["alt","height","width"],v=function(E){d(m,E);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(w,g){y.indexOf(w)>-1?g?this.domNode.setAttribute(w,g):this.domNode.removeAttribute(w):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,w,g)}}],[{key:"create",value:function(w){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,w);return typeof w=="string"&&g.setAttribute("src",this.sanitize(w)),g}},{key:"formats",value:function(w){return y.reduce(function(g,_){return w.hasAttribute(_)&&(g[_]=w.getAttribute(_)),g},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),m}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var w=0;w<p.length;w++){var g=p[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,w){return p&&E(m.prototype,p),w&&E(m,w),m}}(),s=function E(m,p,w){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,w)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(w)}},a=i(4),l=i(27),u=c(l);function c(E){return E&&E.__esModule?E:{default:E}}function h(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function f(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function d(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var y=["height","width"],v=function(E){d(m,E);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(w,g){y.indexOf(w)>-1?g?this.domNode.setAttribute(w,g):this.domNode.removeAttribute(w):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,w,g)}}],[{key:"create",value:function(w){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,w);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(w)),g}},{key:"formats",value:function(w){return y.reduce(function(g,_){return w.hasAttribute(_)&&(g[_]=w.getAttribute(_)),g},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),m}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function w(g,_){for(var O=0;O<_.length;O++){var S=_[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,_,O){return _&&w(g.prototype,_),O&&w(g,O),g}}(),s=function w(g,_,O){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,_);if(S===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:w(b,_,O)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(O)}},a=i(35),l=d(a),u=i(5),c=d(u),h=i(9),f=d(h);function d(w){return w&&w.__esModule?w:{default:w}}function y(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function v(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function E(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var m=function(w){E(g,w);function g(){return y(this,g),v(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(O){var S=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",O)),S}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),g}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var p=function(w){E(g,w),o(g,null,[{key:"register",value:function(){c.default.register(m,!0)}}]);function g(){y(this,g);var _=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return _}return g}(f.default);r.FormulaBlot=m,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function O(S,b){for(var A=0;A<b.length;A++){var k=b[A];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,b,A){return b&&O(S.prototype,b),A&&O(S,A),S}}(),s=function O(S,b,A){S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,b);if(k===void 0){var T=Object.getPrototypeOf(S);return T===null?void 0:O(T,b,A)}else{if("value"in k)return k.value;var I=k.get;return I===void 0?void 0:I.call(A)}},a=i(0),l=v(a),u=i(5),c=v(u),h=i(9),f=v(h),d=i(13),y=v(d);function v(O){return O&&O.__esModule?O:{default:O}}function E(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}function m(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:O}function p(O,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}var w=function(O){p(S,O);function S(){return E(this,S),m(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),S}(y.default);w.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),_=function(O){p(S,O),o(S,null,[{key:"register",value:function(){c.default.register(g,!0),c.default.register(w,!0)}}]);function S(b,A){E(this,S);var k=m(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,b,A));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return k.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){k.highlight(),T=null},k.options.interval)}),k.highlight(),k}return o(S,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(T){T.highlight(A.options.highlight)}),this.quill.update(c.default.sources.SILENT),k!=null&&this.quill.setSelection(k,c.default.sources.SILENT)}}}]),S}(f.default);_.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var S=window.hljs.highlightAuto(O);return S.value}}(),interval:1e3},r.CodeBlock=w,r.CodeToken=g,r.default=_},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(b,A,k){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,A);if(T===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:S(I,A,k)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(k)}},s=function(){function S(b,A){for(var k=0;k<A.length;k++){var T=A[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,A,k){return A&&S(b.prototype,A),k&&S(b,k),b}}(),a=i(3),l=E(a),u=i(8),c=E(u),h=i(43),f=E(h),d=i(15),y=i(41),v=E(y);function E(S){return S&&S.__esModule?S:{default:S}}function m(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}function p(S,b){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:S}function w(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);S.prototype=Object.create(b&&b.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(S,b):S.__proto__=b)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],_=function(S){w(b,S);function b(A,k){m(this,b),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=g);var T=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,A,k));return T.quill.container.classList.add("ql-bubble"),T}return s(b,[{key:"extendToolbar",value:function(k){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),v.default)}}]),b}(f.default);_.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){b?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(S){w(b,S);function b(A,k){m(this,b);var T=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,A,k));return T.quill.on(c.default.events.EDITOR_CHANGE,function(I,C,R,$){if(I===c.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&$===c.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var z=T.quill.getLines(C.index,C.length);if(z.length===1)T.position(T.quill.getBounds(C));else{var B=z[z.length-1],H=T.quill.getIndex(B),F=Math.min(B.length()-1,C.index+C.length-H),D=T.quill.getBounds(new d.Range(H,F));T.position(D)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return s(b,[{key:"listen",value:function(){var k=this;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var T=k.quill.getSelection();T!=null&&k.position(k.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var T=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"position",this).call(this,k),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",T===0)return T;I.style.marginLeft=-1*T-I.offsetWidth/2+"px"}}]),b}(h.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=O,r.default=_},function(n,r,i){n.exports=i(63)}]).default})})(jk);var o6=jk.exports,s6=Gt&&Gt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oc=Gt&&Gt.__assign||function(){return oc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},oc.apply(this,arguments)},a6=Gt&&Gt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},df=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},bn=df(L),l6=df(gm),ps=df(i6),k1=df(o6),u6=function(t){s6(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,c,h,f;o==="text-change"?(c=(u=r).onEditorChangeText)===null||c===void 0||c.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((f=(h=r).onEditorChangeSelection)===null||f===void 0||f.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(bn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(bn.default.Children.count(n.children)){var i=bn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),a6(this.cleanProps,this.dirtyProps).some(function(l){return!ps.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!ps.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),O1(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new k1.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?ps.default(n.ops,r.ops):ps.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),O1(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=l6.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return bn.default.Children.count(i)?bn.default.cloneElement(bn.default.Children.only(i),a):o?bn.default.createElement("pre",oc({},a)):bn.default.createElement("div",oc({},a))},e.prototype.render=function(){var n;return bn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,c;if(this.editor){var h=this.getEditorSelection(),f=!h&&n,d=h&&!n;ps.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),f?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):d&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=k1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(bn.default.Component);function O1(t){Promise.resolve().then(t)}var c6=u6;const f6=Ii(c6);const Uk=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[i,o]=L.useState(!1),[s,a]=L.useState(""),l=()=>{e(""),r(""),a(""),o(!1)},u=()=>o(!0),c=Ig(wa,"posts"),h=async()=>{if(t.trim()===""){a("Title field is required.");return}await mM(c,{title:t,postText:n,author:{name:Ea.currentUser.displayName,id:Ea.currentUser.uid},createdAt:new Date().toISOString()}),l()};return fe("div",{className:"createPostPage",children:[j("h1",{children:"Create a post"}),fe("div",{className:"cpContainer",children:[j(Vf,{variant:"primary",onClick:u,children:"Create Post"}),fe(cs,{show:i,onHide:l,children:[j(cs.Header,{closeButton:!0,children:j(cs.Title,{children:"Create a post"})}),j(cs.Body,{children:fe($i,{children:[fe($i.Group,{controlId:"formTitle",children:[j($i.Label,{children:"Title:"}),j($i.Control,{type:"text",placeholder:"Title...",value:t,onChange:f=>e(f.target.value),required:!0}),s&&j("div",{className:"text-danger",children:s})]}),fe($i.Group,{controlId:"formPost",children:[j($i.Label,{children:"Post:"}),j(f6,{className:"react-quill",theme:"snow",value:n,onChange:r})]})]})}),fe(cs.Footer,{children:[j(Vf,{variant:"secondary",onClick:l,children:"Close"}),j(Vf,{className:"submitPostBtn",variant:"primary",onClick:h,children:"Submit Post"})]})]})]})]})},h6=({isOpen:t,onClose:e,onConfirm:n})=>t?j("div",{className:"modal",children:fe("div",{className:"modal-content",children:[j("h2",{children:"Are you sure?"}),j("p",{children:"Do you want to delete this post?"}),fe("div",{className:"modal-actions",children:[j("button",{onClick:e,children:"Cancel"}),j("button",{onClick:n,children:"Delete"})]})]})}):null,d6=()=>{const[t,e]=x4(),[n,r]=L.useState([]),i=Ig(wa,"posts");L.useEffect(()=>{(async()=>{const m=(await jb(i)).docs.map(p=>({...p.data(),id:p.id})).sort((p,w)=>new Date(w.createdAt)-new Date(p.createdAt));console.log(m),r(m)})()},[]);const o=async y=>{const v=Ng(wa,"posts",y);await pM(v)},[s,a]=L.useState(!1),[l,u]=L.useState(null),c=y=>{u(y),a(!0)},h=()=>{a(!1)},f=async()=>{l&&await o(l),h()},d=t==="ramdani.lokman@gmail.com";return fe(pi,{children:[j(bk,{isAuth:!!t}),j(A4,{isAuth:!!t}),d&&j(Uk,{}),j(h6,{isOpen:s,onClose:h,onConfirm:f}),j("div",{children:n.map(y=>fe("div",{className:"post",children:[d&&j("button",{onClick:()=>c(y.id),children:"delete"}),j(to,{to:`/post/${y.id}`,children:j("h1",{children:y.title})}),fe("h3",{children:["@",y.author.name]}),j("p",{children:new Date(y.createdAt).toLocaleString()}),j("hr",{})]},y.id))})]})};var p6=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n};const m6=Ii(p6);var cp={exports:{}},Bk;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Bk=function(){var t={},e={};return t.on=function(n,r){var i={name:n,handler:r};return e[n]=e[n]||[],e[n].unshift(i),i},t.off=function(n){var r=e[n.name].indexOf(n);r!==-1&&e[n.name].splice(r,1)},t.trigger=function(n,r){var i=e[n],o;if(i)for(o=i.length;o--;)i[o].handler(r)},t};var g6=Bk,fp={exports:{}},v6=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async="async"in n?!!n.async:!0,o.src=e,n.attrs&&y6(o,n.attrs),n.text&&(o.text=""+n.text);var s="onload"in o?I1:w6;s(o,r),o.onload||I1(o,r),i.appendChild(o)};function y6(t,e){for(var n in e)t.setAttribute(n,e[n])}function I1(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function w6(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=v6,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default=function(o){var s=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(c){c&&o.trigger("error",c)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),a(window.YT)}});return s},t.exports=e.default})(fp,fp.exports);var E6=fp.exports,hp={exports:{}},dp={exports:{}},pp={exports:{}},Sa=1e3,Ta=Sa*60,ba=Ta*60,ka=ba*24,_6=ka*365.25,S6=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return T6(t);if(n==="number"&&isNaN(t)===!1)return e.long?k6(t):b6(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function T6(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*_6;case"days":case"day":case"d":return n*ka;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ba;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ta;case"seconds":case"second":case"secs":case"sec":case"s":return n*Sa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function b6(t){return t>=ka?Math.round(t/ka)+"d":t>=ba?Math.round(t/ba)+"h":t>=Ta?Math.round(t/Ta)+"m":t>=Sa?Math.round(t/Sa)+"s":t+"ms"}function k6(t){return Pl(t,ka,"day")||Pl(t,ba,"hour")||Pl(t,Ta,"minute")||Pl(t,Sa,"second")||t+" ms"}function Pl(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}(function(t,e){e=t.exports=i.debug=i.default=i,e.coerce=l,e.disable=s,e.enable=o,e.enabled=a,e.humanize=S6,e.names=[],e.skips=[],e.formatters={};var n;function r(u){var c=0,h;for(h in u)c=(c<<5)-c+u.charCodeAt(h),c|=0;return e.colors[Math.abs(c)%e.colors.length]}function i(u){function c(){if(c.enabled){var h=c,f=+new Date,d=f-(n||f);h.diff=d,h.prev=n,h.curr=f,n=f;for(var y=new Array(arguments.length),v=0;v<y.length;v++)y[v]=arguments[v];y[0]=e.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");var E=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,function(p,w){if(p==="%%")return p;E++;var g=e.formatters[w];if(typeof g=="function"){var _=y[E];p=g.call(h,_),y.splice(E,1),E--}return p}),e.formatArgs.call(h,y);var m=c.log||e.log||console.log.bind(console);m.apply(h,y)}}return c.namespace=u,c.enabled=e.enabled(u),c.useColors=e.useColors(),c.color=r(u),typeof e.init=="function"&&e.init(c),c}function o(u){e.save(u),e.names=[],e.skips=[];for(var c=(typeof u=="string"?u:"").split(/[\s,]+/),h=c.length,f=0;f<h;f++)c[f]&&(u=c[f].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function s(){e.enable("")}function a(u){var c,h;for(c=0,h=e.skips.length;c<h;c++)if(e.skips[c].test(u))return!1;for(c=0,h=e.names.length;c<h;c++)if(e.names[c].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(pp,pp.exports);var O6=pp.exports;(function(t,e){e=t.exports=O6,e.log=i,e.formatArgs=r,e.save=o,e.load=s,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:a(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function r(l){var u=this.useColors;if(l[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+l[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var c="color: "+this.color;l.splice(1,0,c,"color: inherit");var h=0,f=0;l[0].replace(/%[a-zA-Z%]/g,function(d){d!=="%%"&&(h++,d==="%c"&&(f=h))}),l.splice(f,0,c)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(l){try{l==null?e.storage.removeItem("debug"):e.storage.debug=l}catch{}}function s(){var l;try{l=e.storage.debug}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}e.enable(s());function a(){try{return window.localStorage}catch{}}})(dp,dp.exports);var I6=dp.exports,mp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(mp,mp.exports);var N6=mp.exports,gp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(gp,gp.exports);var C6=gp.exports,vp={exports:{}},yp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(yp,yp.exports);var A6=yp.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=A6,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(vp,vp.exports);var x6=vp.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=I6,r=c(n),i=N6,o=c(i),s=C6,a=c(s),l=x6,u=c(l);function c(d){return d&&d.__esModule?d:{default:d}}var h=(0,r.default)("youtube-player"),f={};f.proxyEvents=function(d){var y={},v=function(S){var b="on"+S.slice(0,1).toUpperCase()+S.slice(1);y[b]=function(A){h('event "%s"',b,A),d.trigger(S,A)}},E=!0,m=!1,p=void 0;try{for(var w=a.default[Symbol.iterator](),g;!(E=(g=w.next()).done);E=!0){var _=g.value;v(_)}}catch(O){m=!0,p=O}finally{try{!E&&w.return&&w.return()}finally{if(m)throw p}}return y},f.promisifyPlayer=function(d){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v={},E=function(b){y&&u.default[b]?v[b]=function(){for(var A=arguments.length,k=Array(A),T=0;T<A;T++)k[T]=arguments[T];return d.then(function(I){var C=u.default[b],R=I.getPlayerState(),$=I[b].apply(I,k);return C.stateChangeRequired||Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(R)===-1?new Promise(function(z){var B=function H(){var F=I.getPlayerState(),D=void 0;typeof C.timeout=="number"&&(D=setTimeout(function(){I.removeEventListener("onStateChange",H),z()},C.timeout)),Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(F)!==-1&&(I.removeEventListener("onStateChange",H),clearTimeout(D),z())};I.addEventListener("onStateChange",B)}).then(function(){return $}):$})}:v[b]=function(){for(var A=arguments.length,k=Array(A),T=0;T<A;T++)k[T]=arguments[T];return d.then(function(I){return I[b].apply(I,k)})}},m=!0,p=!1,w=void 0;try{for(var g=o.default[Symbol.iterator](),_;!(m=(_=g.next()).done);m=!0){var O=_.value;E(O)}}catch(S){p=!0,w=S}finally{try{!m&&g.return&&g.return()}finally{if(p)throw w}}return v},e.default=f,t.exports=e.default})(hp,hp.exports);var R6=hp.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r=g6,i=u(r),o=E6,s=u(o),a=R6,l=u(a);function u(h){return h&&h.__esModule?h:{default:h}}var c=void 0;e.default=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=(0,i.default)();if(c||(c=(0,s.default)(y)),f.events)throw new Error("Event handlers cannot be overwritten.");if(typeof h=="string"&&!document.getElementById(h))throw new Error('Element "'+h+'" does not exist.');f.events=l.default.proxyEvents(y);var v=new Promise(function(m){if((typeof h>"u"?"undefined":n(h))==="object"&&h.playVideo instanceof Function){var p=h;m(p)}else c.then(function(w){var g=new w.Player(h,f);return y.on("ready",function(){m(g)}),null})}),E=l.default.promisifyPlayer(v,d);return E.on=y.on,E.off=y.off,E},t.exports=e.default})(cp,cp.exports);var P6=cp.exports;const D6=Ii(P6);var L6=Object.defineProperty,M6=Object.defineProperties,$6=Object.getOwnPropertyDescriptors,N1=Object.getOwnPropertySymbols,F6=Object.prototype.hasOwnProperty,j6=Object.prototype.propertyIsEnumerable,C1=(t,e,n)=>e in t?L6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wp=(t,e)=>{for(var n in e||(e={}))F6.call(e,n)&&C1(t,n,e[n]);if(N1)for(var n of N1(e))j6.call(e,n)&&C1(t,n,e[n]);return t},Ep=(t,e)=>M6(t,$6(e)),U6=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(u){i(u)}},s=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});function B6(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const i=((n=t.opts)==null?void 0:n.playerVars)||{},o=((r=e.opts)==null?void 0:r.playerVars)||{};return i.start!==o.start||i.end!==o.end}function A1(t={}){return Ep(wp({},t),{height:0,width:0,playerVars:Ep(wp({},t.playerVars),{autoplay:0,start:0,end:0})})}function q6(t,e){return t.videoId!==e.videoId||!m6(A1(t.opts),A1(e.opts))}function V6(t,e){var n,r,i,o;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((i=t.opts)==null?void 0:i.height)!==((o=e.opts)==null?void 0:o.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var z6={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},H6={videoId:De.string,id:De.string,className:De.string,iframeClassName:De.string,style:De.object,title:De.string,loading:De.oneOf(["lazy","eager"]),opts:De.objectOf(De.any),onReady:De.func,onError:De.func,onPlay:De.func,onPause:De.func,onEnd:De.func,onStateChange:De.func,onPlaybackRateChange:De.func,onPlaybackQualityChange:De.func},eu=class extends Bt.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,i,o,s,a,l,u;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case eu.PlayerState.ENDED:(o=(i=this.props).onEnd)==null||o.call(i,e);break;case eu.PlayerState.PLAYING:(a=(s=this.props).onPlay)==null||a.call(s,e);break;case eu.PlayerState.PAUSED:(u=(l=this.props).onPause)==null||u.call(l,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Ep(wp({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=D6(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let o=!1;const s={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(o=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(s.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(s.endSeconds=this.props.opts.playerVars.end)),o){(r=this.internalPlayer)==null||r.loadVideoById(s);return}(i=this.internalPlayer)==null||i.cueVideoById(s)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return U6(this,null,function*(){V6(t,this.props)&&this.updatePlayer(),q6(t,this.props)&&(yield this.resetPlayer()),B6(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Bt.createElement("div",{className:this.props.className,style:this.props.style},Bt.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},pf=eu;pf.propTypes=H6;pf.defaultProps=z6;pf.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var K6=pf;const W6=()=>{const{id:t}=UN(),[e,n]=L.useState(null);if(L.useEffect(()=>{(async()=>{try{const o=Ng(wa,"posts",t),s=await dM(o);s.exists()?(console.log("Post data:",s.data()),n({...s.data(),id:s.id})):console.error("No post found with the given id:",t)}catch(o){console.error("Error fetching the post:",o)}})()},[t]),!e)return j("div",{children:"Loading..."});const r=G6(e.postText);return fe("div",{className:"post-page",children:[j("h1",{children:e.title}),r?j(K6,{videoId:r}):j("div",{dangerouslySetInnerHTML:{__html:e.postText}}),fe("h3",{children:["@",e.author.name]}),j("p",{children:new Date(e.createdAt).toLocaleString()})]})},G6=t=>{const e=/https:\/\/www.youtube.com\/watch\?v=([\w-]{11})/,n=t.match(e);return n?n[1]:null};function Q6(){const[t,e]=L.useState(!1);return fe("div",{className:"App",children:[j(oC,{children:j("div",{className:"table-container",children:j("table",{children:fe("tbody",{children:[j("tr",{children:j("td",{children:j(A2,{})})}),j("tr",{children:j("td",{children:fe(eC,{children:[j(Zr,{path:"/",element:j(T4,{})}),j(Zr,{path:"/lokman/contact",element:j(C4,{})}),j(Zr,{path:"/lokman/blog",element:j(d6,{})}),j(Zr,{path:"/lokman/createpost",element:j(Uk,{})}),j(Zr,{path:"/lokman/login",element:j(bk,{setIsAuth:e})}),j(Zr,{path:"/post/:id",element:j(W6,{})})]})})})]})})})}),j("div",{className:"copyrights",children:j("p",{children:"2023 Lokman RAMDANI"})}),j("div",{}),j("div",{className:"nixie_clock",children:j(x2,{})})]})}wh.createRoot(document.getElementById("root")).render(j(Bt.StrictMode,{children:j(Q6,{})}));
