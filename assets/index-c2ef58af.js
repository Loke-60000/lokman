(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c1={exports:{}},Ju={},f1={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=Symbol.for("react.element"),dk=Symbol.for("react.portal"),pk=Symbol.for("react.fragment"),mk=Symbol.for("react.strict_mode"),gk=Symbol.for("react.profiler"),vk=Symbol.for("react.provider"),yk=Symbol.for("react.context"),wk=Symbol.for("react.forward_ref"),Ek=Symbol.for("react.suspense"),_k=Symbol.for("react.memo"),Tk=Symbol.for("react.lazy"),Dg=Symbol.iterator;function Sk(t){return t===null||typeof t!="object"?null:(t=Dg&&t[Dg]||t["@@iterator"],typeof t=="function"?t:null)}var h1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d1=Object.assign,p1={};function Lo(t,e,n){this.props=t,this.context=e,this.refs=p1,this.updater=n||h1}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m1(){}m1.prototype=Lo.prototype;function op(t,e,n){this.props=t,this.context=e,this.refs=p1,this.updater=n||h1}var sp=op.prototype=new m1;sp.constructor=op;d1(sp,Lo.prototype);sp.isPureReactComponent=!0;var Mg=Array.isArray,g1=Object.prototype.hasOwnProperty,ap={current:null},v1={key:!0,ref:!0,__self:!0,__source:!0};function y1(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)g1.call(e,r)&&!v1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ea,type:t,key:o,ref:s,props:i,_owner:ap.current}}function bk(t,e){return{$$typeof:Ea,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ea}function kk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $g=/\/+/g;function ff(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kk(""+t.key):e.toString(36)}function Ol(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ea:case dk:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ff(s,0):r,Mg(i)?(n="",t!=null&&(n=t.replace($g,"$&/")+"/"),Ol(i,e,n,"",function(u){return u})):i!=null&&(lp(i)&&(i=bk(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace($g,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Mg(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+ff(o,a);s+=Ol(o,e,n,l,i)}else if(l=Sk(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+ff(o,a++),s+=Ol(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Xa(t,e,n){if(t==null)return t;var r=[],i=0;return Ol(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Ok(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},Nl={transition:null},Nk={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:ap};be.Children={map:Xa,forEach:function(t,e,n){Xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xa(t,function(){e++}),e},toArray:function(t){return Xa(t,function(e){return e})||[]},only:function(t){if(!lp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Lo;be.Fragment=pk;be.Profiler=gk;be.PureComponent=op;be.StrictMode=mk;be.Suspense=Ek;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=d1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ap.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)g1.call(e,l)&&!v1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ea,type:t.type,key:i,ref:o,props:r,_owner:s}};be.createContext=function(t){return t={$$typeof:yk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vk,_context:t},t.Consumer=t};be.createElement=y1;be.createFactory=function(t){var e=y1.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:wk,render:t}};be.isValidElement=lp;be.lazy=function(t){return{$$typeof:Tk,_payload:{_status:-1,_result:t},_init:Ok}};be.memo=function(t,e){return{$$typeof:_k,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Nl.transition;Nl.transition={};try{t()}finally{Nl.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return Dt.current.useCallback(t,e)};be.useContext=function(t){return Dt.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};be.useEffect=function(t,e){return Dt.current.useEffect(t,e)};be.useId=function(){return Dt.current.useId()};be.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Dt.current.useMemo(t,e)};be.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};be.useRef=function(t){return Dt.current.useRef(t)};be.useState=function(t){return Dt.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return Dt.current.useTransition()};be.version="18.2.0";f1.exports=be;var D=f1.exports;const wn=wa(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik=D,Ck=Symbol.for("react.element"),Ak=Symbol.for("react.fragment"),xk=Object.prototype.hasOwnProperty,Rk=Ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pk={key:!0,ref:!0,__self:!0,__source:!0};function w1(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)xk.call(e,r)&&!Pk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ck,type:t,key:o,ref:s,props:i,_owner:Rk.current}}Ju.Fragment=Ak;Ju.jsx=w1;Ju.jsxs=w1;c1.exports=Ju;var up=c1.exports;const $n=up.Fragment,M=up.jsx,oe=up.jsxs;var ph={},E1={exports:{}},Zt={},_1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,j){var L=H.length;H.push(j);e:for(;0<L;){var I=L-1>>>1,P=H[I];if(0<i(P,j))H[I]=j,H[L]=P,L=I;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var j=H[0],L=H.pop();if(L!==j){H[0]=L;e:for(var I=0,P=H.length,$=P>>>1;I<$;){var V=2*(I+1)-1,q=H[V],x=V+1,U=H[x];if(0>i(q,L))x<P&&0>i(U,q)?(H[I]=U,H[x]=L,I=x):(H[I]=q,H[V]=L,I=V);else if(x<P&&0>i(U,L))H[I]=U,H[x]=L,I=x;else break e}}return j}function i(H,j){var L=H.sortIndex-j.sortIndex;return L!==0?L:H.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,h=null,c=3,d=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(H){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=H)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function g(H){if(v=!1,y(H),!w)if(n(l)!==null)w=!0,z(_);else{var j=n(u);j!==null&&B(g,j.startTime-H)}}function _(H,j){w=!1,v&&(v=!1,m(b),b=-1),d=!0;var L=c;try{for(y(j),h=n(l);h!==null&&(!(h.expirationTime>j)||H&&!S());){var I=h.callback;if(typeof I=="function"){h.callback=null,c=h.priorityLevel;var P=I(h.expirationTime<=j);j=t.unstable_now(),typeof P=="function"?h.callback=P:h===n(l)&&r(l),y(j)}else r(l);h=n(l)}if(h!==null)var $=!0;else{var V=n(u);V!==null&&B(g,V.startTime-j),$=!1}return $}finally{h=null,c=L,d=!1}}var O=!1,T=null,b=-1,A=5,k=-1;function S(){return!(t.unstable_now()-k<A)}function N(){if(T!==null){var H=t.unstable_now();k=H;var j=!0;try{j=T(!0,H)}finally{j?C():(O=!1,T=null)}}else O=!1}var C;if(typeof p=="function")C=function(){p(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=N,C=function(){F.postMessage(null)}}else C=function(){E(N,0)};function z(H){T=H,O||(O=!0,C())}function B(H,j){b=E(function(){H(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||d||(w=!0,z(_))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(c){case 1:case 2:case 3:var j=3;break;default:j=c}var L=c;c=j;try{return H()}finally{c=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var L=c;c=H;try{return j()}finally{c=L}},t.unstable_scheduleCallback=function(H,j,L){var I=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?I+L:I):L=I,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=L+P,H={id:f++,callback:j,priorityLevel:H,startTime:L,expirationTime:P,sortIndex:-1},L>I?(H.sortIndex=L,e(u,H),n(l)===null&&H===n(u)&&(v?(m(b),b=-1):v=!0,B(g,L-I))):(H.sortIndex=P,e(l,H),w||d||(w=!0,z(_))),H},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(H){var j=c;return function(){var L=c;c=j;try{return H.apply(this,arguments)}finally{c=L}}}})(T1);_1.exports=T1;var Lk=_1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=D,Xt=Lk;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b1=new Set,Fs={};function Ci(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(Fs[t]=e,t=0;t<e.length;t++)b1.add(e[t])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=Object.prototype.hasOwnProperty,Dk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fg={},jg={};function Mk(t){return mh.call(jg,t)?!0:mh.call(Fg,t)?!1:Dk.test(t)?jg[t]=!0:(Fg[t]=!0,!1)}function $k(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fk(t,e,n,r){if(e===null||typeof e>"u"||$k(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var cp=/[\-:]([a-z])/g;function fp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cp,fp);gt[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cp,fp);gt[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cp,fp);gt[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function hp(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fk(e,n,i,r)&&(n=null),r||i===null?Mk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hr=S1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),k1=Symbol.for("react.provider"),O1=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),yh=Symbol.for("react.suspense_list"),mp=Symbol.for("react.memo"),yr=Symbol.for("react.lazy"),N1=Symbol.for("react.offscreen"),Ug=Symbol.iterator;function ts(t){return t===null||typeof t!="object"?null:(t=Ug&&t[Ug]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,hf;function ps(t){if(hf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hf=e&&e[1]||""}return`
`+hf+t}var df=!1;function pf(t,e){if(!t||df)return"";df=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{df=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ps(t):""}function jk(t){switch(t.tag){case 5:return ps(t.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 2:case 15:return t=pf(t.type,!1),t;case 11:return t=pf(t.type.render,!1),t;case 1:return t=pf(t.type,!0),t;default:return""}}function wh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case Vi:return"Portal";case gh:return"Profiler";case dp:return"StrictMode";case vh:return"Suspense";case yh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O1:return(t.displayName||"Context")+".Consumer";case k1:return(t._context.displayName||"Context")+".Provider";case pp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mp:return e=t.displayName||null,e!==null?e:wh(t.type)||"Memo";case yr:e=t._payload,t=t._init;try{return wh(t(e))}catch{}}return null}function Uk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wh(e);case 8:return e===dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bk(t){var e=I1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Za(t){t._valueTracker||(t._valueTracker=Bk(t))}function C1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=I1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eh(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function A1(t,e){e=e.checked,e!=null&&hp(t,"checked",e,!1)}function _h(t,e){A1(t,e);var n=Vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Th(t,e.type,n):e.hasOwnProperty("defaultValue")&&Th(t,e.type,Vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Th(t,e,n){(e!=="number"||Kl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ms=Array.isArray;function ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(ms(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vr(n)}}function x1(t,e){var n=Vr(e.value),r=Vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var el,P1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=el.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function js(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qk=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(t){qk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bs[e]=bs[t]})});function L1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bs.hasOwnProperty(t)&&bs[t]?(""+e).trim():e+"px"}function D1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=L1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Vk=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kh(t,e){if(e){if(Vk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Oh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=null;function gp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ih=null,io=null,oo=null;function Hg(t){if(t=Sa(t)){if(typeof Ih!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=rc(e),Ih(t.stateNode,t.type,e))}}function M1(t){io?oo?oo.push(t):oo=[t]:io=t}function $1(){if(io){var t=io,e=oo;if(oo=io=null,Hg(t),e)for(t=0;t<e.length;t++)Hg(e[t])}}function F1(t,e){return t(e)}function j1(){}var mf=!1;function U1(t,e,n){if(mf)return t(e,n);mf=!0;try{return F1(t,e,n)}finally{mf=!1,(io!==null||oo!==null)&&(j1(),$1())}}function Us(t,e){var n=t.stateNode;if(n===null)return null;var r=rc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Ch=!1;if(tr)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Ch=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Ch=!1}function zk(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var ks=!1,Wl=null,Gl=!1,Ah=null,Hk={onError:function(t){ks=!0,Wl=t}};function Kk(t,e,n,r,i,o,s,a,l){ks=!1,Wl=null,zk.apply(Hk,arguments)}function Wk(t,e,n,r,i,o,s,a,l){if(Kk.apply(this,arguments),ks){if(ks){var u=Wl;ks=!1,Wl=null}else throw Error(Z(198));Gl||(Gl=!0,Ah=u)}}function Ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kg(t){if(Ai(t)!==t)throw Error(Z(188))}function Gk(t){var e=t.alternate;if(!e){if(e=Ai(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Kg(i),t;if(o===r)return Kg(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function q1(t){return t=Gk(t),t!==null?V1(t):null}function V1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V1(t);if(e!==null)return e;t=t.sibling}return null}var z1=Xt.unstable_scheduleCallback,Wg=Xt.unstable_cancelCallback,Qk=Xt.unstable_shouldYield,Yk=Xt.unstable_requestPaint,Xe=Xt.unstable_now,Xk=Xt.unstable_getCurrentPriorityLevel,vp=Xt.unstable_ImmediatePriority,H1=Xt.unstable_UserBlockingPriority,Ql=Xt.unstable_NormalPriority,Jk=Xt.unstable_LowPriority,K1=Xt.unstable_IdlePriority,Zu=null,Rn=null;function Zk(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Zu,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:nO,eO=Math.log,tO=Math.LN2;function nO(t){return t>>>=0,t===0?32:31-(eO(t)/tO|0)|0}var tl=64,nl=4194304;function gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=gs(a):(o&=s,o!==0&&(r=gs(o)))}else s=n&~i,s!==0?r=gs(s):o!==0&&(r=gs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-En(e),i=1<<n,r|=t[n],e&=~i;return r}function rO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-En(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=rO(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function xh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W1(){var t=tl;return tl<<=1,!(tl&4194240)&&(tl=64),t}function gf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _a(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=n}function oO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-En(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function yp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-En(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function G1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Q1,wp,Y1,X1,J1,Rh=!1,rl=[],Ar=null,xr=null,Rr=null,Bs=new Map,qs=new Map,_r=[],sO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gg(t,e){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(e.pointerId)}}function rs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Sa(e),e!==null&&wp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aO(t,e,n,r,i){switch(e){case"focusin":return Ar=rs(Ar,t,e,n,r,i),!0;case"dragenter":return xr=rs(xr,t,e,n,r,i),!0;case"mouseover":return Rr=rs(Rr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bs.set(o,rs(Bs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,qs.set(o,rs(qs.get(o)||null,t,e,n,r,i)),!0}return!1}function Z1(t){var e=si(t.target);if(e!==null){var n=Ai(e);if(n!==null){if(e=n.tag,e===13){if(e=B1(n),e!==null){t.blockedOn=e,J1(t.priority,function(){Y1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Il(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ph(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nh=r,n.target.dispatchEvent(r),Nh=null}else return e=Sa(n),e!==null&&wp(e),t.blockedOn=n,!1;e.shift()}return!0}function Qg(t,e,n){Il(t)&&n.delete(e)}function lO(){Rh=!1,Ar!==null&&Il(Ar)&&(Ar=null),xr!==null&&Il(xr)&&(xr=null),Rr!==null&&Il(Rr)&&(Rr=null),Bs.forEach(Qg),qs.forEach(Qg)}function is(t,e){t.blockedOn===e&&(t.blockedOn=null,Rh||(Rh=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,lO)))}function Vs(t){function e(i){return is(i,t)}if(0<rl.length){is(rl[0],t);for(var n=1;n<rl.length;n++){var r=rl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ar!==null&&is(Ar,t),xr!==null&&is(xr,t),Rr!==null&&is(Rr,t),Bs.forEach(e),qs.forEach(e),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)Z1(n),n.blockedOn===null&&_r.shift()}var so=hr.ReactCurrentBatchConfig,Xl=!0;function uO(t,e,n,r){var i=Ae,o=so.transition;so.transition=null;try{Ae=1,Ep(t,e,n,r)}finally{Ae=i,so.transition=o}}function cO(t,e,n,r){var i=Ae,o=so.transition;so.transition=null;try{Ae=4,Ep(t,e,n,r)}finally{Ae=i,so.transition=o}}function Ep(t,e,n,r){if(Xl){var i=Ph(t,e,n,r);if(i===null)Of(t,e,r,Jl,n),Gg(t,r);else if(aO(i,t,e,n,r))r.stopPropagation();else if(Gg(t,r),e&4&&-1<sO.indexOf(t)){for(;i!==null;){var o=Sa(i);if(o!==null&&Q1(o),o=Ph(t,e,n,r),o===null&&Of(t,e,r,Jl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Of(t,e,r,null,n)}}var Jl=null;function Ph(t,e,n,r){if(Jl=null,t=gp(r),t=si(t),t!==null)if(e=Ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=B1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jl=t,null}function ew(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xk()){case vp:return 1;case H1:return 4;case Ql:case Jk:return 16;case K1:return 536870912;default:return 16}default:return 16}}var Or=null,_p=null,Cl=null;function tw(){if(Cl)return Cl;var t,e=_p,n=e.length,r,i="value"in Or?Or.value:Or.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Cl=i.slice(t,1<r?1-r:void 0)}function Al(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function il(){return!0}function Yg(){return!1}function en(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?il:Yg,this.isPropagationStopped=Yg,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=en(Do),Ta=Ke({},Do,{view:0,detail:0}),fO=en(Ta),vf,yf,os,ec=Ke({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(vf=t.screenX-os.screenX,yf=t.screenY-os.screenY):yf=vf=0,os=t),vf)},movementY:function(t){return"movementY"in t?t.movementY:yf}}),Xg=en(ec),hO=Ke({},ec,{dataTransfer:0}),dO=en(hO),pO=Ke({},Ta,{relatedTarget:0}),wf=en(pO),mO=Ke({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),gO=en(mO),vO=Ke({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yO=en(vO),wO=Ke({},Do,{data:0}),Jg=en(wO),EO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TO[t])?!!e[t]:!1}function Sp(){return SO}var bO=Ke({},Ta,{key:function(t){if(t.key){var e=EO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_O[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sp,charCode:function(t){return t.type==="keypress"?Al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kO=en(bO),OO=Ke({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=en(OO),NO=Ke({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sp}),IO=en(NO),CO=Ke({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),AO=en(CO),xO=Ke({},ec,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RO=en(xO),PO=[9,13,27,32],bp=tr&&"CompositionEvent"in window,Os=null;tr&&"documentMode"in document&&(Os=document.documentMode);var LO=tr&&"TextEvent"in window&&!Os,nw=tr&&(!bp||Os&&8<Os&&11>=Os),ev=String.fromCharCode(32),tv=!1;function rw(t,e){switch(t){case"keyup":return PO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hi=!1;function DO(t,e){switch(t){case"compositionend":return iw(e);case"keypress":return e.which!==32?null:(tv=!0,ev);case"textInput":return t=e.data,t===ev&&tv?null:t;default:return null}}function MO(t,e){if(Hi)return t==="compositionend"||!bp&&rw(t,e)?(t=tw(),Cl=_p=Or=null,Hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nw&&e.locale!=="ko"?null:e.data;default:return null}}var $O={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$O[t.type]:e==="textarea"}function ow(t,e,n,r){M1(r),e=Zl(e,"onChange"),0<e.length&&(n=new Tp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ns=null,zs=null;function FO(t){gw(t,0)}function tc(t){var e=Gi(t);if(C1(e))return t}function jO(t,e){if(t==="change")return e}var sw=!1;if(tr){var Ef;if(tr){var _f="oninput"in document;if(!_f){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),_f=typeof rv.oninput=="function"}Ef=_f}else Ef=!1;sw=Ef&&(!document.documentMode||9<document.documentMode)}function iv(){Ns&&(Ns.detachEvent("onpropertychange",aw),zs=Ns=null)}function aw(t){if(t.propertyName==="value"&&tc(zs)){var e=[];ow(e,zs,t,gp(t)),U1(FO,e)}}function UO(t,e,n){t==="focusin"?(iv(),Ns=e,zs=n,Ns.attachEvent("onpropertychange",aw)):t==="focusout"&&iv()}function BO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(zs)}function qO(t,e){if(t==="click")return tc(e)}function VO(t,e){if(t==="input"||t==="change")return tc(e)}function zO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sn=typeof Object.is=="function"?Object.is:zO;function Hs(t,e){if(Sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mh.call(e,i)||!Sn(t[i],e[i]))return!1}return!0}function ov(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sv(t,e){var n=ov(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ov(n)}}function lw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uw(){for(var t=window,e=Kl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kl(t.document)}return e}function kp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HO(t){var e=uw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lw(n.ownerDocument.documentElement,n)){if(r!==null&&kp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=sv(n,o);var s=sv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KO=tr&&"documentMode"in document&&11>=document.documentMode,Ki=null,Lh=null,Is=null,Dh=!1;function av(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dh||Ki==null||Ki!==Kl(r)||(r=Ki,"selectionStart"in r&&kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Hs(Is,r)||(Is=r,r=Zl(Lh,"onSelect"),0<r.length&&(e=new Tp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ki)))}function ol(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wi={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},Tf={},cw={};tr&&(cw=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function nc(t){if(Tf[t])return Tf[t];if(!Wi[t])return t;var e=Wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cw)return Tf[t]=e[n];return t}var fw=nc("animationend"),hw=nc("animationiteration"),dw=nc("animationstart"),pw=nc("transitionend"),mw=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(t,e){mw.set(t,e),Ci(e,[t])}for(var Sf=0;Sf<lv.length;Sf++){var bf=lv[Sf],WO=bf.toLowerCase(),GO=bf[0].toUpperCase()+bf.slice(1);Gr(WO,"on"+GO)}Gr(fw,"onAnimationEnd");Gr(hw,"onAnimationIteration");Gr(dw,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(pw,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QO=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function uv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wk(r,e,void 0,t),t.currentTarget=null}function gw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;uv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;uv(i,a,u),o=l}}}if(Gl)throw t=Ah,Gl=!1,Ah=null,t}function De(t,e){var n=e[Uh];n===void 0&&(n=e[Uh]=new Set);var r=t+"__bubble";n.has(r)||(vw(e,t,2,!1),n.add(r))}function kf(t,e,n){var r=0;e&&(r|=4),vw(n,t,r,e)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Ks(t){if(!t[sl]){t[sl]=!0,b1.forEach(function(n){n!=="selectionchange"&&(QO.has(n)||kf(n,!1,t),kf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sl]||(e[sl]=!0,kf("selectionchange",!1,e))}}function vw(t,e,n,r){switch(ew(e)){case 1:var i=uO;break;case 4:i=cO;break;default:i=Ep}n=i.bind(null,e,n,t),i=void 0,!Ch||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Of(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=si(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}U1(function(){var u=o,f=gp(n),h=[];e:{var c=mw.get(t);if(c!==void 0){var d=Tp,w=t;switch(t){case"keypress":if(Al(n)===0)break e;case"keydown":case"keyup":d=kO;break;case"focusin":w="focus",d=wf;break;case"focusout":w="blur",d=wf;break;case"beforeblur":case"afterblur":d=wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=dO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=IO;break;case fw:case hw:case dw:d=gO;break;case pw:d=AO;break;case"scroll":d=fO;break;case"wheel":d=RO;break;case"copy":case"cut":case"paste":d=yO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Zg}var v=(e&4)!==0,E=!v&&t==="scroll",m=v?c!==null?c+"Capture":null:c;v=[];for(var p=u,y;p!==null;){y=p;var g=y.stateNode;if(y.tag===5&&g!==null&&(y=g,m!==null&&(g=Us(p,m),g!=null&&v.push(Ws(p,g,y)))),E)break;p=p.return}0<v.length&&(c=new d(c,w,null,n,f),h.push({event:c,listeners:v}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",c&&n!==Nh&&(w=n.relatedTarget||n.fromElement)&&(si(w)||w[nr]))break e;if((d||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,d?(w=n.relatedTarget||n.toElement,d=u,w=w?si(w):null,w!==null&&(E=Ai(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(d=null,w=u),d!==w)){if(v=Xg,g="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Zg,g="onPointerLeave",m="onPointerEnter",p="pointer"),E=d==null?c:Gi(d),y=w==null?c:Gi(w),c=new v(g,p+"leave",d,n,f),c.target=E,c.relatedTarget=y,g=null,si(f)===u&&(v=new v(m,p+"enter",w,n,f),v.target=y,v.relatedTarget=E,g=v),E=g,d&&w)t:{for(v=d,m=w,p=0,y=v;y;y=Mi(y))p++;for(y=0,g=m;g;g=Mi(g))y++;for(;0<p-y;)v=Mi(v),p--;for(;0<y-p;)m=Mi(m),y--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=Mi(v),m=Mi(m)}v=null}else v=null;d!==null&&cv(h,c,d,v,!1),w!==null&&E!==null&&cv(h,E,w,v,!0)}}e:{if(c=u?Gi(u):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var _=jO;else if(nv(c))if(sw)_=VO;else{_=BO;var O=UO}else(d=c.nodeName)&&d.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(_=qO);if(_&&(_=_(t,u))){ow(h,_,n,f);break e}O&&O(t,c,u),t==="focusout"&&(O=c._wrapperState)&&O.controlled&&c.type==="number"&&Th(c,"number",c.value)}switch(O=u?Gi(u):window,t){case"focusin":(nv(O)||O.contentEditable==="true")&&(Ki=O,Lh=u,Is=null);break;case"focusout":Is=Lh=Ki=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,av(h,n,f);break;case"selectionchange":if(KO)break;case"keydown":case"keyup":av(h,n,f)}var T;if(bp)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hi?rw(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(nw&&n.locale!=="ko"&&(Hi||b!=="onCompositionStart"?b==="onCompositionEnd"&&Hi&&(T=tw()):(Or=f,_p="value"in Or?Or.value:Or.textContent,Hi=!0)),O=Zl(u,b),0<O.length&&(b=new Jg(b,t,null,n,f),h.push({event:b,listeners:O}),T?b.data=T:(T=iw(n),T!==null&&(b.data=T)))),(T=LO?DO(t,n):MO(t,n))&&(u=Zl(u,"onBeforeInput"),0<u.length&&(f=new Jg("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=T))}gw(h,e)})}function Ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Us(t,n),o!=null&&r.unshift(Ws(t,o,i)),o=Us(t,e),o!=null&&r.push(Ws(t,o,i))),t=t.return}return r}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Us(n,o),l!=null&&s.unshift(Ws(n,l,a))):i||(l=Us(n,o),l!=null&&s.push(Ws(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var YO=/\r\n?/g,XO=/\u0000|\uFFFD/g;function fv(t){return(typeof t=="string"?t:""+t).replace(YO,`
`).replace(XO,"")}function al(t,e,n){if(e=fv(e),fv(t)!==e&&n)throw Error(Z(425))}function eu(){}var Mh=null,$h=null;function Fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,JO=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,ZO=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(eN)}:jh;function eN(t){setTimeout(function(){throw t})}function Nf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vs(e)}function Pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Mo,Gs="__reactProps$"+Mo,nr="__reactContainer$"+Mo,Uh="__reactEvents$"+Mo,tN="__reactListeners$"+Mo,nN="__reactHandles$"+Mo;function si(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nr]||n[Cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dv(t);t!==null;){if(n=t[Cn])return n;t=dv(t)}return e}t=n,n=t.parentNode}return null}function Sa(t){return t=t[Cn]||t[nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function rc(t){return t[Gs]||null}var Bh=[],Qi=-1;function Qr(t){return{current:t}}function Fe(t){0>Qi||(t.current=Bh[Qi],Bh[Qi]=null,Qi--)}function Pe(t,e){Qi++,Bh[Qi]=t.current,t.current=e}var zr={},Ct=Qr(zr),qt=Qr(!1),vi=zr;function yo(t,e){var n=t.type.contextTypes;if(!n)return zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(t){return t=t.childContextTypes,t!=null}function tu(){Fe(qt),Fe(Ct)}function pv(t,e,n){if(Ct.current!==zr)throw Error(Z(168));Pe(Ct,e),Pe(qt,n)}function yw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,Uk(t)||"Unknown",i));return Ke({},n,r)}function nu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,vi=Ct.current,Pe(Ct,t),Pe(qt,qt.current),!0}function mv(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=yw(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,Fe(qt),Fe(Ct),Pe(Ct,t)):Fe(qt),Pe(qt,n)}var qn=null,ic=!1,If=!1;function ww(t){qn===null?qn=[t]:qn.push(t)}function rN(t){ic=!0,ww(t)}function Yr(){if(!If&&qn!==null){If=!0;var t=0,e=Ae;try{var n=qn;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qn=null,ic=!1}catch(i){throw qn!==null&&(qn=qn.slice(t+1)),z1(vp,Yr),i}finally{Ae=e,If=!1}}return null}var Yi=[],Xi=0,ru=null,iu=0,nn=[],rn=0,yi=null,Hn=1,Kn="";function ti(t,e){Yi[Xi++]=iu,Yi[Xi++]=ru,ru=t,iu=e}function Ew(t,e,n){nn[rn++]=Hn,nn[rn++]=Kn,nn[rn++]=yi,yi=t;var r=Hn;t=Kn;var i=32-En(r)-1;r&=~(1<<i),n+=1;var o=32-En(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Hn=1<<32-En(e)+i|n<<i|r,Kn=o+t}else Hn=1<<o|n<<i|r,Kn=t}function Op(t){t.return!==null&&(ti(t,1),Ew(t,1,0))}function Np(t){for(;t===ru;)ru=Yi[--Xi],Yi[Xi]=null,iu=Yi[--Xi],Yi[Xi]=null;for(;t===yi;)yi=nn[--rn],nn[rn]=null,Kn=nn[--rn],nn[rn]=null,Hn=nn[--rn],nn[rn]=null}var Yt=null,Gt=null,Be=!1,vn=null;function _w(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Gt=Pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yi!==null?{id:Hn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Gt=null,!0):!1;default:return!1}}function qh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vh(t){if(Be){var e=Gt;if(e){var n=e;if(!gv(t,e)){if(qh(t))throw Error(Z(418));e=Pr(n.nextSibling);var r=Yt;e&&gv(t,e)?_w(r,n):(t.flags=t.flags&-4097|2,Be=!1,Yt=t)}}else{if(qh(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Be=!1,Yt=t}}}function vv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function ll(t){if(t!==Yt)return!1;if(!Be)return vv(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fh(t.type,t.memoizedProps)),e&&(e=Gt)){if(qh(t))throw Tw(),Error(Z(418));for(;e;)_w(t,e),e=Pr(e.nextSibling)}if(vv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Yt?Pr(t.stateNode.nextSibling):null;return!0}function Tw(){for(var t=Gt;t;)t=Pr(t.nextSibling)}function wo(){Gt=Yt=null,Be=!1}function Ip(t){vn===null?vn=[t]:vn.push(t)}var iN=hr.ReactCurrentBatchConfig;function mn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ou=Qr(null),su=null,Ji=null,Cp=null;function Ap(){Cp=Ji=su=null}function xp(t){var e=ou.current;Fe(ou),t._currentValue=e}function zh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){su=t,Cp=Ji=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function cn(t){var e=t._currentValue;if(Cp!==t)if(t={context:t,memoizedValue:e,next:null},Ji===null){if(su===null)throw Error(Z(308));Ji=t,su.dependencies={lanes:0,firstContext:t}}else Ji=Ji.next=t;return e}var ai=null;function Rp(t){ai===null?ai=[t]:ai.push(t)}function Sw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Rp(e)):(n.next=i.next,i.next=n),e.interleaved=n,rr(t,r)}function rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function Pp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rr(t,n)}return i=r.interleaved,i===null?(e.next=e,Rp(r)):(e.next=i.next,i.next=e),r.interleaved=e,rr(t,n)}function xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yp(t,n)}}function yv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function au(t,e,n,r){var i=t.updateQueue;wr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,f=u=l=null,a=o;do{var c=a.lane,d=a.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(c=e,d=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(d,h,c);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,c=typeof w=="function"?w.call(d,h,c):w,c==null)break e;h=Ke({},h,c);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else d={eventTime:d,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=d,l=h):f=f.next=d,s|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(1);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ei|=s,t.lanes=s,t.memoizedState=h}}function wv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var kw=new S1.Component().refs;function Hh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oc={isMounted:function(t){return(t=t._reactInternals)?Ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Mr(t),o=Xn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Lr(t,o,i),e!==null&&(_n(e,t,i,r),xl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Mr(t),o=Xn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Lr(t,o,i),e!==null&&(_n(e,t,i,r),xl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=Mr(t),i=Xn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Lr(t,i,r),e!==null&&(_n(e,t,r,n),xl(e,t,r))}};function Ev(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Hs(n,r)||!Hs(i,o):!0}function Ow(t,e,n){var r=!1,i=zr,o=e.contextType;return typeof o=="object"&&o!==null?o=cn(o):(i=Vt(e)?vi:Ct.current,r=e.contextTypes,o=(r=r!=null)?yo(t,i):zr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oc.enqueueReplaceState(e,e.state,null)}function Kh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=kw,Pp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cn(o):(o=Vt(e)?vi:Ct.current,i.context=yo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Hh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oc.enqueueReplaceState(i,i.state,null),au(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ss(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===kw&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function ul(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tv(t){var e=t._init;return e(t._payload)}function Nw(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=$r(m,p),m.index=0,m.sibling=null,m}function o(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,g){return p===null||p.tag!==6?(p=Df(y,m.mode,g),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,g){var _=y.type;return _===zi?f(m,p,y.props.children,g,y.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===yr&&Tv(_)===p.type)?(g=i(p,y.props),g.ref=ss(m,p,y),g.return=m,g):(g=$l(y.type,y.key,y.props,null,m.mode,g),g.ref=ss(m,p,y),g.return=m,g)}function u(m,p,y,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Mf(y,m.mode,g),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function f(m,p,y,g,_){return p===null||p.tag!==7?(p=pi(y,m.mode,g,_),p.return=m,p):(p=i(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Df(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ja:return y=$l(p.type,p.key,p.props,null,m.mode,y),y.ref=ss(m,null,p),y.return=m,y;case Vi:return p=Mf(p,m.mode,y),p.return=m,p;case yr:var g=p._init;return h(m,g(p._payload),y)}if(ms(p)||ts(p))return p=pi(p,m.mode,y,null),p.return=m,p;ul(m,p)}return null}function c(m,p,y,g){var _=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:a(m,p,""+y,g);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ja:return y.key===_?l(m,p,y,g):null;case Vi:return y.key===_?u(m,p,y,g):null;case yr:return _=y._init,c(m,p,_(y._payload),g)}if(ms(y)||ts(y))return _!==null?null:f(m,p,y,g,null);ul(m,y)}return null}function d(m,p,y,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(y)||null,a(p,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ja:return m=m.get(g.key===null?y:g.key)||null,l(p,m,g,_);case Vi:return m=m.get(g.key===null?y:g.key)||null,u(p,m,g,_);case yr:var O=g._init;return d(m,p,y,O(g._payload),_)}if(ms(g)||ts(g))return m=m.get(y)||null,f(p,m,g,_,null);ul(p,g)}return null}function w(m,p,y,g){for(var _=null,O=null,T=p,b=p=0,A=null;T!==null&&b<y.length;b++){T.index>b?(A=T,T=null):A=T.sibling;var k=c(m,T,y[b],g);if(k===null){T===null&&(T=A);break}t&&T&&k.alternate===null&&e(m,T),p=o(k,p,b),O===null?_=k:O.sibling=k,O=k,T=A}if(b===y.length)return n(m,T),Be&&ti(m,b),_;if(T===null){for(;b<y.length;b++)T=h(m,y[b],g),T!==null&&(p=o(T,p,b),O===null?_=T:O.sibling=T,O=T);return Be&&ti(m,b),_}for(T=r(m,T);b<y.length;b++)A=d(T,m,b,y[b],g),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?b:A.key),p=o(A,p,b),O===null?_=A:O.sibling=A,O=A);return t&&T.forEach(function(S){return e(m,S)}),Be&&ti(m,b),_}function v(m,p,y,g){var _=ts(y);if(typeof _!="function")throw Error(Z(150));if(y=_.call(y),y==null)throw Error(Z(151));for(var O=_=null,T=p,b=p=0,A=null,k=y.next();T!==null&&!k.done;b++,k=y.next()){T.index>b?(A=T,T=null):A=T.sibling;var S=c(m,T,k.value,g);if(S===null){T===null&&(T=A);break}t&&T&&S.alternate===null&&e(m,T),p=o(S,p,b),O===null?_=S:O.sibling=S,O=S,T=A}if(k.done)return n(m,T),Be&&ti(m,b),_;if(T===null){for(;!k.done;b++,k=y.next())k=h(m,k.value,g),k!==null&&(p=o(k,p,b),O===null?_=k:O.sibling=k,O=k);return Be&&ti(m,b),_}for(T=r(m,T);!k.done;b++,k=y.next())k=d(T,m,b,k.value,g),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?b:k.key),p=o(k,p,b),O===null?_=k:O.sibling=k,O=k);return t&&T.forEach(function(N){return e(m,N)}),Be&&ti(m,b),_}function E(m,p,y,g){if(typeof y=="object"&&y!==null&&y.type===zi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ja:e:{for(var _=y.key,O=p;O!==null;){if(O.key===_){if(_=y.type,_===zi){if(O.tag===7){n(m,O.sibling),p=i(O,y.props.children),p.return=m,m=p;break e}}else if(O.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===yr&&Tv(_)===O.type){n(m,O.sibling),p=i(O,y.props),p.ref=ss(m,O,y),p.return=m,m=p;break e}n(m,O);break}else e(m,O);O=O.sibling}y.type===zi?(p=pi(y.props.children,m.mode,g,y.key),p.return=m,m=p):(g=$l(y.type,y.key,y.props,null,m.mode,g),g.ref=ss(m,p,y),g.return=m,m=g)}return s(m);case Vi:e:{for(O=y.key;p!==null;){if(p.key===O)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Mf(y,m.mode,g),p.return=m,m=p}return s(m);case yr:return O=y._init,E(m,p,O(y._payload),g)}if(ms(y))return w(m,p,y,g);if(ts(y))return v(m,p,y,g);ul(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=Df(y,m.mode,g),p.return=m,m=p),s(m)):n(m,p)}return E}var Eo=Nw(!0),Iw=Nw(!1),ba={},Pn=Qr(ba),Qs=Qr(ba),Ys=Qr(ba);function li(t){if(t===ba)throw Error(Z(174));return t}function Lp(t,e){switch(Pe(Ys,e),Pe(Qs,t),Pe(Pn,ba),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bh(e,t)}Fe(Pn),Pe(Pn,e)}function _o(){Fe(Pn),Fe(Qs),Fe(Ys)}function Cw(t){li(Ys.current);var e=li(Pn.current),n=bh(e,t.type);e!==n&&(Pe(Qs,t),Pe(Pn,n))}function Dp(t){Qs.current===t&&(Fe(Pn),Fe(Qs))}var ze=Qr(0);function lu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cf=[];function Mp(){for(var t=0;t<Cf.length;t++)Cf[t]._workInProgressVersionPrimary=null;Cf.length=0}var Rl=hr.ReactCurrentDispatcher,Af=hr.ReactCurrentBatchConfig,wi=0,He=null,rt=null,at=null,uu=!1,Cs=!1,Xs=0,oN=0;function wt(){throw Error(Z(321))}function $p(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sn(t[n],e[n]))return!1;return!0}function Fp(t,e,n,r,i,o){if(wi=o,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rl.current=t===null||t.memoizedState===null?uN:cN,t=n(r,i),Cs){o=0;do{if(Cs=!1,Xs=0,25<=o)throw Error(Z(301));o+=1,at=rt=null,e.updateQueue=null,Rl.current=fN,t=n(r,i)}while(Cs)}if(Rl.current=cu,e=rt!==null&&rt.next!==null,wi=0,at=rt=He=null,uu=!1,e)throw Error(Z(300));return t}function jp(){var t=Xs!==0;return Xs=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?He.memoizedState=at=t:at=at.next=t,at}function fn(){if(rt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=at===null?He.memoizedState:at.next;if(e!==null)at=e,rt=t;else{if(t===null)throw Error(Z(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},at===null?He.memoizedState=at=t:at=at.next=t}return at}function Js(t,e){return typeof e=="function"?e(t):e}function xf(t){var e=fn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if((wi&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,He.lanes|=f,Ei|=f}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Sn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,He.lanes|=o,Ei|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rf(t){var e=fn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Sn(o,e.memoizedState)||(Bt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Aw(){}function xw(t,e){var n=He,r=fn(),i=e(),o=!Sn(r.memoizedState,i);if(o&&(r.memoizedState=i,Bt=!0),r=r.queue,Up(Lw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Zs(9,Pw.bind(null,n,r,i,e),void 0,null),lt===null)throw Error(Z(349));wi&30||Rw(n,e,i)}return i}function Rw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pw(t,e,n,r){e.value=n,e.getSnapshot=r,Dw(e)&&Mw(t)}function Lw(t,e,n){return n(function(){Dw(e)&&Mw(t)})}function Dw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sn(t,n)}catch{return!0}}function Mw(t){var e=rr(t,1);e!==null&&_n(e,t,1,-1)}function Sv(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:t},e.queue=t,t=t.dispatch=lN.bind(null,He,t),[e.memoizedState,t]}function Zs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $w(){return fn().memoizedState}function Pl(t,e,n,r){var i=In();He.flags|=t,i.memoizedState=Zs(1|e,n,void 0,r===void 0?null:r)}function sc(t,e,n,r){var i=fn();r=r===void 0?null:r;var o=void 0;if(rt!==null){var s=rt.memoizedState;if(o=s.destroy,r!==null&&$p(r,s.deps)){i.memoizedState=Zs(e,n,o,r);return}}He.flags|=t,i.memoizedState=Zs(1|e,n,o,r)}function bv(t,e){return Pl(8390656,8,t,e)}function Up(t,e){return sc(2048,8,t,e)}function Fw(t,e){return sc(4,2,t,e)}function jw(t,e){return sc(4,4,t,e)}function Uw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bw(t,e,n){return n=n!=null?n.concat([t]):null,sc(4,4,Uw.bind(null,e,t),n)}function Bp(){}function qw(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$p(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vw(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$p(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zw(t,e,n){return wi&21?(Sn(n,e)||(n=W1(),He.lanes|=n,Ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function sN(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Af.transition;Af.transition={};try{t(!1),e()}finally{Ae=n,Af.transition=r}}function Hw(){return fn().memoizedState}function aN(t,e,n){var r=Mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kw(t))Ww(e,n);else if(n=Sw(t,e,n,r),n!==null){var i=Lt();_n(n,t,r,i),Gw(n,e,r)}}function lN(t,e,n){var r=Mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kw(t))Ww(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Sn(a,s)){var l=e.interleaved;l===null?(i.next=i,Rp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Sw(t,e,i,r),n!==null&&(i=Lt(),_n(n,t,r,i),Gw(n,e,r))}}function Kw(t){var e=t.alternate;return t===He||e!==null&&e===He}function Ww(t,e){Cs=uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yp(t,n)}}var cu={readContext:cn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},uN={readContext:cn,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:bv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4194308,4,Uw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pl(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aN.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:Sv,useDebugValue:Bp,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=Sv(!1),e=t[0];return t=sN.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=In();if(Be){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),lt===null)throw Error(Z(349));wi&30||Rw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,bv(Lw.bind(null,r,o,t),[t]),r.flags|=2048,Zs(9,Pw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=In(),e=lt.identifierPrefix;if(Be){var n=Kn,r=Hn;n=(r&~(1<<32-En(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cN={readContext:cn,useCallback:qw,useContext:cn,useEffect:Up,useImperativeHandle:Bw,useInsertionEffect:Fw,useLayoutEffect:jw,useMemo:Vw,useReducer:xf,useRef:$w,useState:function(){return xf(Js)},useDebugValue:Bp,useDeferredValue:function(t){var e=fn();return zw(e,rt.memoizedState,t)},useTransition:function(){var t=xf(Js)[0],e=fn().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:xw,useId:Hw,unstable_isNewReconciler:!1},fN={readContext:cn,useCallback:qw,useContext:cn,useEffect:Up,useImperativeHandle:Bw,useInsertionEffect:Fw,useLayoutEffect:jw,useMemo:Vw,useReducer:Rf,useRef:$w,useState:function(){return Rf(Js)},useDebugValue:Bp,useDeferredValue:function(t){var e=fn();return rt===null?e.memoizedState=t:zw(e,rt.memoizedState,t)},useTransition:function(){var t=Rf(Js)[0],e=fn().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:xw,useId:Hw,unstable_isNewReconciler:!1};function To(t,e){try{var n="",r=e;do n+=jk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hN=typeof WeakMap=="function"?WeakMap:Map;function Qw(t,e,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hu||(hu=!0,rd=r),Wh(t,e)},n}function Yw(t,e,n){n=Xn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wh(t,e),typeof r!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function kv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ON.bind(null,t,e,n),e.then(t,t))}function Ov(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xn(-1,1),e.tag=2,Lr(n,e,1))),n.lanes|=1),t)}var dN=hr.ReactCurrentOwner,Bt=!1;function Rt(t,e,n,r){e.child=t===null?Iw(e,null,n,r):Eo(e,t.child,n,r)}function Iv(t,e,n,r,i){n=n.render;var o=e.ref;return ao(e,i),r=Fp(t,e,n,r,o,i),n=jp(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Be&&n&&Op(e),e.flags|=1,Rt(t,e,r,i),e.child)}function Cv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Qp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Xw(t,e,o,r,i)):(t=$l(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(s,r)&&t.ref===e.ref)return ir(t,e,i)}return e.flags|=1,t=$r(o,r),t.ref=e.ref,t.return=e,e.child=t}function Xw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Hs(o,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,ir(t,e,i)}return Gh(t,e,n,r,i)}function Jw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(eo,Kt),Kt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(eo,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe(eo,Kt),Kt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pe(eo,Kt),Kt|=r;return Rt(t,e,i,n),e.child}function Zw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gh(t,e,n,r,i){var o=Vt(n)?vi:Ct.current;return o=yo(e,o),ao(e,i),n=Fp(t,e,n,r,o,i),r=jp(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Be&&r&&Op(e),e.flags|=1,Rt(t,e,n,i),e.child)}function Av(t,e,n,r,i){if(Vt(n)){var o=!0;nu(e)}else o=!1;if(ao(e,i),e.stateNode===null)Ll(t,e),Ow(e,n,r),Kh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Vt(n)?vi:Ct.current,u=yo(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_v(e,s,r,u),wr=!1;var c=e.memoizedState;s.state=c,au(e,r,s,i),l=e.memoizedState,a!==r||c!==l||qt.current||wr?(typeof f=="function"&&(Hh(e,n,f,r),l=e.memoizedState),(a=wr||Ev(e,n,a,r,c,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,bw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:mn(e.type,a),s.props=u,h=e.pendingProps,c=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Vt(n)?vi:Ct.current,l=yo(e,l));var d=n.getDerivedStateFromProps;(f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||c!==l)&&_v(e,s,r,l),wr=!1,c=e.memoizedState,s.state=c,au(e,r,s,i);var w=e.memoizedState;a!==h||c!==w||qt.current||wr?(typeof d=="function"&&(Hh(e,n,d,r),w=e.memoizedState),(u=wr||Ev(e,n,u,r,c,w,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return Qh(t,e,n,r,o,i)}function Qh(t,e,n,r,i,o){Zw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&mv(e,n,!1),ir(t,e,o);r=e.stateNode,dN.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Eo(e,t.child,null,o),e.child=Eo(e,null,a,o)):Rt(t,e,a,o),e.memoizedState=r.state,i&&mv(e,n,!0),e.child}function eE(t){var e=t.stateNode;e.pendingContext?pv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pv(t,e.context,!1),Lp(t,e.containerInfo)}function xv(t,e,n,r,i){return wo(),Ip(i),e.flags|=256,Rt(t,e,n,r),e.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function Xh(t){return{baseLanes:t,cachePool:null,transitions:null}}function tE(t,e,n){var r=e.pendingProps,i=ze.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(ze,i&1),t===null)return Vh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=uc(s,r,0,null),t=pi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Xh(n),e.memoizedState=Yh,t):qp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pN(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$r(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=$r(a,o):(o=pi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Xh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Yh,r}return o=t.child,t=o.sibling,r=$r(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qp(t,e){return e=uc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cl(t,e,n,r){return r!==null&&Ip(r),Eo(e,t.child,null,n),t=qp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pN(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Pf(Error(Z(422))),cl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=uc({mode:"visible",children:r.children},i,0,null),o=pi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Eo(e,t.child,null,s),e.child.memoizedState=Xh(s),e.memoizedState=Yh,o);if(!(e.mode&1))return cl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Z(419)),r=Pf(o,r,void 0),cl(t,e,s,r)}if(a=(s&t.childLanes)!==0,Bt||a){if(r=lt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,rr(t,i),_n(r,t,i,-1))}return Gp(),r=Pf(Error(Z(421))),cl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=NN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Gt=Pr(i.nextSibling),Yt=e,Be=!0,vn=null,t!==null&&(nn[rn++]=Hn,nn[rn++]=Kn,nn[rn++]=yi,Hn=t.id,Kn=t.overflow,yi=e),e=qp(e,r.children),e.flags|=4096,e)}function Rv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zh(t.return,e,n)}function Lf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function nE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Rt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rv(t,n,e);else if(t.tag===19)Rv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lf(e,!0,n,null,o);break;case"together":Lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ll(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mN(t,e,n){switch(e.tag){case 3:eE(e),wo();break;case 5:Cw(e);break;case 1:Vt(e.type)&&nu(e);break;case 4:Lp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(ou,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?tE(t,e,n):(Pe(ze,ze.current&1),t=ir(t,e,n),t!==null?t.sibling:null);Pe(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,Jw(t,e,n)}return ir(t,e,n)}var rE,Jh,iE,oE;rE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jh=function(){};iE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,li(Pn.current);var o=null;switch(n){case"input":i=Eh(t,i),r=Eh(t,r),o=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),o=[];break;case"textarea":i=Sh(t,i),r=Sh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=eu)}kh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};oE=function(t,e,n,r){n!==r&&(e.flags|=4)};function as(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gN(t,e,n){var r=e.pendingProps;switch(Np(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Vt(e.type)&&tu(),Et(e),null;case 3:return r=e.stateNode,_o(),Fe(qt),Fe(Ct),Mp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ll(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vn!==null&&(sd(vn),vn=null))),Jh(t,e),Et(e),null;case 5:Dp(e);var i=li(Ys.current);if(n=e.type,t!==null&&e.stateNode!=null)iE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Et(e),null}if(t=li(Pn.current),ll(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cn]=e,r[Gs]=o,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<vs.length;i++)De(vs[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Bg(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":Vg(r,o),De("invalid",r)}kh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&al(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&al(r.textContent,a,t),i=["children",""+a]):Fs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&De("scroll",r)}switch(n){case"input":Za(r),qg(r,o,!0);break;case"textarea":Za(r),zg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=eu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Cn]=e,t[Gs]=r,rE(t,e,!1,!1),e.stateNode=t;e:{switch(s=Oh(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<vs.length;i++)De(vs[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":Bg(t,r),i=Eh(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),De("invalid",t);break;case"textarea":Vg(t,r),i=Sh(t,r),De("invalid",t);break;default:i=r}kh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?D1(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&js(t,l):typeof l=="number"&&js(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&De("scroll",t):l!=null&&hp(t,o,l,s))}switch(n){case"input":Za(t),qg(t,r,!1);break;case"textarea":Za(t),zg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ro(t,!!r.multiple,o,!1):r.defaultValue!=null&&ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=eu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)oE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=li(Ys.current),li(Pn.current),ll(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cn]=e,(o=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&al(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=e,e.stateNode=r}return Et(e),null;case 13:if(Fe(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Gt!==null&&e.mode&1&&!(e.flags&128))Tw(),wo(),e.flags|=98560,o=!1;else if(o=ll(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[Cn]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),o=!1}else vn!==null&&(sd(vn),vn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?it===0&&(it=3):Gp())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return _o(),Jh(t,e),t===null&&Ks(e.stateNode.containerInfo),Et(e),null;case 10:return xp(e.type._context),Et(e),null;case 17:return Vt(e.type)&&tu(),Et(e),null;case 19:if(Fe(ze),o=e.memoizedState,o===null)return Et(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)as(o,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=lu(t),s!==null){for(e.flags|=128,as(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(ze,ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xe()>So&&(e.flags|=128,r=!0,as(o,!1),e.lanes=4194304)}else{if(!r)if(t=lu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),as(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Be)return Et(e),null}else 2*Xe()-o.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,as(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xe(),e.sibling=null,n=ze.current,Pe(ze,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Wp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function vN(t,e){switch(Np(e),e.tag){case 1:return Vt(e.type)&&tu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),Fe(qt),Fe(Ct),Mp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dp(e),null;case 13:if(Fe(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(ze),null;case 4:return _o(),null;case 10:return xp(e.type._context),null;case 22:case 23:return Wp(),null;case 24:return null;default:return null}}var fl=!1,St=!1,yN=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Zh(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var Pv=!1;function wN(t,e){if(Mh=Xl,t=uw(),kp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,f=0,h=t,c=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)c=h,h=d;for(;;){if(h===t)break t;if(c===n&&++u===i&&(a=s),c===o&&++f===r&&(l=s),(d=h.nextSibling)!==null)break;h=c,c=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($h={focusedElem:t,selectionRange:n},Xl=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:mn(e.type,v),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(g){Ge(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return w=Pv,Pv=!1,w}function As(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Zh(e,n,o)}i=i.next}while(i!==r)}}function ac(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ed(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sE(t){var e=t.alternate;e!==null&&(t.alternate=null,sE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cn],delete e[Gs],delete e[Uh],delete e[tN],delete e[nN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aE(t){return t.tag===5||t.tag===3||t.tag===4}function Lv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eu));else if(r!==4&&(t=t.child,t!==null))for(td(t,e,n),t=t.sibling;t!==null;)td(t,e,n),t=t.sibling}function nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nd(t,e,n),t=t.sibling;t!==null;)nd(t,e,n),t=t.sibling}var ft=null,gn=!1;function gr(t,e,n){for(n=n.child;n!==null;)lE(t,e,n),n=n.sibling}function lE(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Zu,n)}catch{}switch(n.tag){case 5:St||Zi(n,e);case 6:var r=ft,i=gn;ft=null,gr(t,e,n),ft=r,gn=i,ft!==null&&(gn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(gn?(t=ft,n=n.stateNode,t.nodeType===8?Nf(t.parentNode,n):t.nodeType===1&&Nf(t,n),Vs(t)):Nf(ft,n.stateNode));break;case 4:r=ft,i=gn,ft=n.stateNode.containerInfo,gn=!0,gr(t,e,n),ft=r,gn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Zh(n,e,s),i=i.next}while(i!==r)}gr(t,e,n);break;case 1:if(!St&&(Zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,gr(t,e,n),St=r):gr(t,e,n);break;default:gr(t,e,n)}}function Dv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yN),e.forEach(function(r){var i=IN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,gn=!1;break e;case 3:ft=a.stateNode.containerInfo,gn=!0;break e;case 4:ft=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(ft===null)throw Error(Z(160));lE(o,s,i),ft=null,gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uE(e,t),e=e.sibling}function uE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),On(t),r&4){try{As(3,t,t.return),ac(3,t)}catch(v){Ge(t,t.return,v)}try{As(5,t,t.return)}catch(v){Ge(t,t.return,v)}}break;case 1:pn(e,t),On(t),r&512&&n!==null&&Zi(n,n.return);break;case 5:if(pn(e,t),On(t),r&512&&n!==null&&Zi(n,n.return),t.flags&32){var i=t.stateNode;try{js(i,"")}catch(v){Ge(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&A1(i,o),Oh(a,s);var u=Oh(a,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];f==="style"?D1(i,h):f==="dangerouslySetInnerHTML"?P1(i,h):f==="children"?js(i,h):hp(i,f,h,u)}switch(a){case"input":_h(i,o);break;case"textarea":x1(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?ro(i,!!o.multiple,d,!1):c!==!!o.multiple&&(o.defaultValue!=null?ro(i,!!o.multiple,o.defaultValue,!0):ro(i,!!o.multiple,o.multiple?[]:"",!1))}i[Gs]=o}catch(v){Ge(t,t.return,v)}}break;case 6:if(pn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Ge(t,t.return,v)}}break;case 3:if(pn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vs(e.containerInfo)}catch(v){Ge(t,t.return,v)}break;case 4:pn(e,t),On(t);break;case 13:pn(e,t),On(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Hp=Xe())),r&4&&Dv(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(St=(u=St)||f,pn(e,t),St=u):pn(e,t),On(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ae=t,f=t.child;f!==null;){for(h=ae=f;ae!==null;){switch(c=ae,d=c.child,c.tag){case 0:case 11:case 14:case 15:As(4,c,c.return);break;case 1:Zi(c,c.return);var w=c.stateNode;if(typeof w.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Ge(r,n,v)}}break;case 5:Zi(c,c.return);break;case 22:if(c.memoizedState!==null){$v(h);continue}}d!==null?(d.return=c,ae=d):$v(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=L1("display",s))}catch(v){Ge(t,t.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ge(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pn(e,t),On(t),r&4&&Dv(t);break;case 21:break;default:pn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aE(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(js(i,""),r.flags&=-33);var o=Lv(t);nd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Lv(t);td(t,a,s);break;default:throw Error(Z(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EN(t,e,n){ae=t,cE(t)}function cE(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||fl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=fl;var u=St;if(fl=s,(St=l)&&!u)for(ae=i;ae!==null;)s=ae,l=s.child,s.tag===22&&s.memoizedState!==null?Fv(i):l!==null?(l.return=s,ae=l):Fv(i);for(;o!==null;)ae=o,cE(o),o=o.sibling;ae=i,fl=a,St=u}Mv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ae=o):Mv(t)}}function Mv(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||ac(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Vs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}St||e.flags&512&&ed(e)}catch(c){Ge(e,e.return,c)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function $v(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Fv(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ac(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var o=e.return;try{ed(e)}catch(l){Ge(e,o,l)}break;case 5:var s=e.return;try{ed(e)}catch(l){Ge(e,s,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var _N=Math.ceil,fu=hr.ReactCurrentDispatcher,Vp=hr.ReactCurrentOwner,un=hr.ReactCurrentBatchConfig,Oe=0,lt=null,et=null,pt=0,Kt=0,eo=Qr(0),it=0,ea=null,Ei=0,lc=0,zp=0,xs=null,Ft=null,Hp=0,So=1/0,Bn=null,hu=!1,rd=null,Dr=null,hl=!1,Nr=null,du=0,Rs=0,id=null,Dl=-1,Ml=0;function Lt(){return Oe&6?Xe():Dl!==-1?Dl:Dl=Xe()}function Mr(t){return t.mode&1?Oe&2&&pt!==0?pt&-pt:iN.transition!==null?(Ml===0&&(Ml=W1()),Ml):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:ew(t.type)),t):1}function _n(t,e,n,r){if(50<Rs)throw Rs=0,id=null,Error(Z(185));_a(t,n,r),(!(Oe&2)||t!==lt)&&(t===lt&&(!(Oe&2)&&(lc|=n),it===4&&Tr(t,pt)),zt(t,r),n===1&&Oe===0&&!(e.mode&1)&&(So=Xe()+500,ic&&Yr()))}function zt(t,e){var n=t.callbackNode;iO(t,e);var r=Yl(t,t===lt?pt:0);if(r===0)n!==null&&Wg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wg(n),e===1)t.tag===0?rN(jv.bind(null,t)):ww(jv.bind(null,t)),ZO(function(){!(Oe&6)&&Yr()}),n=null;else{switch(G1(r)){case 1:n=vp;break;case 4:n=H1;break;case 16:n=Ql;break;case 536870912:n=K1;break;default:n=Ql}n=yE(n,fE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fE(t,e){if(Dl=-1,Ml=0,Oe&6)throw Error(Z(327));var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var r=Yl(t,t===lt?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pu(t,r);else{e=r;var i=Oe;Oe|=2;var o=dE();(lt!==t||pt!==e)&&(Bn=null,So=Xe()+500,di(t,e));do try{bN();break}catch(a){hE(t,a)}while(1);Ap(),fu.current=o,Oe=i,et!==null?e=0:(lt=null,pt=0,e=it)}if(e!==0){if(e===2&&(i=xh(t),i!==0&&(r=i,e=od(t,i))),e===1)throw n=ea,di(t,0),Tr(t,r),zt(t,Xe()),n;if(e===6)Tr(t,r);else{if(i=t.current.alternate,!(r&30)&&!TN(i)&&(e=pu(t,r),e===2&&(o=xh(t),o!==0&&(r=o,e=od(t,o))),e===1))throw n=ea,di(t,0),Tr(t,r),zt(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:ni(t,Ft,Bn);break;case 3:if(Tr(t,r),(r&130023424)===r&&(e=Hp+500-Xe(),10<e)){if(Yl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jh(ni.bind(null,t,Ft,Bn),e);break}ni(t,Ft,Bn);break;case 4:if(Tr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-En(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_N(r/1960))-r,10<r){t.timeoutHandle=jh(ni.bind(null,t,Ft,Bn),r);break}ni(t,Ft,Bn);break;case 5:ni(t,Ft,Bn);break;default:throw Error(Z(329))}}}return zt(t,Xe()),t.callbackNode===n?fE.bind(null,t):null}function od(t,e){var n=xs;return t.current.memoizedState.isDehydrated&&(di(t,e).flags|=256),t=pu(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&sd(e)),t}function sd(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function TN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Sn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e){for(e&=~zp,e&=~lc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-En(e),r=1<<n;t[n]=-1,e&=~r}}function jv(t){if(Oe&6)throw Error(Z(327));lo();var e=Yl(t,0);if(!(e&1))return zt(t,Xe()),null;var n=pu(t,e);if(t.tag!==0&&n===2){var r=xh(t);r!==0&&(e=r,n=od(t,r))}if(n===1)throw n=ea,di(t,0),Tr(t,e),zt(t,Xe()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,Ft,Bn),zt(t,Xe()),null}function Kp(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(So=Xe()+500,ic&&Yr())}}function _i(t){Nr!==null&&Nr.tag===0&&!(Oe&6)&&lo();var e=Oe;Oe|=1;var n=un.transition,r=Ae;try{if(un.transition=null,Ae=1,t)return t()}finally{Ae=r,un.transition=n,Oe=e,!(Oe&6)&&Yr()}}function Wp(){Kt=eo.current,Fe(eo)}function di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JO(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(Np(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tu();break;case 3:_o(),Fe(qt),Fe(Ct),Mp();break;case 5:Dp(r);break;case 4:_o();break;case 13:Fe(ze);break;case 19:Fe(ze);break;case 10:xp(r.type._context);break;case 22:case 23:Wp()}n=n.return}if(lt=t,et=t=$r(t.current,null),pt=Kt=e,it=0,ea=null,zp=lc=Ei=0,Ft=xs=null,ai!==null){for(e=0;e<ai.length;e++)if(n=ai[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ai=null}return t}function hE(t,e){do{var n=et;try{if(Ap(),Rl.current=cu,uu){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uu=!1}if(wi=0,at=rt=He=null,Cs=!1,Xs=0,Vp.current=null,n===null||n.return===null){it=1,ea=e,et=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=Ov(s);if(d!==null){d.flags&=-257,Nv(d,s,a,o,e),d.mode&1&&kv(o,u,e),e=d,l=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){kv(o,u,e),Gp();break e}l=Error(Z(426))}}else if(Be&&a.mode&1){var E=Ov(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Nv(E,s,a,o,e),Ip(To(l,a));break e}}o=l=To(l,a),it!==4&&(it=2),xs===null?xs=[o]:xs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Qw(o,l,e);yv(o,m);break e;case 1:a=l;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dr===null||!Dr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var g=Yw(o,a,e);yv(o,g);break e}}o=o.return}while(o!==null)}mE(n)}catch(_){e=_,et===n&&n!==null&&(et=n=n.return);continue}break}while(1)}function dE(){var t=fu.current;return fu.current=cu,t===null?cu:t}function Gp(){(it===0||it===3||it===2)&&(it=4),lt===null||!(Ei&268435455)&&!(lc&268435455)||Tr(lt,pt)}function pu(t,e){var n=Oe;Oe|=2;var r=dE();(lt!==t||pt!==e)&&(Bn=null,di(t,e));do try{SN();break}catch(i){hE(t,i)}while(1);if(Ap(),Oe=n,fu.current=r,et!==null)throw Error(Z(261));return lt=null,pt=0,it}function SN(){for(;et!==null;)pE(et)}function bN(){for(;et!==null&&!Qk();)pE(et)}function pE(t){var e=vE(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?mE(t):et=e,Vp.current=null}function mE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vN(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,et=null;return}}else if(n=gN(n,e,Kt),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);it===0&&(it=5)}function ni(t,e,n){var r=Ae,i=un.transition;try{un.transition=null,Ae=1,kN(t,e,n,r)}finally{un.transition=i,Ae=r}return null}function kN(t,e,n,r){do lo();while(Nr!==null);if(Oe&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(oO(t,o),t===lt&&(et=lt=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,yE(Ql,function(){return lo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=un.transition,un.transition=null;var s=Ae;Ae=1;var a=Oe;Oe|=4,Vp.current=null,wN(t,n),uE(n,t),HO($h),Xl=!!Mh,$h=Mh=null,t.current=n,EN(n),Yk(),Oe=a,Ae=s,un.transition=o}else t.current=n;if(hl&&(hl=!1,Nr=t,du=i),o=t.pendingLanes,o===0&&(Dr=null),Zk(n.stateNode),zt(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hu)throw hu=!1,t=rd,rd=null,t;return du&1&&t.tag!==0&&lo(),o=t.pendingLanes,o&1?t===id?Rs++:(Rs=0,id=t):Rs=0,Yr(),null}function lo(){if(Nr!==null){var t=G1(du),e=un.transition,n=Ae;try{if(un.transition=null,Ae=16>t?16:t,Nr===null)var r=!1;else{if(t=Nr,Nr=null,du=0,Oe&6)throw Error(Z(331));var i=Oe;for(Oe|=4,ae=t.current;ae!==null;){var o=ae,s=o.child;if(ae.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var f=ae;switch(f.tag){case 0:case 11:case 15:As(8,f,o)}var h=f.child;if(h!==null)h.return=f,ae=h;else for(;ae!==null;){f=ae;var c=f.sibling,d=f.return;if(sE(f),f===u){ae=null;break}if(c!==null){c.return=d,ae=c;break}ae=d}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}ae=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ae=s;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:As(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,ae=m;break e}ae=o.return}}var p=t.current;for(ae=p;ae!==null;){s=ae;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,ae=y;else e:for(s=p;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ac(9,a)}}catch(_){Ge(a,a.return,_)}if(a===s){ae=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,ae=g;break e}ae=a.return}}if(Oe=i,Yr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Zu,t)}catch{}r=!0}return r}finally{Ae=n,un.transition=e}}return!1}function Uv(t,e,n){e=To(n,e),e=Qw(t,e,1),t=Lr(t,e,1),e=Lt(),t!==null&&(_a(t,1,e),zt(t,e))}function Ge(t,e,n){if(t.tag===3)Uv(t,t,n);else for(;e!==null;){if(e.tag===3){Uv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dr===null||!Dr.has(r))){t=To(n,t),t=Yw(e,t,1),e=Lr(e,t,1),t=Lt(),e!==null&&(_a(e,1,t),zt(e,t));break}}e=e.return}}function ON(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(pt&n)===n&&(it===4||it===3&&(pt&130023424)===pt&&500>Xe()-Hp?di(t,0):zp|=n),zt(t,e)}function gE(t,e){e===0&&(t.mode&1?(e=nl,nl<<=1,!(nl&130023424)&&(nl=4194304)):e=1);var n=Lt();t=rr(t,e),t!==null&&(_a(t,e,n),zt(t,n))}function NN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gE(t,n)}function IN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),gE(t,n)}var vE;vE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,mN(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Be&&e.flags&1048576&&Ew(e,iu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ll(t,e),t=e.pendingProps;var i=yo(e,Ct.current);ao(e,n),i=Fp(null,e,r,t,i,n);var o=jp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(o=!0,nu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pp(e),i.updater=oc,e.stateNode=i,i._reactInternals=e,Kh(e,r,t,n),e=Qh(null,e,r,!0,o,n)):(e.tag=0,Be&&o&&Op(e),Rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ll(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AN(r),t=mn(r,t),i){case 0:e=Gh(null,e,r,t,n);break e;case 1:e=Av(null,e,r,t,n);break e;case 11:e=Iv(null,e,r,t,n);break e;case 14:e=Cv(null,e,r,mn(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Gh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Av(t,e,r,i,n);case 3:e:{if(eE(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,bw(t,e),au(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=To(Error(Z(423)),e),e=xv(t,e,r,n,i);break e}else if(r!==i){i=To(Error(Z(424)),e),e=xv(t,e,r,n,i);break e}else for(Gt=Pr(e.stateNode.containerInfo.firstChild),Yt=e,Be=!0,vn=null,n=Iw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wo(),r===i){e=ir(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return Cw(e),t===null&&Vh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Fh(r,i)?s=null:o!==null&&Fh(r,o)&&(e.flags|=32),Zw(t,e),Rt(t,e,s,n),e.child;case 6:return t===null&&Vh(e),null;case 13:return tE(t,e,n);case 4:return Lp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Iv(t,e,r,i,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Pe(ou,r._currentValue),r._currentValue=s,o!==null)if(Sn(o.value,s)){if(o.children===i.children&&!qt.current){e=ir(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Xn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),zh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),zh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ao(e,n),i=cn(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,i=mn(r,e.pendingProps),i=mn(r.type,i),Cv(t,e,r,i,n);case 15:return Xw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Ll(t,e),e.tag=1,Vt(r)?(t=!0,nu(e)):t=!1,ao(e,n),Ow(e,r,i),Kh(e,r,i,n),Qh(null,e,r,!0,t,n);case 19:return nE(t,e,n);case 22:return Jw(t,e,n)}throw Error(Z(156,e.tag))};function yE(t,e){return z1(t,e)}function CN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new CN(t,e,n,r)}function Qp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AN(t){if(typeof t=="function")return Qp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pp)return 11;if(t===mp)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $l(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Qp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case zi:return pi(n.children,i,o,e);case dp:s=8,i|=8;break;case gh:return t=ln(12,n,e,i|2),t.elementType=gh,t.lanes=o,t;case vh:return t=ln(13,n,e,i),t.elementType=vh,t.lanes=o,t;case yh:return t=ln(19,n,e,i),t.elementType=yh,t.lanes=o,t;case N1:return uc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k1:s=10;break e;case O1:s=9;break e;case pp:s=11;break e;case mp:s=14;break e;case yr:s=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=ln(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function pi(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function uc(t,e,n,r){return t=ln(22,t,r,e),t.elementType=N1,t.lanes=n,t.stateNode={isHidden:!1},t}function Df(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function Mf(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yp(t,e,n,r,i,o,s,a,l){return t=new xN(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ln(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(o),t}function RN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wE(t){if(!t)return zr;t=t._reactInternals;e:{if(Ai(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Vt(n))return yw(t,n,e)}return e}function EE(t,e,n,r,i,o,s,a,l){return t=Yp(n,r,!0,t,i,o,s,a,l),t.context=wE(null),n=t.current,r=Lt(),i=Mr(n),o=Xn(r,i),o.callback=e??null,Lr(n,o,i),t.current.lanes=i,_a(t,i,r),zt(t,r),t}function cc(t,e,n,r){var i=e.current,o=Lt(),s=Mr(i);return n=wE(n),e.context===null?e.context=n:e.pendingContext=n,e=Xn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lr(i,e,s),t!==null&&(_n(t,i,s,o),xl(t,i,s)),s}function mu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xp(t,e){Bv(t,e),(t=t.alternate)&&Bv(t,e)}function PN(){return null}var _E=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jp(t){this._internalRoot=t}fc.prototype.render=Jp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));cc(t,e,null,null)};fc.prototype.unmount=Jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_i(function(){cc(null,t,null,null)}),e[nr]=null}};function fc(t){this._internalRoot=t}fc.prototype.unstable_scheduleHydration=function(t){if(t){var e=X1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_r.length&&e!==0&&e<_r[n].priority;n++);_r.splice(n,0,t),n===0&&Z1(t)}};function Zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qv(){}function LN(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=mu(s);o.call(u)}}var s=EE(e,r,t,0,null,!1,!1,"",qv);return t._reactRootContainer=s,t[nr]=s.current,Ks(t.nodeType===8?t.parentNode:t),_i(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=mu(l);a.call(u)}}var l=Yp(t,0,!1,null,null,!1,!1,"",qv);return t._reactRootContainer=l,t[nr]=l.current,Ks(t.nodeType===8?t.parentNode:t),_i(function(){cc(e,l,n,r)}),l}function dc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=mu(s);a.call(l)}}cc(e,s,t,i)}else s=LN(n,e,t,i,r);return mu(s)}Q1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gs(e.pendingLanes);n!==0&&(yp(e,n|1),zt(e,Xe()),!(Oe&6)&&(So=Xe()+500,Yr()))}break;case 13:_i(function(){var r=rr(t,1);if(r!==null){var i=Lt();_n(r,t,1,i)}}),Xp(t,1)}};wp=function(t){if(t.tag===13){var e=rr(t,134217728);if(e!==null){var n=Lt();_n(e,t,134217728,n)}Xp(t,134217728)}};Y1=function(t){if(t.tag===13){var e=Mr(t),n=rr(t,e);if(n!==null){var r=Lt();_n(n,t,e,r)}Xp(t,e)}};X1=function(){return Ae};J1=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Ih=function(t,e,n){switch(e){case"input":if(_h(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rc(r);if(!i)throw Error(Z(90));C1(r),_h(r,i)}}}break;case"textarea":x1(t,n);break;case"select":e=n.value,e!=null&&ro(t,!!n.multiple,e,!1)}};F1=Kp;j1=_i;var DN={usingClientEntryPoint:!1,Events:[Sa,Gi,rc,M1,$1,Kp]},ls={findFiberByHostInstance:si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MN={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q1(t),t===null?null:t.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||PN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Zu=dl.inject(MN),Rn=dl}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DN;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zp(e))throw Error(Z(200));return RN(t,e,null,n)};Zt.createRoot=function(t,e){if(!Zp(t))throw Error(Z(299));var n=!1,r="",i=_E;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yp(t,1,!1,null,null,n,!1,r,i),t[nr]=e.current,Ks(t.nodeType===8?t.parentNode:t),new Jp(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=q1(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return _i(t)};Zt.hydrate=function(t,e,n){if(!hc(e))throw Error(Z(200));return dc(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!Zp(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=_E;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=EE(e,null,t,1,n??null,i,!1,o,s),t[nr]=e.current,Ks(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fc(e)};Zt.render=function(t,e,n){if(!hc(e))throw Error(Z(200));return dc(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!hc(t))throw Error(Z(40));return t._reactRootContainer?(_i(function(){dc(null,null,t,!1,function(){t._reactRootContainer=null,t[nr]=null})}),!0):!1};Zt.unstable_batchedUpdates=Kp;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hc(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return dc(t,e,n,!1,r)};Zt.version="18.2.0-next-9e3b772b8-20220608";function TE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TE)}catch(t){console.error(t)}}TE(),E1.exports=Zt;var em=E1.exports;const to=wa(em);var Vv=em;ph.createRoot=Vv.createRoot,ph.hydrateRoot=Vv.hydrateRoot;/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ta.apply(this,arguments)}var Ir;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ir||(Ir={}));const zv="popstate";function $N(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=xi(i.location.hash.substr(1));return ad("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:gu(o))}function r(i,o){pc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return jN(e,n,r,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FN(){return Math.random().toString(36).substr(2,8)}function Hv(t,e){return{usr:t.state,key:t.key,idx:e}}function ad(t,e,n,r){return n===void 0&&(n=null),ta({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xi(e):e,{state:n,key:e&&e.key||r||FN()})}function gu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ir.Pop,l=null,u=f();u==null&&(u=0,s.replaceState(ta({},s.state,{idx:u}),""));function f(){return(s.state||{idx:null}).idx}function h(){a=Ir.Pop;let E=f(),m=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:m})}function c(E,m){a=Ir.Push;let p=ad(v.location,E,m);n&&n(p,E),u=f()+1;let y=Hv(p,u),g=v.createHref(p);try{s.pushState(y,"",g)}catch{i.location.assign(g)}o&&l&&l({action:a,location:v.location,delta:1})}function d(E,m){a=Ir.Replace;let p=ad(v.location,E,m);n&&n(p,E),u=f();let y=Hv(p,u),g=v.createHref(p);s.replaceState(y,"",g),o&&l&&l({action:a,location:v.location,delta:0})}function w(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:gu(E);return nt(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zv,h),l=E,()=>{i.removeEventListener(zv,h),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let m=w(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:d,go(E){return s.go(E)}};return v}var Kv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kv||(Kv={}));function UN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?xi(e):e,i=tm(r.pathname||"/",n);if(i==null)return null;let o=SE(t);BN(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=YN(o[a],ZN(i));return s}function SE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Fr([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),SE(o.children,e,f,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:GN(u,o.index),routesMeta:f})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of bE(o.path))i(o,s,l)}),e}function bE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=bE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function BN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qN=/^:\w+$/,VN=3,zN=2,HN=1,KN=10,WN=-2,Wv=t=>t==="*";function GN(t,e){let n=t.split("/"),r=n.length;return n.some(Wv)&&(r+=WN),e&&(r+=zN),n.filter(i=>!Wv(i)).reduce((i,o)=>i+(qN.test(o)?VN:o===""?HN:KN),r)}function QN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YN(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=XN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!f)return null;Object.assign(r,f.params);let h=a.route;o.push({params:r,pathname:Fr([i,f.pathname]),pathnameBase:rI(Fr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Fr([i,f.pathnameBase]))}return o}function XN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,h)=>{if(f==="*"){let c=a[h]||"";s=o.slice(0,o.length-c.length).replace(/(.)\/+$/,"$1")}return u[f]=eI(a[h]||"",f),u},{}),pathname:o,pathnameBase:s,pattern:t}}function JN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZN(t){try{return decodeURI(t)}catch(e){return pc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eI(t,e){try{return decodeURIComponent(t)}catch(n){return pc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function tm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xi(t):t;return{pathname:n?n.startsWith("/")?n:nI(n,e):e,search:iI(r),hash:oI(i)}}function nI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $f(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xi(t):(i=ta({},t),nt(!i.pathname||!i.pathname.includes("?"),$f("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),$f("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),$f("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let h=e.length-1;if(s.startsWith("..")){let c=s.split("/");for(;c[0]==="..";)c.shift(),h-=1;i.pathname=c.join("/")}a=h>=0?e[h]:"/"}let l=tI(i,a),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),rI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(this,arguments)}const nm=D.createContext(null),aI=D.createContext(null),$o=D.createContext(null),mc=D.createContext(null),Ri=D.createContext({outlet:null,matches:[]}),NE=D.createContext(null);function lI(t,e){let{relative:n}=e===void 0?{}:e;ka()||nt(!1);let{basename:r,navigator:i}=D.useContext($o),{hash:o,pathname:s,search:a}=AE(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Fr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ka(){return D.useContext(mc)!=null}function gc(){return ka()||nt(!1),D.useContext(mc).location}function IE(t){D.useContext($o).static||D.useLayoutEffect(t)}function Oa(){return D.useContext(nm)!=null?_I():uI()}function uI(){ka()||nt(!1);let{basename:t,navigator:e}=D.useContext($o),{matches:n}=D.useContext(Ri),{pathname:r}=gc(),i=JSON.stringify(kE(n).map(a=>a.pathnameBase)),o=D.useRef(!1);return IE(()=>{o.current=!0}),D.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=OE(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Fr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function CE(){let{matches:t}=D.useContext(Ri),e=t[t.length-1];return e?e.params:{}}function AE(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=D.useContext(Ri),{pathname:i}=gc(),o=JSON.stringify(kE(r).map(s=>s.pathnameBase));return D.useMemo(()=>OE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function cI(t,e){return fI(t,e)}function fI(t,e,n){ka()||nt(!1);let{navigator:r}=D.useContext($o),{matches:i}=D.useContext(Ri),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=gc(),u;if(e){var f;let v=typeof e=="string"?xi(e):e;a==="/"||(f=v.pathname)!=null&&f.startsWith(a)||nt(!1),u=v}else u=l;let h=u.pathname||"/",c=a==="/"?h:h.slice(a.length)||"/",d=UN(t,{pathname:c}),w=gI(d&&d.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Fr([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Fr([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&w?D.createElement(mc.Provider,{value:{location:vu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ir.Pop}},w):w}function hI(){let t=EI(),e=sI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,o)}const dI=D.createElement(hI,null);class pI extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?D.createElement(Ri.Provider,{value:this.props.routeContext},D.createElement(NE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mI(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(nm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Ri.Provider,{value:e},r)}function gI(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||nt(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let f=l.route.id?s==null?void 0:s[l.route.id]:null,h=null;n&&(h=l.route.errorElement||dI);let c=e.concat(o.slice(0,u+1)),d=()=>{let w;return f?w=h:l.route.element?w=l.route.element:w=a,D.createElement(mI,{match:l,routeContext:{outlet:a,matches:c},children:w})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?D.createElement(pI,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var ld;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(ld||(ld={}));var na;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(na||(na={}));function vI(t){let e=D.useContext(nm);return e||nt(!1),e}function yI(t){let e=D.useContext(aI);return e||nt(!1),e}function wI(t){let e=D.useContext(Ri);return e||nt(!1),e}function xE(t){let e=wI(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function EI(){var t;let e=D.useContext(NE),n=yI(na.UseRouteError),r=xE(na.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function _I(){let{router:t}=vI(ld.UseNavigateStable),e=xE(na.UseNavigateStable),n=D.useRef(!1);return IE(()=>{n.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vu({fromRouteId:e},o)))},[t,e])}function tn(t){nt(!1)}function TI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ir.Pop,navigator:o,static:s=!1}=t;ka()&&nt(!1);let a=e.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=xi(r));let{pathname:u="/",search:f="",hash:h="",state:c=null,key:d="default"}=r,w=D.useMemo(()=>{let v=tm(u,a);return v==null?null:{location:{pathname:v,search:f,hash:h,state:c,key:d},navigationType:i}},[a,u,f,h,c,d,i]);return w==null?null:D.createElement($o.Provider,{value:l},D.createElement(mc.Provider,{children:n,value:w}))}function SI(t){let{children:e,location:n}=t;return cI(ud(e),n)}var Gv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Gv||(Gv={}));new Promise(()=>{});function ud(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,ud(r.props.children,o));return}r.type!==tn&&nt(!1),!r.props.index||!r.props.children||nt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ud(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}function bI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OI(t,e){return t.button===0&&(!e||e==="_self")&&!kI(t)}const NI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function II(t){let{basename:e,children:n,window:r}=t,i=D.useRef();i.current==null&&(i.current=$N({window:r,v5Compat:!0}));let o=i.current,[s,a]=D.useState({action:o.action,location:o.location});return D.useLayoutEffect(()=>o.listen(a),[o]),D.createElement(TI,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}const CI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:f}=e,h=bI(e,NI),{basename:c}=D.useContext($o),d,w=!1;if(typeof u=="string"&&AI.test(u)&&(d=u,CI))try{let p=new URL(window.location.href),y=u.startsWith("//")?new URL(p.protocol+u):new URL(u),g=tm(y.pathname,c);y.origin===p.origin&&g!=null?u=g+y.search+y.hash:w=!0}catch{}let v=lI(u,{relative:i}),E=xI(u,{replace:s,state:a,target:l,preventScrollReset:f,relative:i});function m(p){r&&r(p),p.defaultPrevented||E(p)}return D.createElement("a",cd({},h,{href:d||v,onClick:w||o?r:m,ref:n,target:l}))});var Qv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Qv||(Qv={}));var Yv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yv||(Yv={}));function xI(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=Oa(),l=gc(),u=AE(t,{relative:s});return D.useCallback(f=>{if(OI(f,n)){f.preventDefault();let h=r!==void 0?r:gu(l)===gu(u);a(t,{replace:h,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}var RE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(RE);var RI=RE.exports;const Ie=wa(RI);function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}function PE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xv(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function PI(t){var e=LI(t,"string");return typeof e=="symbol"?e:String(e)}function LI(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DI(t,e,n){var r=D.useRef(t!==void 0),i=D.useState(e),o=i[0],s=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&o!==e&&s(e),[a?t:o,D.useCallback(function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),c=1;c<f;c++)h[c-1]=arguments[c];n&&n.apply(void 0,[u].concat(h)),s(u)},[n])]}function rm(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[Xv(r)],a=o[r],l=PE(o,[Xv(r),r].map(PI)),u=e[r],f=DI(a,s,t[u]),h=f[0],c=f[1];return fd({},l,(i={},i[r]=h,i[u]=c,i))},t)}function hd(t,e){return hd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hd(t,e)}function MI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hd(t,e)}const $I=["xxl","xl","lg","md","sm","xs"],FI="xs",vc=D.createContext({prefixes:{},breakpoints:$I,minBreakpoint:FI});function Ve(t,e){const{prefixes:n}=D.useContext(vc);return t||n[e]||e}function jI(){const{breakpoints:t}=D.useContext(vc);return t}function UI(){const{minBreakpoint:t}=D.useContext(vc);return t}function BI(){const{dir:t}=D.useContext(vc);return t==="rtl"}function im(t){return t&&t.ownerDocument||document}function qI(t){var e=im(t);return e&&e.defaultView||window}function VI(t,e){return qI(t).getComputedStyle(t,e)}var zI=/([A-Z])/g;function HI(t){return t.replace(zI,"-$1").toLowerCase()}var KI=/^ms-/;function pl(t){return HI(t).replace(KI,"-ms-")}var WI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function GI(t){return!!(t&&WI.test(t))}function Jn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(pl(e))||VI(t).getPropertyValue(pl(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(pl(i)):GI(i)?r+=i+"("+o+") ":n+=pl(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var LE={exports:{}},QI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YI=QI,XI=YI;function DE(){}function ME(){}ME.resetWarningCache=DE;var JI=function(){function t(r,i,o,s,a,l){if(l!==XI){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ME,resetWarningCache:DE};return n.PropTypes=n,n};LE.exports=JI();var ZI=LE.exports;const Zn=wa(ZI),Jv={disabled:!1},$E=wn.createContext(null);var eC=function(e){return e.scrollTop},ys="unmounted",Er="exited",yn="entering",Vn="entered",ra="exiting",dr=function(t){MI(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Er,o.appearStatus=yn):l=Vn:r.unmountOnExit||r.mountOnEnter?l=ys:l=Er,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ys?{status:Er}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==yn&&s!==Vn&&(o=yn):(s===yn||s===Vn)&&(o=ra)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===yn){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this);s&&eC(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Er&&this.setState({status:ys})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[to.findDOMNode(this),a],u=l[0],f=l[1],h=this.getTimeouts(),c=a?h.appear:h.enter;if(!i&&!s||Jv.disabled){this.safeSetState({status:Vn},function(){o.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:yn},function(){o.props.onEntering(u,f),o.onTransitionEnd(c,function(){o.safeSetState({status:Vn},function(){o.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:to.findDOMNode(this);if(!o||Jv.disabled){this.safeSetState({status:Er},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ra},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Er},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],f=l[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ys)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=PE(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wn.createElement($E.Provider,{value:null},typeof s=="function"?s(i,a):wn.cloneElement(wn.Children.only(s),a))},e}(wn.Component);dr.contextType=$E;dr.propTypes={};function $i(){}dr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$i,onEntering:$i,onEntered:$i,onExit:$i,onExiting:$i,onExited:$i};dr.UNMOUNTED=ys;dr.EXITED=Er;dr.ENTERING=yn;dr.ENTERED=Vn;dr.EXITING=ra;const tC=dr,yc=!!(typeof window<"u"&&window.document&&window.document.createElement);var dd=!1,pd=!1;try{var Ff={get passive(){return dd=!0},get once(){return pd=dd=!0}};yc&&(window.addEventListener("test",Ff,Ff),window.removeEventListener("test",Ff,!0))}catch{}function nC(t,e,n,r){if(r&&typeof r!="boolean"&&!pd){var i=r.once,o=r.capture,s=n;!pd&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,dd?r:o)}t.addEventListener(e,n,r)}function rC(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function yu(t,e,n,r){return nC(t,e,n,r),function(){rC(t,e,n,r)}}function iC(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function oC(t){var e=Jn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function sC(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||iC(t,"transitionend",!0)},e+n),o=yu(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function aC(t,e,n,r){n==null&&(n=oC(t)||0);var i=sC(t,n,r),o=yu(t,"transitionend",e);return function(){i(),o()}}function Zv(t,e){const n=Jn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function wc(t,e){const n=Zv(t,"transitionDuration"),r=Zv(t,"transitionDelay"),i=aC(t,o=>{o.target===t&&(i(),e(o))},n+r)}function us(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function om(t){t.offsetHeight}var ey=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function lC(t,e){var n=ey(t),r=ey(e);return function(i){n&&n(i),r&&r(i)}}function Ec(t,e){return D.useMemo(function(){return lC(t,e)},[t,e])}function uC(t){return t&&"setState"in t?to.findDOMNode(t):t??null}const cC=wn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},f)=>{const h=D.useRef(null),c=Ec(h,l),d=O=>{c(uC(O))},w=O=>T=>{O&&h.current&&O(h.current,T)},v=D.useCallback(w(t),[t]),E=D.useCallback(w(e),[e]),m=D.useCallback(w(n),[n]),p=D.useCallback(w(r),[r]),y=D.useCallback(w(i),[i]),g=D.useCallback(w(o),[o]),_=D.useCallback(w(s),[s]);return M(tC,{ref:f,...u,onEnter:v,onEntered:m,onEntering:E,onExit:p,onExited:g,onExiting:y,addEndListener:_,nodeRef:h,children:typeof a=="function"?(O,T)=>a(O,{...T,ref:d}):wn.cloneElement(a,{ref:d})})}),_c=cC,fC={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function hC(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=fC[t];return r+parseInt(Jn(e,i[0]),10)+parseInt(Jn(e,i[1]),10)}const dC={[Er]:"collapse",[ra]:"collapsing",[yn]:"collapsing",[Vn]:"collapse show"},pC=wn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:f=!1,unmountOnExit:h=!1,appear:c=!1,getDimensionValue:d=hC,...w},v)=>{const E=typeof a=="function"?a():a,m=D.useMemo(()=>us(O=>{O.style[E]="0"},t),[E,t]),p=D.useMemo(()=>us(O=>{const T=`scroll${E[0].toUpperCase()}${E.slice(1)}`;O.style[E]=`${O[T]}px`},e),[E,e]),y=D.useMemo(()=>us(O=>{O.style[E]=null},n),[E,n]),g=D.useMemo(()=>us(O=>{O.style[E]=`${d(E,O)}px`,om(O)},r),[r,d,E]),_=D.useMemo(()=>us(O=>{O.style[E]=null},i),[E,i]);return M(_c,{ref:v,addEndListener:wc,...w,"aria-expanded":w.role?l:null,onEnter:m,onEntering:p,onEntered:y,onExit:g,onExiting:_,childRef:s.ref,in:l,timeout:u,mountOnEnter:f,unmountOnExit:h,appear:c,children:(O,T)=>wn.cloneElement(s,{...T,className:Ie(o,s.props.className,dC[O],E==="width"&&"collapse-horizontal")})})}),mC=pC;function FE(t){var e=D.useRef(t);return D.useEffect(function(){e.current=t},[t]),e}function jt(t){var e=FE(t);return D.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}function jE(){var t=D.useRef(!0),e=D.useRef(function(){return t.current});return D.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function gC(t){var e=D.useRef(null);return D.useEffect(function(){e.current=t}),e.current}var vC=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",yC=typeof document<"u";const md=yC||vC?D.useLayoutEffect:D.useEffect,wC=["as","disabled"];function EC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _C(t){return!t||t.trim()==="#"}function sm({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const f=c=>{if((e||t==="a"&&_C(n))&&c.preventDefault(),e){c.stopPropagation();return}s==null||s(c)},h=c=>{c.key===" "&&(c.preventDefault(),f(c))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:h},u]}const UE=D.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=EC(t,wC);const[o,{tagName:s}]=sm(Object.assign({tagName:n,disabled:r},i));return M(s,Object.assign({},i,o,{ref:e}))});UE.displayName="Button";const TC=["onKeyDown"];function SC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bC(t){return!t||t.trim()==="#"}const BE=D.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=SC(t,TC);const[i]=sm(Object.assign({tagName:"a"},r)),o=jt(s=>{i.onKeyDown(s),n==null||n(s)});return bC(r.href)||r.role==="button"?M("a",Object.assign({ref:e},r,i,{onKeyDown:o})):M("a",Object.assign({ref:e},r,{onKeyDown:n}))});BE.displayName="Anchor";const gd=BE,kC={[yn]:"show",[Vn]:"show"},qE=D.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=D.useCallback((l,u)=>{om(l),r==null||r(l,u)},[r]);return M(_c,{ref:o,addEndListener:wc,...s,onEnter:a,childRef:e.ref,children:(l,u)=>D.cloneElement(e,{...u,className:Ie("fade",t,e.props.className,kC[l],n[l])})})});qE.displayName="Fade";const OC=qE,NC={"aria-label":Zn.string,onClick:Zn.func,variant:Zn.oneOf(["white"])},am=D.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>M("button",{ref:i,type:"button",className:Ie("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));am.displayName="CloseButton";am.propTypes=NC;const IC=am,CC=t=>D.forwardRef((e,n)=>M("div",{...e,ref:n,className:Ie(e.className,t)}));var AC=/-(.)/g;function xC(t){return t.replace(AC,function(e,n){return n.toUpperCase()})}const RC=t=>t[0].toUpperCase()+xC(t).slice(1);function Fo(t,{displayName:e=RC(t),Component:n,defaultProps:r}={}){const i=D.forwardRef(({className:o,bsPrefix:s,as:a=n||"div",...l},u)=>{const f={...r,...l},h=Ve(s,t);return M(a,{ref:u,className:Ie(o,h),...f})});return i.displayName=e,i}const VE=D.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=Ve(e,"btn"),[f,{tagName:h}]=sm({tagName:t,disabled:o,...a});return M(h,{...f,...a,ref:l,disabled:o,className:Ie(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});VE.displayName="Button";const zE=VE,HE=D.createContext(null);HE.displayName="CardHeaderContext";const PC=HE;function LC(t,e){var n=D.useRef(!0);D.useEffect(function(){if(n.current){n.current=!1;return}return t()},e)}function DC(t){var e=D.useRef(t);return e.current=t,e}function KE(t){var e=DC(t);D.useEffect(function(){return function(){return e.current()}},[])}var vd=Math.pow(2,31)-1;function WE(t,e,n){var r=n-Date.now();t.current=r<=vd?setTimeout(e,r):setTimeout(function(){return WE(t,e,n)},vd)}function MC(){var t=jE(),e=D.useRef();return KE(function(){return clearTimeout(e.current)}),D.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(i,o){o===void 0&&(o=0),t()&&(n(),o<=vd?e.current=setTimeout(i,o):WE(e,i,Date.now()+o))}return{set:r,clear:n}},[])}const $C=Fo("carousel-caption"),GE=D.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const o=Ie(n,Ve(e,"carousel-item"));return M(t,{ref:i,...r,className:o})});GE.displayName="CarouselItem";const FC=GE;function ty(t,e){let n=0;return D.Children.map(t,r=>D.isValidElement(r)?e(r,n++):r)}function jC(t,e){let n=0;D.Children.forEach(t,r=>{D.isValidElement(r)&&e(r,n++)})}function UC(t,e){return D.Children.toArray(t).some(n=>D.isValidElement(n)&&n.type===e)}const BC=40;function qC(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const QE=D.forwardRef(({defaultActiveIndex:t=0,...e},n)=>{const{as:r="div",bsPrefix:i,slide:o=!0,fade:s=!1,controls:a=!0,indicators:l=!0,indicatorLabels:u=[],activeIndex:f,onSelect:h,onSlide:c,onSlid:d,interval:w=5e3,keyboard:v=!0,onKeyDown:E,pause:m="hover",onMouseOver:p,onMouseOut:y,wrap:g=!0,touch:_=!0,onTouchStart:O,onTouchMove:T,onTouchEnd:b,prevIcon:A=M("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:k="Previous",nextIcon:S=M("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:N="Next",variant:C,className:R,children:F,...z}=rm({defaultActiveIndex:t,...e},{activeIndex:"onSelect"}),B=Ve(i,"carousel"),H=BI(),j=D.useRef(null),[L,I]=D.useState("next"),[P,$]=D.useState(!1),[V,q]=D.useState(!1),[x,U]=D.useState(f||0);D.useEffect(()=>{!V&&f!==x&&(j.current?I(j.current):I((f||0)>x?"next":"prev"),o&&q(!0),U(f||0))},[f,V,x,o]),D.useEffect(()=>{j.current&&(j.current=null)});let K=0,W;jC(F,(ye,Re)=>{++K,Re===f&&(W=ye.props.interval)});const X=FE(W),te=D.useCallback(ye=>{if(V)return;let Re=x-1;if(Re<0){if(!g)return;Re=K-1}j.current="prev",h==null||h(Re,ye)},[V,x,h,g,K]),ue=jt(ye=>{if(V)return;let Re=x+1;if(Re>=K){if(!g)return;Re=0}j.current="next",h==null||h(Re,ye)}),he=D.useRef();D.useImperativeHandle(n,()=>({element:he.current,prev:te,next:ue}));const le=jt(()=>{!document.hidden&&qC(he.current)&&(H?te():ue())}),Te=L==="next"?"start":"end";LC(()=>{o||(c==null||c(x,Te),d==null||d(x,Te))},[x]);const yt=`${B}-item-${L}`,Ye=`${B}-item-${Te}`,G=D.useCallback(ye=>{om(ye),c==null||c(x,Te)},[c,x,Te]),Q=D.useCallback(()=>{q(!1),d==null||d(x,Te)},[d,x,Te]),ne=D.useCallback(ye=>{if(v&&!/input|textarea/i.test(ye.target.tagName))switch(ye.key){case"ArrowLeft":ye.preventDefault(),H?ue(ye):te(ye);return;case"ArrowRight":ye.preventDefault(),H?te(ye):ue(ye);return}E==null||E(ye)},[v,E,te,ue,H]),ie=D.useCallback(ye=>{m==="hover"&&$(!0),p==null||p(ye)},[m,p]),J=D.useCallback(ye=>{$(!1),y==null||y(ye)},[y]),Ee=D.useRef(0),ve=D.useRef(0),_e=MC(),$t=D.useCallback(ye=>{Ee.current=ye.touches[0].clientX,ve.current=0,m==="hover"&&$(!0),O==null||O(ye)},[m,O]),hn=D.useCallback(ye=>{ye.touches&&ye.touches.length>1?ve.current=0:ve.current=ye.touches[0].clientX-Ee.current,T==null||T(ye)},[T]),Le=D.useCallback(ye=>{if(_){const Re=ve.current;Math.abs(Re)>BC&&(Re>0?te(ye):ue(ye))}m==="hover"&&_e.set(()=>{$(!1)},w||void 0),b==null||b(ye)},[_,m,te,ue,_e,w,b]),Ya=w!=null&&!P&&!V,Ue=D.useRef();D.useEffect(()=>{var ye,Re;if(!Ya)return;const Un=H?te:ue;return Ue.current=window.setInterval(document.visibilityState?le:Un,(ye=(Re=X.current)!=null?Re:w)!=null?ye:void 0),()=>{Ue.current!==null&&clearInterval(Ue.current)}},[Ya,te,ue,X,w,le,H]);const dn=D.useMemo(()=>l&&Array.from({length:K},(ye,Re)=>Un=>{h==null||h(Re,Un)}),[l,K,h]);return oe(r,{ref:he,...z,onKeyDown:ne,onMouseOver:ie,onMouseOut:J,onTouchStart:$t,onTouchMove:hn,onTouchEnd:Le,className:Ie(R,B,o&&"slide",s&&`${B}-fade`,C&&`${B}-${C}`),children:[l&&M("div",{className:`${B}-indicators`,children:ty(F,(ye,Re)=>M("button",{type:"button","data-bs-target":"","aria-label":u!=null&&u.length?u[Re]:`Slide ${Re+1}`,className:Re===x?"active":void 0,onClick:dn?dn[Re]:void 0,"aria-current":Re===x},Re))}),M("div",{className:`${B}-inner`,children:ty(F,(ye,Re)=>{const Un=Re===x;return o?M(_c,{in:Un,onEnter:Un?G:void 0,onEntered:Un?Q:void 0,addEndListener:wc,children:(es,hk)=>D.cloneElement(ye,{...hk,className:Ie(ye.props.className,Un&&es!=="entered"&&yt,(es==="entered"||es==="exiting")&&"active",(es==="entering"||es==="exiting")&&Ye)})}):D.cloneElement(ye,{className:Ie(ye.props.className,Un&&"active")})})}),a&&oe($n,{children:[(g||f!==0)&&oe(gd,{className:`${B}-control-prev`,onClick:te,children:[A,k&&M("span",{className:"visually-hidden",children:k})]}),(g||f!==K-1)&&oe(gd,{className:`${B}-control-next`,onClick:ue,children:[S,N&&M("span",{className:"visually-hidden",children:N})]})]})]})});QE.displayName="Carousel";const jf=Object.assign(QE,{Caption:$C,Item:FC});function VC({as:t,bsPrefix:e,className:n,...r}){e=Ve(e,"col");const i=jI(),o=UI(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let f,h,c;typeof u=="object"&&u!=null?{span:f,offset:h,order:c}=u:f=u;const d=l!==o?`-${l}`:"";f&&s.push(f===!0?`${e}${d}`:`${e}${d}-${f}`),c!=null&&a.push(`order${d}-${c}`),h!=null&&a.push(`offset${d}-${h}`)}),[{...r,className:Ie(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}const YE=D.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=VC(t);return M(i,{...r,ref:e,className:Ie(n,!s.length&&o)})});YE.displayName="Col";const zC=YE;var HC=Function.prototype.bind.call(Function.prototype.call,[].slice);function ri(t,e){return HC(t.querySelectorAll(e))}function KC(){var t=D.useReducer(function(n){return!n},!1),e=t[1];return e}function ny(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const WC=D.createContext(null),lm=(t,e=null)=>t!=null?String(t):e||null,wu=WC,XE=D.createContext(null);XE.displayName="NavContext";const JE=XE,GC="data-rr-ui-",QC="rrUi";function Tc(t){return`${GC}${t}`}function YC(t){return`${QC}${t}`}const ZE=D.createContext(yc?window:void 0);ZE.Provider;function e_(){return D.useContext(ZE)}const t_=D.createContext(null);t_.displayName="NavbarContext";const jo=t_,XC={type:Zn.string,tooltip:Zn.bool,as:Zn.elementType},um=D.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>M(t,{...i,ref:o,className:Ie(e,`${n}-${r?"tooltip":"feedback"}`)}));um.displayName="Feedback";um.propTypes=XC;const n_=um,JC=D.createContext({}),or=JC,r_=D.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{const{controlId:u}=D.useContext(or);return e=Ve(e,"form-check-input"),M(s,{...a,ref:l,type:r,id:t||u,className:Ie(n,e,i&&"is-valid",o&&"is-invalid")})});r_.displayName="FormCheckInput";const i_=r_,o_=D.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:o}=D.useContext(or);return t=Ve(t,"form-check-label"),M("label",{...r,ref:i,htmlFor:n||o,className:Ie(e,t)})});o_.displayName="FormCheckLabel";const yd=o_,s_=D.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:f,className:h,style:c,title:d="",type:w="checkbox",label:v,children:E,as:m="input",...p},y)=>{e=Ve(e,"form-check"),n=Ve(n,"form-switch");const{controlId:g}=D.useContext(or),_=D.useMemo(()=>({controlId:t||g}),[g,t]),O=!E&&v!=null&&v!==!1||UC(E,yd),T=M(i_,{...p,type:w==="switch"?"checkbox":w,ref:y,isValid:s,isInvalid:a,disabled:o,as:m});return M(or.Provider,{value:_,children:M("div",{style:c,className:Ie(h,O&&e,r&&`${e}-inline`,i&&`${e}-reverse`,w==="switch"&&n),children:E||oe($n,{children:[T,O&&M(yd,{title:d,children:v}),u&&M(n_,{type:f,tooltip:l,children:u})]})})})});s_.displayName="FormCheck";const Eu=Object.assign(s_,{Input:i_,Label:yd}),a_=D.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:f="input",...h},c)=>{const{controlId:d}=D.useContext(or);t=Ve(t,"form-control");let w;return l?w={[`${t}-plaintext`]:!0}:w={[t]:!0,[`${t}-${n}`]:n},M(f,{...h,type:e,size:r,ref:c,readOnly:u,id:i||d,className:Ie(o,w,s&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});a_.displayName="FormControl";const ZC=Object.assign(a_,{Feedback:n_}),eA=Fo("form-floating"),l_=D.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=D.useMemo(()=>({controlId:t}),[t]);return M(or.Provider,{value:i,children:M(e,{...n,ref:r})})});l_.displayName="FormGroup";const u_=l_,c_=D.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},a)=>{const{controlId:l}=D.useContext(or);e=Ve(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const f=Ie(i,e,r&&"visually-hidden",n&&u);return o=o||l,n?M(zC,{ref:a,as:"label",className:f,htmlFor:o,...s}):M(t,{ref:a,className:f,htmlFor:o,...s})});c_.displayName="FormLabel";const tA=c_,f_=D.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:o}=D.useContext(or);return t=Ve(t,"form-range"),M("input",{...r,type:"range",ref:i,className:Ie(e,t),id:n||o})});f_.displayName="FormRange";const nA=f_,h_=D.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{const{controlId:u}=D.useContext(or);return t=Ve(t,"form-select"),M("select",{...a,size:n,ref:l,className:Ie(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});h_.displayName="FormSelect";const rA=h_,d_=D.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=Ve(t,"form-text"),M(n,{...i,ref:o,className:Ie(e,t,r&&"text-muted")})));d_.displayName="FormText";const iA=d_,p_=D.forwardRef((t,e)=>M(Eu,{...t,ref:e,type:"switch"}));p_.displayName="Switch";const oA=Object.assign(p_,{Input:Eu.Input,Label:Eu.Label}),m_=D.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=Ve(t,"form-floating"),oe(u_,{ref:s,className:Ie(e,t),controlId:r,...o,children:[n,M("label",{htmlFor:r,children:i})]})));m_.displayName="FloatingLabel";const sA=m_,aA={_ref:Zn.any,validated:Zn.bool,as:Zn.elementType},cm=D.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>M(n,{...r,ref:i,className:Ie(t,e&&"was-validated")}));cm.displayName="Form";cm.propTypes=aA;const on=Object.assign(cm,{Group:u_,Control:ZC,Floating:eA,Check:Eu,Switch:oA,Label:tA,Text:iA,Range:nA,Select:rA,FloatingLabel:sA}),lA=D.createContext(null),g_=lA,uA=["as","active","eventKey"];function cA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function v_({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=D.useContext(wu),a=D.useContext(JE),l=D.useContext(g_);let u=n;const f={role:i};if(a){!i&&a.role==="tablist"&&(f.role="tab");const h=a.getControllerId(t??null),c=a.getControlledId(t??null);f[Tc("event-key")]=t,f.id=h||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(f["aria-controls"]=c)}return f.role==="tab"&&(f["aria-selected"]=u,u||(f.tabIndex=-1),o&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=jt(h=>{o||(e==null||e(h),t!=null&&s&&!h.isPropagationStopped()&&s(t,h))}),[f,{isActive:u}]}const y_=D.forwardRef((t,e)=>{let{as:n=UE,active:r,eventKey:i}=t,o=cA(t,uA);const[s,a]=v_(Object.assign({key:lm(i,o.href),active:r},o));return s[Tc("active")]=a.isActive,M(n,Object.assign({},o,s,{ref:e}))});y_.displayName="NavItem";const fA=y_,hA=["as","onSelect","activeKey","role","onKeyDown"];function dA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const ry=()=>{},iy=Tc("event-key"),w_=D.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,a=dA(t,hA);const l=KC(),u=D.useRef(!1),f=D.useContext(wu),h=D.useContext(g_);let c,d;h&&(o=o||"tablist",i=h.activeKey,c=h.getControlledId,d=h.getControllerId);const w=D.useRef(null),v=y=>{const g=w.current;if(!g)return null;const _=ri(g,`[${iy}]:not([aria-disabled=true])`),O=g.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const T=_.indexOf(O);if(T===-1)return null;let b=T+y;return b>=_.length&&(b=0),b<0&&(b=_.length-1),_[b]},E=(y,g)=>{y!=null&&(r==null||r(y,g),f==null||f(y,g))},m=y=>{if(s==null||s(y),!h)return;let g;switch(y.key){case"ArrowLeft":case"ArrowUp":g=v(-1);break;case"ArrowRight":case"ArrowDown":g=v(1);break;default:return}g&&(y.preventDefault(),E(g.dataset[YC("EventKey")]||null,y),u.current=!0,l())};D.useEffect(()=>{if(w.current&&u.current){const y=w.current.querySelector(`[${iy}][aria-selected=true]`);y==null||y.focus()}u.current=!1});const p=Ec(e,w);return M(wu.Provider,{value:E,children:M(JE.Provider,{value:{role:o,activeKey:lm(i),getControlledId:c||ry,getControllerId:d||ry},children:M(n,Object.assign({},a,{onKeyDown:m,ref:p,role:o}))})})});w_.displayName="Nav";const pA=Object.assign(w_,{Item:fA});function Uf(t){t===void 0&&(t=im());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function mA(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const oy=Tc("modal-open");class gA{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return mA(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Jn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(oy,""),Jn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(oy),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const fm=gA,Bf=(t,e)=>yc?t==null?(e||im()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function vA(t,e){const n=e_(),[r,i]=D.useState(()=>Bf(t,n==null?void 0:n.document));if(!r){const o=Bf(t);o&&i(o)}return D.useEffect(()=>{e&&r&&e(r)},[e,r]),D.useEffect(()=>{const o=Bf(t);o!==r&&i(o)},[t,r]),r}function yA({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=D.useRef(null),s=D.useRef(e),a=jt(n);D.useEffect(()=>{e?s.current=!0:a(o.current)},[e,a]);const l=Ec(o,t.ref),u=D.cloneElement(t,{ref:l});return e?u:i||!s.current&&r?null:u}function wA({in:t,onTransition:e}){const n=D.useRef(null),r=D.useRef(!0),i=jt(e);return md(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),md(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function EA({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=D.useState(!e);e&&o&&s(!1);const a=wA({in:!!e,onTransition:u=>{const f=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(s(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(f,h=>{throw u.in||s(!0),h})}}),l=Ec(a,t.ref);return o&&!e?null:D.cloneElement(t,{ref:l})}function sy(t,e,n){return t?M(t,Object.assign({},n)):e?M(EA,Object.assign({},n,{transition:e})):M(yA,Object.assign({},n))}function _A(t){return t.code==="Escape"||t.keyCode===27}const TA=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function SA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let qf;function bA(t){return qf||(qf=new fm({ownerDocument:t==null?void 0:t.document})),qf}function kA(t){const e=e_(),n=t||bA(e),r=D.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:D.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:D.useCallback(i=>{r.current.backdrop=i},[])})}const E_=D.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:f,transition:h,runTransition:c,backdropTransition:d,runBackdropTransition:w,autoFocus:v=!0,enforceFocus:E=!0,restoreFocus:m=!0,restoreFocusOptions:p,renderDialog:y,renderBackdrop:g=le=>M("div",Object.assign({},le)),manager:_,container:O,onShow:T,onHide:b=()=>{},onExit:A,onExited:k,onExiting:S,onEnter:N,onEntering:C,onEntered:R}=t,F=SA(t,TA);const z=vA(O),B=kA(_),H=jE(),j=gC(n),[L,I]=D.useState(!n),P=D.useRef(null);D.useImperativeHandle(e,()=>B,[B]),yc&&!j&&n&&(P.current=Uf()),n&&L&&I(!1);const $=jt(()=>{if(B.add(),W.current=yu(document,"keydown",U),K.current=yu(document,"focus",()=>setTimeout(q),!0),T&&T(),v){const le=Uf(document);B.dialog&&le&&!ny(B.dialog,le)&&(P.current=le,B.dialog.focus())}}),V=jt(()=>{if(B.remove(),W.current==null||W.current(),K.current==null||K.current(),m){var le;(le=P.current)==null||le.focus==null||le.focus(p),P.current=null}});D.useEffect(()=>{!n||!z||$()},[n,z,$]),D.useEffect(()=>{L&&V()},[L,V]),KE(()=>{V()});const q=jt(()=>{if(!E||!H()||!B.isTopModal())return;const le=Uf();B.dialog&&le&&!ny(B.dialog,le)&&B.dialog.focus()}),x=jt(le=>{le.target===le.currentTarget&&(u==null||u(le),a===!0&&b())}),U=jt(le=>{l&&_A(le)&&B.isTopModal()&&(f==null||f(le),le.defaultPrevented||b())}),K=D.useRef(),W=D.useRef(),X=(...le)=>{I(!0),k==null||k(...le)};if(!z)return null;const te=Object.assign({role:r,ref:B.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},F,{style:o,className:i,tabIndex:-1});let ue=y?y(te):M("div",Object.assign({},te,{children:D.cloneElement(s,{role:"document"})}));ue=sy(h,c,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:A,onExiting:S,onExited:X,onEnter:N,onEntering:C,onEntered:R,children:ue});let he=null;return a&&(he=g({ref:B.setBackdropRef,onClick:x}),he=sy(d,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:he})),M($n,{children:to.createPortal(oe($n,{children:[he,ue]}),z)})});E_.displayName="Modal";const OA=Object.assign(E_,{Manager:fm});function NA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function IA(t,e){t.classList?t.classList.add(e):NA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ay(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function CA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ay(t.className,e):t.setAttribute("class",ay(t.className&&t.className.baseVal||"",e))}const Fi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class __ extends fm{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Jn(n,{[e]:`${parseFloat(Jn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Jn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(IA(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ri(n,Fi.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),ri(n,Fi.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),ri(n,Fi.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();CA(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ri(n,Fi.FIXED_CONTENT).forEach(o=>this.restore(r,o)),ri(n,Fi.STICKY_CONTENT).forEach(o=>this.restore(i,o)),ri(n,Fi.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let Vf;function AA(t){return Vf||(Vf=new __(t)),Vf}const xA=__,RA=D.createContext({onHide(){}}),T_=RA,PA=D.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const a=D.useContext(T_),l=jt(()=>{a==null||a.onHide(),r==null||r()});return oe("div",{ref:s,...o,children:[i,n&&M(IC,{"aria-label":t,variant:e,onClick:l})]})}),LA=PA;var ly={exports:{}},wd={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(s,a,l,u,f,h){var c=u||"<<anonymous>>",d=h||l;if(a[l]==null)return s?new Error("Required "+f+" `"+d+"` was not specified "+("in `"+c+"`.")):null;for(var w=arguments.length,v=Array(w>6?w-6:0),E=6;E<w;E++)v[E-6]=arguments[E];return r.apply(void 0,[a,l,c,f,d].concat(v))}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}t.exports=e.default})(wd,wd.exports);var DA=wd.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=DA,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];function u(){for(var f=arguments.length,h=Array(f),c=0;c<f;c++)h[c]=arguments[c];var d=null;return a.forEach(function(w){if(d==null){var v=w.apply(void 0,h);v!=null&&(d=v)}}),d}return(0,r.default)(u)}t.exports=e.default})(ly,ly.exports);const MA=Fo("nav-item"),S_=D.forwardRef(({bsPrefix:t,className:e,as:n=gd,active:r,eventKey:i,disabled:o=!1,...s},a)=>{t=Ve(t,"nav-link");const[l,u]=v_({key:lm(i,s.href),active:r,disabled:o,...s});return M(n,{...s,...l,ref:a,disabled:o,className:Ie(e,t,o&&"disabled",u.isActive&&"active")})});S_.displayName="NavLink";const $A=S_,b_=D.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:a,navbarScroll:l,className:u,activeKey:f,...h}=rm(t,{activeKey:"onSelect"}),c=Ve(r,"nav");let d,w,v=!1;const E=D.useContext(jo),m=D.useContext(PC);return E?(d=E.bsPrefix,v=a??!0):m&&({cardHeaderBsPrefix:w}=m),M(pA,{as:n,ref:e,activeKey:f,className:Ie(u,{[c]:!v,[`${d}-nav`]:v,[`${d}-nav-scroll`]:v&&l,[`${w}-${i}`]:!!w,[`${c}-${i}`]:!!i,[`${c}-fill`]:o,[`${c}-justified`]:s}),...h})});b_.displayName="Nav";const ji=Object.assign(b_,{Item:MA,Link:$A}),k_=D.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Ve(t,"navbar-brand");const o=n||(r.href?"a":"span");return M(o,{...r,ref:i,className:Ie(e,t)})});k_.displayName="NavbarBrand";const FA=k_,O_=D.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Ve(e,"navbar-collapse");const i=D.useContext(jo);return M(mC,{in:!!(i&&i.expanded),...n,children:M("div",{ref:r,className:e,children:t})})});O_.displayName="NavbarCollapse";const jA=O_,N_=D.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},a)=>{t=Ve(t,"navbar-toggler");const{onToggle:l,expanded:u}=D.useContext(jo)||{},f=jt(h=>{o&&o(h),l&&l()});return i==="button"&&(s.type="button"),M(i,{...s,ref:a,onClick:f,"aria-label":r,className:Ie(e,t,!u&&"collapsed"),children:n||M("span",{className:`${t}-icon`})})});N_.displayName="NavbarToggle";const UA=N_;var Ed=new WeakMap,uy=function(e,n){if(!(!e||!n)){var r=Ed.get(n)||new Map;Ed.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function BA(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=uy(t,e),r=D.useState(function(){return n?n.matches:!1}),i=r[0],o=r[1];return md(function(){var s=uy(t,e);if(!s)return o(!1);var a=Ed.get(e),l=function(){o(s.matches)};return s.refCount++,s.addListener(l),l(),function(){s.removeListener(l),s.refCount--,s.refCount<=0&&(a==null||a.delete(s.media)),s=void 0}},[t]),i}function qA(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function o(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function s(a,l,u){var f;if(typeof a=="object")f=a,u=l,l=!0;else{var h;l=l||!0,f=(h={},h[a]=l,h)}var c=D.useMemo(function(){return Object.entries(f).reduce(function(d,w){var v=w[0],E=w[1];return(E==="up"||E===!0)&&(d=n(d,o(v))),(E==="down"||E===!0)&&(d=n(d,i(v))),d},"")},[JSON.stringify(f)]);return BA(c,u)}return s}var VA=qA({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});const zA=Fo("offcanvas-body"),HA={[yn]:"show",[Vn]:"show"},I_=D.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...a},l)=>(t=Ve(t,"offcanvas"),M(_c,{ref:l,addEndListener:wc,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...a,childRef:n.ref,children:(u,f)=>D.cloneElement(n,{...f,className:Ie(e,n.props.className,(u===yn||u===ra)&&`${t}-toggling`,HA[u])})})));I_.displayName="OffcanvasToggling";const KA=I_,C_=D.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=Ve(t,"offcanvas-header"),M(LA,{ref:o,...i,className:Ie(e,t),closeLabel:n,closeButton:r})));C_.displayName="OffcanvasHeader";const WA=C_,GA=CC("h5"),QA=Fo("offcanvas-title",{Component:GA});function YA(t){return M(KA,{...t})}function XA(t){return M(OC,{...t})}const A_=D.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:f,onShow:h,onHide:c,container:d,autoFocus:w=!0,enforceFocus:v=!0,restoreFocus:E=!0,restoreFocusOptions:m,onEntered:p,onExit:y,onExiting:g,onEnter:_,onEntering:O,onExited:T,backdropClassName:b,manager:A,renderStaticNode:k=!1,...S},N)=>{const C=D.useRef();t=Ve(t,"offcanvas");const{onToggle:R}=D.useContext(jo)||{},[F,z]=D.useState(!1),B=VA(o||"xs","up");D.useEffect(()=>{z(o?s&&!B:s)},[s,o,B]);const H=jt(()=>{R==null||R(),c==null||c()}),j=D.useMemo(()=>({onHide:H}),[H]);function L(){return A||(u?(C.current||(C.current=new xA({handleContainerOverflow:!1})),C.current):AA())}const I=(q,...x)=>{q&&(q.style.visibility="visible"),_==null||_(q,...x)},P=(q,...x)=>{q&&(q.style.visibility=""),T==null||T(...x)},$=D.useCallback(q=>M("div",{...q,className:Ie(`${t}-backdrop`,b)}),[b,t]),V=q=>M("div",{...q,...S,className:Ie(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return oe($n,{children:[!F&&(o||k)&&V({}),M(T_.Provider,{value:j,children:M(OA,{show:F,ref:N,backdrop:a,container:d,keyboard:l,autoFocus:w,enforceFocus:v&&!u,restoreFocus:E,restoreFocusOptions:m,onEscapeKeyDown:f,onShow:h,onHide:H,onEnter:I,onEntering:O,onEntered:p,onExit:y,onExiting:g,onExited:P,manager:L(),transition:YA,backdropTransition:XA,renderBackdrop:$,renderDialog:V})})]})});A_.displayName="Offcanvas";const JA=Object.assign(A_,{Body:zA,Header:WA,Title:QA}),x_=D.forwardRef((t,e)=>{const n=D.useContext(jo);return M(JA,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});x_.displayName="NavbarOffcanvas";const ZA=x_,e2=Fo("navbar-text",{Component:"span"}),R_=D.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:a,className:l,as:u="nav",expanded:f,onToggle:h,onSelect:c,collapseOnSelect:d=!1,...w}=rm(t,{expanded:"onToggle"}),v=Ve(n,"navbar"),E=D.useCallback((...y)=>{c==null||c(...y),d&&f&&(h==null||h(!1))},[c,d,f,h]);w.role===void 0&&u!=="nav"&&(w.role="navigation");let m=`${v}-expand`;typeof r=="string"&&(m=`${m}-${r}`);const p=D.useMemo(()=>({onToggle:()=>h==null?void 0:h(!f),bsPrefix:v,expanded:!!f,expand:r}),[v,f,r,h]);return M(jo.Provider,{value:p,children:M(wu.Provider,{value:E,children:M(u,{ref:e,...w,className:Ie(l,v,r&&m,i&&`${v}-${i}`,o&&`bg-${o}`,a&&`sticky-${a}`,s&&`fixed-${s}`)})})})});R_.displayName="Navbar";const zf=Object.assign(R_,{Brand:FA,Collapse:jA,Offcanvas:ZA,Text:e2,Toggle:UA});const t2=()=>oe(zf,{expand:"lg",className:"bg-transparent",children:[M(zf.Toggle,{"aria-controls":"basic-navbar-nav",style:{color:"white"}}),M(zf.Collapse,{id:"basic-navbar-nav",children:oe(ji,{className:"mr-auto nav-centered",children:[M(ji.Item,{children:oe(sn,{className:"nav-link",to:"/introduction",children:[M("span",{className:"japanese-text",children:""})," ",M("br",{})," ",M("span",{className:"english-text",children:"Introduction"})]})}),M(ji.Item,{children:oe(sn,{className:"nav-link",to:"/blog",children:[M("span",{className:"japanese-text",children:""})," ",M("br",{})," ",M("span",{className:"english-text",children:"News"})]})}),oe(ji.Link,{href:"https://github.com/Loke-60000",target:"_blank",rel:"noopener noreferrer",children:[M("span",{className:"japanese-text",children:""})," ",M("br",{})," ",M("span",{className:"english-text",children:"Github"})]}),oe(sn,{className:"nav-link",to:"/projects",children:[M("span",{className:"japanese-text",children:""})," ",M("br",{})," ",M("span",{className:"english-text",children:"Projects"})]}),M(ji.Item,{children:oe(sn,{className:"nav-link",to:"/links",children:[M("span",{className:"japanese-text",children:""})," ",M("br",{})," ",M("span",{className:"english-text",children:"Links"})]})}),M(ji.Item,{children:oe(sn,{className:"nav-link",to:"/contact",children:[M("span",{className:"japanese-text",children:""})," ",M("br",{})," ",M("span",{className:"english-text",children:"Contact"})]})})]})})]});const cy="/assets/divergence_meter_tube-eac380b4.png";function n2(){const[t,e]=D.useState(new Date),n=D.useRef(),r=()=>{e(new Date),n.current=requestAnimationFrame(r)};D.useEffect(()=>(n.current=requestAnimationFrame(r),()=>cancelAnimationFrame(n.current)),[]);const i=[t.getHours().toString().padStart(2,"0"),t.getMinutes().toString().padStart(2,"0"),t.getSeconds().toString().padStart(2,"0"),t.getMilliseconds().toString().padStart(3,"0")];return oe("div",{className:"nixie__wrapper",children:[M("div",{className:"nixie__mesh"}),M("div",{className:"nixie__value",children:i.map((o,s)=>oe(wn.Fragment,{children:[o.split("").map((a,l)=>oe("span",{className:"nixie__digit-container",children:[M("span",{className:"nixie__digit",children:a}),M("span",{className:"nixie__number-background",style:{backgroundImage:`url(${cy})`}})]},l)),s<i.length-1&&oe("span",{className:"nixie__digit-container",children:[M("span",{className:"nixie__number-background",style:{backgroundImage:`url(${cy})`}}),M("span",{className:"nixie__dot",children:"."})]})]},s))})]})}const r2=({images:t})=>oe(jf,{className:"custom-carousel",children:[" ",t.map((e,n)=>oe(jf.Item,{children:[M("img",{className:"d-block w-100",src:e.src,alt:e.alt}),e.caption&&M(jf.Caption,{children:M("h3",{children:e.caption})})]},n))]}),i2="/assets/amadeus-7c2c3942.jpg",o2="/assets/rakugaki-62445f69.jpg",s2="/assets/atchan-e9e860d2.jpg",a2="/assets/welcome_banner-cd17b9c8.jpg",l2="/assets/atchan_banner-870b4c3c.jpg",u2="/assets/construction_banner-10b33ebc.jpg";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},c2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=o>>2,h=(o&3)<<4|a>>4;let c=(a&15)<<2|u>>6,d=u&63;l||(d=64,s||(c=64)),r.push(n[f],n[h],n[c],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new f2;const c=o<<2|a>>4;if(r.push(c),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h2=function(t){const e=P_(t);return L_.encodeByteArray(e,!0)},_u=function(t){return h2(t).replace(/\./g,"")},D_=function(t){try{return L_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=()=>d2().__FIREBASE_DEFAULTS__,m2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},g2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D_(t[1]);return e&&JSON.parse(e)},hm=()=>{try{return p2()||m2()||g2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},M_=t=>{var e,n;return(n=(e=hm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},v2=t=>{const e=M_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},y2=()=>{var t;return(t=hm())===null||t===void 0?void 0:t.config},$_=t=>{var e;return(e=hm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[_u(JSON.stringify(n)),_u(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function T2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k2(){try{return typeof indexedDB=="object"}catch{return!1}}function O2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="FirebaseError";class pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N2,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Na.prototype.create)}}class Na{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?I2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new pr(i,a,r)}}function I2(t,e){return t.replace(C2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const C2=/\{\$([^}]+)}/g;function A2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(fy(o)&&fy(s)){if(!Tu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function x2(t,e){const n=new R2(t,e);return n.subscribe.bind(n)}class R2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hf),i.error===void 0&&(i.error=Hf),i.complete===void 0&&(i.complete=Hf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M2(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D2(t){return t===ii?void 0:t}function M2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const F2={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},j2=Ne.INFO,U2={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},B2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=U2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=j2,this._logHandler=B2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const q2=(t,e)=>e.some(n=>t instanceof n);let hy,dy;function V2(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z2(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F_=new WeakMap,_d=new WeakMap,j_=new WeakMap,Kf=new WeakMap,pm=new WeakMap;function H2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(jr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&F_.set(n,t)}).catch(()=>{}),pm.set(e,t),e}function K2(t){if(_d.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_d.set(t,e)}let Td={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _d.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W2(t){Td=t(Td)}function G2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wf(this),e,...n);return j_.set(r,e.sort?e.sort():[e]),jr(r)}:z2().includes(t)?function(...e){return t.apply(Wf(this),e),jr(F_.get(this))}:function(...e){return jr(t.apply(Wf(this),e))}}function Q2(t){return typeof t=="function"?G2(t):(t instanceof IDBTransaction&&K2(t),q2(t,V2())?new Proxy(t,Td):t)}function jr(t){if(t instanceof IDBRequest)return H2(t);if(Kf.has(t))return Kf.get(t);const e=Q2(t);return e!==t&&(Kf.set(t,e),pm.set(e,t)),e}const Wf=t=>pm.get(t);function Y2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=jr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(jr(s.result),l.oldVersion,l.newVersion,jr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const X2=["get","getKey","getAll","getAllKeys","count"],J2=["put","add","delete","clear"],Gf=new Map;function py(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=J2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X2.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Gf.set(e,o),o}W2(t=>({...t,get:(e,n,r)=>py(e,n)||t.get(e,n,r),has:(e,n)=>!!py(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ex(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ex(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sd="@firebase/app",my="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new dm("@firebase/app"),tx="@firebase/app-compat",nx="@firebase/analytics-compat",rx="@firebase/analytics",ix="@firebase/app-check-compat",ox="@firebase/app-check",sx="@firebase/auth",ax="@firebase/auth-compat",lx="@firebase/database",ux="@firebase/database-compat",cx="@firebase/functions",fx="@firebase/functions-compat",hx="@firebase/installations",dx="@firebase/installations-compat",px="@firebase/messaging",mx="@firebase/messaging-compat",gx="@firebase/performance",vx="@firebase/performance-compat",yx="@firebase/remote-config",wx="@firebase/remote-config-compat",Ex="@firebase/storage",_x="@firebase/storage-compat",Tx="@firebase/firestore",Sx="@firebase/firestore-compat",bx="firebase",kx="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",Ox={[Sd]:"fire-core",[tx]:"fire-core-compat",[rx]:"fire-analytics",[nx]:"fire-analytics-compat",[ox]:"fire-app-check",[ix]:"fire-app-check-compat",[sx]:"fire-auth",[ax]:"fire-auth-compat",[lx]:"fire-rtdb",[ux]:"fire-rtdb-compat",[cx]:"fire-fn",[fx]:"fire-fn-compat",[hx]:"fire-iid",[dx]:"fire-iid-compat",[px]:"fire-fcm",[mx]:"fire-fcm-compat",[gx]:"fire-perf",[vx]:"fire-perf-compat",[yx]:"fire-rc",[wx]:"fire-rc-compat",[Ex]:"fire-gcs",[_x]:"fire-gcs-compat",[Tx]:"fire-fst",[Sx]:"fire-fst-compat","fire-js":"fire-js",[bx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,kd=new Map;function Nx(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(kd.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;kd.set(e,t);for(const n of Su.values())Nx(n,t);return!0}function mm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ur=new Na("app","Firebase",Ix);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=kx;function U_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ur.create("bad-app-name",{appName:String(i)});if(n||(n=y2()),!n)throw Ur.create("no-options");const o=Su.get(i);if(o){if(Tu(n,o.options)&&Tu(r,o.config))return o;throw Ur.create("duplicate-app",{appName:i})}const s=new $2(i);for(const l of kd.values())s.addComponent(l);const a=new Cx(n,r,s);return Su.set(i,a),a}function B_(t=bd){const e=Su.get(t);if(!e&&t===bd)return U_();if(!e)throw Ur.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let i=(r=Ox[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(a.join(" "));return}bo(new Ti(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firebase-heartbeat-database",xx=1,ia="firebase-heartbeat-store";let Qf=null;function q_(){return Qf||(Qf=Y2(Ax,xx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ia)}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),Qf}async function Rx(t){try{return(await q_()).transaction(ia).objectStore(ia).get(V_(t))}catch(e){if(e instanceof pr)Si.warn(e.message);else{const n=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function gy(t,e){try{const r=(await q_()).transaction(ia,"readwrite");return await r.objectStore(ia).put(e,V_(t)),r.done}catch(n){if(n instanceof pr)Si.warn(n.message);else{const r=Ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function V_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=1024,Lx=30*24*60*60*1e3;class Dx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $x(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=Lx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vy(),{heartbeatsToSend:n,unsentEntries:r}=Mx(this._heartbeatsCache.heartbeats),i=_u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function vy(){return new Date().toISOString().substring(0,10)}function Mx(t,e=Px){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $x{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k2()?O2().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Rx(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yy(t){return _u(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){bo(new Ti("platform-logger",e=>new Z2(e),"PRIVATE")),bo(new Ti("heartbeat",e=>new Dx(e),"PRIVATE")),Br(Sd,my,t),Br(Sd,my,"esm2017"),Br("fire-js","")}Fx("");var jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re,gm=gm||{},me=jx||self;function bu(){}function Sc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ca(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Ux(t){return Object.prototype.hasOwnProperty.call(t,Yf)&&t[Yf]||(t[Yf]=++Bx)}var Yf="closure_uid_"+(1e9*Math.random()>>>0),Bx=0;function qx(t,e,n){return t.call.apply(t.bind,arguments)}function Vx(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ot=qx:Ot=Vx,Ot.apply(null,arguments)}function ml(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Xr(){this.s=this.s,this.o=this.o}var zx=0;Xr.prototype.s=!1;Xr.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),zx!=0)&&Ux(this)};Xr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const z_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function vm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Sc(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var Hx=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",bu,e),me.removeEventListener("test",bu,e)}catch{}return t}();function ku(t){return/^[\s\xa0]*$/.test(t)}var Ey=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Xf(t,e){return t<e?-1:t>e?1:0}function bc(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function An(t){return bc().indexOf(t)!=-1}function ym(t){return ym[" "](t),t}ym[" "]=bu;function H_(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var Kx=An("Opera"),ko=An("Trident")||An("MSIE"),K_=An("Edge"),Od=K_||ko,W_=An("Gecko")&&!(bc().toLowerCase().indexOf("webkit")!=-1&&!An("Edge"))&&!(An("Trident")||An("MSIE"))&&!An("Edge"),Wx=bc().toLowerCase().indexOf("webkit")!=-1&&!An("Edge");function G_(){var t=me.document;return t?t.documentMode:void 0}var Ou;e:{var Jf="",Zf=function(){var t=bc();if(W_)return/rv:([^\);]+)(\)|;)/.exec(t);if(K_)return/Edge\/([\d\.]+)/.exec(t);if(ko)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Wx)return/WebKit\/(\S+)/.exec(t);if(Kx)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Zf&&(Jf=Zf?Zf[1]:""),ko){var eh=G_();if(eh!=null&&eh>parseFloat(Jf)){Ou=String(eh);break e}}Ou=Jf}var Gx={};function Qx(){return H_(Gx,9,function(){let t=0;const e=Ey(String(Ou)).split("."),n=Ey("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=Xf(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||Xf(i[2].length==0,o[2].length==0)||Xf(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var Nd;if(me.document&&ko){var _y=G_();Nd=_y||parseInt(Ou,10)||void 0}else Nd=void 0;var Yx=Nd;function oa(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(W_){e:{try{ym(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Xx[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&oa.$.h.call(this)}}ct(oa,Nt);var Xx={2:"touch",3:"pen",4:"mouse"};oa.prototype.h=function(){oa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Aa="closure_listenable_"+(1e6*Math.random()|0),Jx=0;function Zx(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Jx,this.fa=this.ia=!1}function kc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function wm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Q_(t){const e={};for(const n in t)e[n]=t[n];return e}const Ty="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y_(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Ty.length;o++)n=Ty[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Oc(t){this.src=t,this.g={},this.h=0}Oc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Cd(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Zx(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Id(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=z_(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(kc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cd(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Em="closure_lm_"+(1e6*Math.random()|0),th={};function X_(t,e,n,r,i){if(r&&r.once)return Z_(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)X_(t,e[o],n,r,i);return null}return n=Sm(n),t&&t[Aa]?t.O(e,n,Ca(r)?!!r.capture:!!r,i):J_(t,e,n,!1,r,i)}function J_(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ca(i)?!!i.capture:!!i,a=Tm(t);if(a||(t[Em]=a=new Oc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=eR(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Hx||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eR(){function t(n){return e.call(t.src,t.listener,n)}const e=tR;return t}function Z_(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Z_(t,e[o],n,r,i);return null}return n=Sm(n),t&&t[Aa]?t.P(e,n,Ca(r)?!!r.capture:!!r,i):J_(t,e,n,!0,r,i)}function eT(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)eT(t,e[o],n,r,i);else r=Ca(r)?!!r.capture:!!r,n=Sm(n),t&&t[Aa]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Cd(o,n,r,i),-1<n&&(kc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Tm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cd(e,n,r,i)),(n=-1<t?e[t]:null)&&_m(n))}function _m(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Aa])Id(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tm(e))?(Id(n,t),n.h==0&&(n.src=null,e[Em]=null)):kc(t)}}}function tT(t){return t in th?th[t]:th[t]="on"+t}function tR(t,e){if(t.fa)t=!0;else{e=new oa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&_m(t),t=n.call(r,e)}return t}function Tm(t){return t=t[Em],t instanceof Oc?t:null}var nh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sm(t){return typeof t=="function"?t:(t[nh]||(t[nh]=function(e){return t.handleEvent(e)}),t[nh])}function ut(){Xr.call(this),this.i=new Oc(this),this.S=this,this.J=null}ct(ut,Xr);ut.prototype[Aa]=!0;ut.prototype.removeEventListener=function(t,e,n,r){eT(this,t,e,n,r)};function mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var i=e;e=new Nt(r,t),Y_(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=gl(s,r,!0,e)&&i}if(s=e.g=t,i=gl(s,r,!0,e)&&i,i=gl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=gl(s,r,!1,e)&&i}ut.prototype.N=function(){if(ut.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kc(n[r]);delete t.g[e],t.h--}}this.J=null};ut.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ut.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function gl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Id(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var bm=me.JSON.stringify;function nR(){var t=iT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class rR{constructor(){this.h=this.g=null}add(e,n){const r=nT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var nT=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new iR,t=>t.reset());class iR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oR(t){me.setTimeout(()=>{throw t},0)}function rT(t,e){Ad||sR(),xd||(Ad(),xd=!0),iT.add(t,e)}var Ad;function sR(){var t=me.Promise.resolve(void 0);Ad=function(){t.then(aR)}}var xd=!1,iT=new rR;function aR(){for(var t;t=nR();){try{t.h.call(t.g)}catch(n){oR(n)}var e=nT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xd=!1}function Nc(t,e){ut.call(this),this.h=t||1,this.g=e||me,this.j=Ot(this.qb,this),this.l=Date.now()}ct(Nc,ut);re=Nc.prototype;re.ga=!1;re.T=null;re.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(km(this),this.start()))}};re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function km(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}re.N=function(){Nc.$.N.call(this),km(this),delete this.g};function Om(t,e,n){if(typeof t=="function")n&&(t=Ot(t,n));else if(t&&typeof t.handleEvent=="function")t=Ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function oT(t){t.g=Om(()=>{t.g=null,t.i&&(t.i=!1,oT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class lR extends Xr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oT(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(t){Xr.call(this),this.h=t,this.g={}}ct(sa,Xr);var Sy=[];function sT(t,e,n,r){Array.isArray(n)||(n&&(Sy[0]=n.toString()),n=Sy);for(var i=0;i<n.length;i++){var o=X_(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function aT(t){wm(t.g,function(e,n){this.g.hasOwnProperty(n)&&_m(e)},t),t.g={}}sa.prototype.N=function(){sa.$.N.call(this),aT(this)};sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ic(){this.g=!0}Ic.prototype.Ea=function(){this.g=!1};function uR(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var f=u[0];u=u[1];var h=f.split("_");s=2<=h.length&&h[1]=="type"?s+(f+"="+u+"&"):s+(f+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function cR(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function no(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+hR(t,n)+(r?" "+r:"")})}function fR(t,e){t.info(function(){return"TIMEOUT: "+e})}Ic.prototype.info=function(){};function hR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return bm(n)}catch{return e}}var Pi={},by=null;function Cc(){return by=by||new ut}Pi.Ta="serverreachability";function lT(t){Nt.call(this,Pi.Ta,t)}ct(lT,Nt);function aa(t){const e=Cc();mt(e,new lT(e))}Pi.STAT_EVENT="statevent";function uT(t,e){Nt.call(this,Pi.STAT_EVENT,t),this.stat=e}ct(uT,Nt);function Pt(t){const e=Cc();mt(e,new uT(e,t))}Pi.Ua="timingevent";function cT(t,e){Nt.call(this,Pi.Ua,t),this.size=e}ct(cT,Nt);function xa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Ac={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nm(){}Nm.prototype.h=null;function ky(t){return t.h||(t.h=t.i())}function hT(){}var Ra={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Im(){Nt.call(this,"d")}ct(Im,Nt);function Cm(){Nt.call(this,"c")}ct(Cm,Nt);var Rd;function xc(){}ct(xc,Nm);xc.prototype.g=function(){return new XMLHttpRequest};xc.prototype.i=function(){return{}};Rd=new xc;function Pa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new sa(this),this.P=dR,t=Od?125:void 0,this.V=new Nc(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new dT}function dT(){this.i=null,this.g="",this.h=!1}var dR=45e3,Pd={},Nu={};re=Pa.prototype;re.setTimeout=function(t){this.P=t};function Ld(t,e,n){t.L=1,t.v=Pc(sr(e)),t.s=n,t.S=!0,pT(t,null)}function pT(t,e){t.G=Date.now(),La(t),t.A=sr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),TT(n.i,"t",r),t.C=0,n=t.l.I,t.h=new dT,t.g=VT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new lR(Ot(t.Pa,t,t.g),t.O)),sT(t.U,t.g,"readystatechange",t.nb),e=t.I?Q_(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),aa(),uR(t.j,t.u,t.A,t.m,t.W,t.s)}re.nb=function(t){t=t.target;const e=this.M;e&&Wn(t)==3?e.l():this.Pa(t)};re.Pa=function(t){try{if(t==this.g)e:{const f=Wn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>f)&&(f!=3||Od||this.g&&(this.h.h||this.g.ja()||Cy(this.g)))){this.J||f!=4||e==7||(e==8||0>=h?aa(3):aa(2)),Rc(this);var n=this.g.da();this.aa=n;t:if(mT(this)){var r=Cy(this.g);t="";var i=r.length,o=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Ps(this);var s="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,cR(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ku(a)){var u=a;break t}}u=null}if(n=u)no(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dd(this,n);else{this.i=!1,this.o=3,Pt(12),ui(this),Ps(this);break e}}this.S?(gT(this,f,s),Od&&this.i&&f==3&&(sT(this.U,this.V,"tick",this.mb),this.V.start())):(no(this.j,this.m,s,null),Dd(this,s)),f==4&&ui(this),this.i&&!this.J&&(f==4?jT(this.l,this):(this.i=!1,La(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Pt(12)):(this.o=0,Pt(13)),ui(this),Ps(this)}}}catch{}finally{}};function mT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function gT(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=pR(t,n),i==Nu){e==4&&(t.o=4,Pt(14),r=!1),no(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Pd){t.o=4,Pt(15),no(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else no(t.j,t.m,i,null),Dd(t,i);mT(t)&&i!=Nu&&i!=Pd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mm(e),e.L=!0,Pt(11))):(no(t.j,t.m,n,"[Invalid Chunked Response]"),ui(t),Ps(t))}re.mb=function(){if(this.g){var t=Wn(this.g),e=this.g.ja();this.C<e.length&&(Rc(this),gT(this,t,e),this.i&&t!=4&&La(this))}};function pR(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Nu:(n=Number(e.substring(n,r)),isNaN(n)?Pd:(r+=1,r+n>e.length?Nu:(e=e.substr(r,n),t.C=r+n,e)))}re.cancel=function(){this.J=!0,ui(this)};function La(t){t.Y=Date.now()+t.P,vT(t,t.P)}function vT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=xa(Ot(t.lb,t),e)}function Rc(t){t.B&&(me.clearTimeout(t.B),t.B=null)}re.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(fR(this.j,this.A),this.L!=2&&(aa(),Pt(17)),ui(this),this.o=2,Ps(this)):vT(this,this.Y-t)};function Ps(t){t.l.H==0||t.J||jT(t.l,t)}function ui(t){Rc(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,km(t.V),aT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Dd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Md(n.h,t))){if(!t.K&&Md(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Au(n),Mc(n);else break e;Dm(n),Pt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=xa(Ot(n.ib,n),6e3));if(1>=kT(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else ci(n,11)}else if((t.K||n.g==t)&&Au(n),!ku(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const f=u[3];f!=null&&(n.qa=f,n.j.info("VER="+n.qa));const h=u[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const c=u[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const w=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=r.h;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Am(o,o.h),o.h=null))}if(r.F){const v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,qe(r.G,r.F,v))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=qT(r,r.I?r.oa:null,r.Y),s.K){OT(r.h,s);var a=s,l=r.K;l&&a.setTimeout(l),a.B&&(Rc(a),La(a)),r.g=s}else $T(r);0<n.i.length&&$c(n)}else u[0]!="stop"&&u[0]!="close"||ci(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ci(n,7):Lm(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}aa(4)}catch{}}function mR(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Sc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function gR(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function yT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Sc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=gR(t),r=mR(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var wT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function mi(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof mi){this.h=e!==void 0?e:t.h,Iu(this,t.j),this.s=t.s,this.g=t.g,Cu(this,t.m),this.l=t.l,e=t.i;var n=new la;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Oy(this,n),this.o=t.o}else t&&(n=String(t).match(wT))?(this.h=!!e,Iu(this,n[1]||"",!0),this.s=ws(n[2]||""),this.g=ws(n[3]||"",!0),Cu(this,n[4]),this.l=ws(n[5]||"",!0),Oy(this,n[6]||"",!0),this.o=ws(n[7]||"")):(this.h=!!e,this.i=new la(null,this.h))}mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Es(e,Ny,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Es(e,Ny,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Es(n,n.charAt(0)=="/"?ER:wR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Es(n,TR)),t.join("")};function sr(t){return new mi(t)}function Iu(t,e,n){t.j=n?ws(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Oy(t,e,n){e instanceof la?(t.i=e,SR(t.i,t.h)):(n||(e=Es(e,_R)),t.i=new la(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function Pc(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ws(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Es(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,yR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ny=/[#\/\?@]/g,wR=/[#\?:]/g,ER=/[#\?]/g,_R=/[#\?@]/g,TR=/#/g;function la(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Jr(t){t.g||(t.g=new Map,t.h=0,t.i&&vR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}re=la.prototype;re.add=function(t,e){Jr(this),this.i=null,t=Bo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ET(t,e){Jr(t),e=Bo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function _T(t,e){return Jr(t),e=Bo(t,e),t.g.has(e)}re.forEach=function(t,e){Jr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};re.sa=function(){Jr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};re.Z=function(t){Jr(this);let e=[];if(typeof t=="string")_T(this,t)&&(e=e.concat(this.g.get(Bo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};re.set=function(t,e){return Jr(this),this.i=null,t=Bo(this,t),_T(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};re.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function TT(t,e,n){ET(t,e),0<n.length&&(t.i=null,t.g.set(Bo(t,e),vm(n)),t.h+=n.length)}re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Bo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function SR(t,e){e&&!t.j&&(Jr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ET(this,r),TT(this,i,n))},t)),t.j=e}var bR=class{constructor(t,e){this.h=t,this.g=e}};function ST(t){this.l=t||kR,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kR=10;function bT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function kT(t){return t.h?1:t.g?t.g.size:0}function Md(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Am(t,e){t.g?t.g.add(e):t.h=e}function OT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ST.prototype.cancel=function(){if(this.i=NT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function NT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return vm(t.i)}function xm(){}xm.prototype.stringify=function(t){return me.JSON.stringify(t,void 0)};xm.prototype.parse=function(t){return me.JSON.parse(t,void 0)};function OR(){this.g=new xm}function NR(t,e,n){const r=n||"";try{yT(t,function(i,o){let s=i;Ca(i)&&(s=bm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function IR(t,e){const n=new Ic;if(me.Image){const r=new Image;r.onload=ml(vl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ml(vl,n,r,"TestLoadImage: error",!1,e),r.onabort=ml(vl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ml(vl,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Da(t){this.l=t.fc||null,this.j=t.ob||!1}ct(Da,Nm);Da.prototype.g=function(){return new Lc(this.l,this.j)};Da.prototype.i=function(t){return function(){return t}}({});function Lc(t,e){ut.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Rm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(Lc,ut);var Rm=0;re=Lc.prototype;re.open=function(t,e){if(this.readyState!=Rm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ua(this)};re.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=Rm};re.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function IT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}re.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ma(this):ua(this),this.readyState==3&&IT(this)}};re.Za=function(t){this.g&&(this.response=this.responseText=t,Ma(this))};re.Ya=function(t){this.g&&(this.response=t,Ma(this))};re.ka=function(){this.g&&Ma(this)};function Ma(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ua(t)}re.setRequestHeader=function(t,e){this.v.append(t,e)};re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};re.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var CR=me.JSON.parse;function Qe(t){ut.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CT,this.L=this.M=!1}ct(Qe,ut);var CT="",AR=/^https?$/i,xR=["POST","PUT"];re=Qe.prototype;re.Oa=function(t){this.M=t};re.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rd.g(),this.C=this.u?ky(this.u):ky(Rd),this.g.onreadystatechange=Ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Iy(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=me.FormData&&t instanceof me.FormData,!(0<=z_(xR,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{RT(this),0<this.B&&((this.L=RR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.ua,this)):this.A=Om(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Iy(this,o)}};function RR(t){return ko&&Qx()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}re.ua=function(){typeof gm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function Iy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,AT(t),Dc(t)}function AT(t){t.F||(t.F=!0,mt(t,"complete"),mt(t,"error"))}re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mt(this,"complete"),mt(this,"abort"),Dc(this))};re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dc(this,!0)),Qe.$.N.call(this)};re.La=function(){this.s||(this.G||this.v||this.l?xT(this):this.kb())};re.kb=function(){xT(this)};function xT(t){if(t.h&&typeof gm<"u"&&(!t.C[1]||Wn(t)!=4||t.da()!=2)){if(t.v&&Wn(t)==4)Om(t.La,0,t);else if(mt(t,"readystatechange"),Wn(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(wT)[1]||null;if(!i&&me.self&&me.self.location){var o=me.self.location.protocol;i=o.substr(0,o.length-1)}r=!AR.test(i?i.toLowerCase():"")}n=r}if(n)mt(t,"complete"),mt(t,"success");else{t.m=6;try{var s=2<Wn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",AT(t)}}finally{Dc(t)}}}}function Dc(t,e){if(t.g){RT(t);const n=t.g,r=t.C[0]?bu:null;t.g=null,t.C=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function RT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}function Wn(t){return t.g?t.g.readyState:0}re.da=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}};re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};re.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),CR(e)}};function Cy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}re.Ia=function(){return this.m};re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function PT(t){let e="";return wm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Pm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=PT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function cs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function LT(t){this.Ga=0,this.i=[],this.j=new Ic,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cs("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cs("baseRetryDelayMs",5e3,t),this.hb=cs("retryDelaySeedMs",1e4,t),this.eb=cs("forwardChannelMaxRetries",2,t),this.xa=cs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new ST(t&&t.concurrentRequestLimit),this.Ja=new OR,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}re=LT.prototype;re.qa=8;re.H=1;function Lm(t){if(DT(t),t.H==3){var e=t.W++,n=sr(t.G);qe(n,"SID",t.J),qe(n,"RID",e),qe(n,"TYPE","terminate"),$a(t,n),e=new Pa(t,t.j,e,void 0),e.L=2,e.v=Pc(sr(n)),n=!1,me.navigator&&me.navigator.sendBeacon&&(n=me.navigator.sendBeacon(e.v.toString(),"")),!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=VT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),La(e)}BT(t)}function Mc(t){t.g&&(Mm(t),t.g.cancel(),t.g=null)}function DT(t){Mc(t),t.u&&(me.clearTimeout(t.u),t.u=null),Au(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function $c(t){bT(t.h)||t.m||(t.m=!0,rT(t.Na,t),t.C=0)}function PR(t,e){return kT(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=xa(Ot(t.Na,t,e),UT(t,t.C)),t.C++,!0)}re.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pa(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=Q_(o),Y_(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=MT(this,i,e),n=sr(this.G),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),$a(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(PT(o)))+"&"+e:this.o&&Pm(n,this.o,o)),Am(this.h,i),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),i.ba=!0,Ld(i,n,null)):Ld(i,n,e),this.H=2}}else this.H==3&&(t?Ay(this,t):this.i.length==0||bT(this.h)||Ay(this))};function Ay(t,e){var n;e?n=e.m:n=t.W++;const r=sr(t.G);qe(r,"SID",t.J),qe(r,"RID",n),qe(r,"AID",t.V),$a(t,r),t.o&&t.s&&Pm(r,t.o,t.s),n=new Pa(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=MT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Am(t.h,n),Ld(n,r,e)}function $a(t,e){t.ma&&wm(t.ma,function(n,r){qe(e,r,n)}),t.l&&yT({},function(n,r){qe(e,r,n)})}function MT(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ot(t.l.Va,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const f=i[l].g;if(u-=o,0>u)o=Math.max(0,i[l].h-100),a=!1;else try{NR(f,s,"req"+u+"_")}catch{r&&r(f)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function $T(t){t.g||t.u||(t.ba=1,rT(t.Ma,t),t.A=0)}function Dm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=xa(Ot(t.Ma,t),UT(t,t.A)),t.A++,!0)}re.Ma=function(){if(this.u=null,FT(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=xa(Ot(this.jb,this),t)}};re.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Pt(10),Mc(this),FT(this))};function Mm(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function FT(t){t.g=new Pa(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=sr(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.J),qe(e,"CI",t.M?"0":"1"),qe(e,"AID",t.V),qe(e,"TYPE","xmlhttp"),$a(t,e),t.o&&t.s&&Pm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Pc(sr(e)),n.s=null,n.S=!0,pT(n,t)}re.ib=function(){this.v!=null&&(this.v=null,Mc(this),Dm(this),Pt(19))};function Au(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function jT(t,e){var n=null;if(t.g==e){Au(t),Mm(t),t.g=null;var r=2}else if(Md(t.h,e))n=e.F,OT(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Cc(),mt(r,new cT(r,n)),$c(t)}else $T(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&PR(t,e)||r==2&&Dm(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ci(t,5);break;case 4:ci(t,10);break;case 3:ci(t,6);break;default:ci(t,2)}}}function UT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function ci(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Ot(t.pb,t);n||(n=new mi("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||Iu(n,"https"),Pc(n)),IR(n.toString(),r)}else Pt(2);t.H=0,t.l&&t.l.za(e),BT(t),DT(t)}re.pb=function(t){t?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function BT(t){if(t.H=0,t.pa=[],t.l){const e=NT(t.h);(e.length!=0||t.i.length!=0)&&(wy(t.pa,e),wy(t.pa,t.i),t.h.i.length=0,vm(t.i),t.i.length=0),t.l.ya()}}function qT(t,e,n){var r=n instanceof mi?sr(n):new mi(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Cu(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new mi(null,void 0);r&&Iu(o,r),e&&(o.g=e),i&&Cu(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.qa),$a(t,r),r}function VT(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Qe(new Da({ob:!0})):new Qe(t.va),e.Oa(t.I),e}function zT(){}re=zT.prototype;re.Ba=function(){};re.Aa=function(){};re.za=function(){};re.ya=function(){};re.Va=function(){};function xu(){if(ko&&!(10<=Number(Yx)))throw Error("Environmental error: no available transport.")}xu.prototype.g=function(t,e){return new Jt(t,e)};function Jt(t,e){ut.call(this),this.g=new LT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ku(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ku(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qo(this)}ct(Jt,ut);Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;Pt(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=qT(t,null,t.Y),$c(t)};Jt.prototype.close=function(){Lm(this.g)};Jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=bm(t),t=n);e.i.push(new bR(e.fb++,t)),e.H==3&&$c(e)};Jt.prototype.N=function(){this.g.l=null,delete this.j,Lm(this.g),delete this.g,Jt.$.N.call(this)};function HT(t){Im.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ct(HT,Im);function KT(){Cm.call(this),this.status=1}ct(KT,Cm);function qo(t){this.g=t}ct(qo,zT);qo.prototype.Ba=function(){mt(this.g,"a")};qo.prototype.Aa=function(t){mt(this.g,new HT(t))};qo.prototype.za=function(t){mt(this.g,new KT)};qo.prototype.ya=function(){mt(this.g,"b")};function LR(){this.blockSize=-1}function bn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ct(bn,LR);bn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function rh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}bn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)rh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){rh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){rh(this,r),i=0;break}}this.h=i,this.i+=e};bn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var DR={};function $m(t){return-128<=t&&128>t?H_(DR,t,function(e){return new xe([e|0],0>e?-1:0)}):new xe([t|0],0>t?-1:0)}function xn(t){if(isNaN(t)||!isFinite(t))return uo;if(0>t)return dt(xn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=$d;return new xe(e,0)}function WT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(WT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xn(Math.pow(e,8)),r=uo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=xn(Math.pow(e,o)),r=r.R(o).add(xn(s))):(r=r.R(n),r=r.add(xn(s)))}return r}var $d=4294967296,uo=$m(0),Fd=$m(1),xy=$m(16777216);re=xe.prototype;re.ea=function(){if(an(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:$d+r)*e,e*=$d}return t};re.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Gn(this))return"0";if(an(this))return"-"+dt(this).toString(t);for(var e=xn(Math.pow(t,6)),n=this,r="";;){var i=Pu(n,e).g;n=Ru(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Gn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};re.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Gn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function an(t){return t.h==-1}re.X=function(t){return t=Ru(this,t),an(t)?-1:Gn(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(Fd)}re.abs=function(){return an(this)?dt(this):this};re.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function Ru(t,e){return t.add(dt(e))}re.R=function(t){if(Gn(this)||Gn(t))return uo;if(an(this))return an(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(an(t))return dt(this.R(dt(t)));if(0>this.X(xy)&&0>t.X(xy))return xn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,yl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,yl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,yl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,yl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)};function yl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function fs(t,e){this.g=t,this.h=e}function Pu(t,e){if(Gn(e))throw Error("division by zero");if(Gn(t))return new fs(uo,uo);if(an(t))return e=Pu(dt(t),e),new fs(dt(e.g),dt(e.h));if(an(e))return e=Pu(t,dt(e)),new fs(dt(e.g),e.h);if(30<t.g.length){if(an(t)||an(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Fd,r=e;0>=r.X(t);)n=Ry(n),r=Ry(r);var i=Ui(n,1),o=Ui(r,1);for(r=Ui(r,2),n=Ui(n,2);!Gn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ui(r,1),n=Ui(n,1)}return e=Ru(t,i.R(e)),new fs(i,e)}for(i=uo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=xn(n),s=o.R(e);an(s)||0<s.X(t);)n-=r,o=xn(n),s=o.R(e);Gn(o)&&(o=Fd),i=i.add(o),t=Ru(t,s)}return new fs(i,t)}re.gb=function(t){return Pu(this,t).h};re.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)};re.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)};re.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)};function Ry(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function Ui(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new xe(i,t.h)}xu.prototype.createWebChannel=xu.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;Ac.NO_ERROR=0;Ac.TIMEOUT=8;Ac.HTTP_ERROR=6;fT.COMPLETE="complete";hT.EventType=Ra;Ra.OPEN="a";Ra.CLOSE="b";Ra.ERROR="c";Ra.MESSAGE="d";ut.prototype.listen=ut.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;bn.prototype.digest=bn.prototype.l;bn.prototype.reset=bn.prototype.reset;bn.prototype.update=bn.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=xn;xe.fromString=WT;var MR=function(){return new xu},$R=function(){return Cc()},ih=Ac,FR=fT,jR=Pi,Py={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},UR=Da,wl=hT,BR=Qe,qR=bn,co=xe;const Ly="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new dm("@firebase/firestore");function Dy(){return bi.logLevel}function ce(t,...e){if(bi.logLevel<=Ne.DEBUG){const n=e.map(Fm);bi.debug(`Firestore (${Vo}): ${t}`,...n)}}function ar(t,...e){if(bi.logLevel<=Ne.ERROR){const n=e.map(Fm);bi.error(`Firestore (${Vo}): ${t}`,...n)}}function Oo(t,...e){if(bi.logLevel<=Ne.WARN){const n=e.map(Fm);bi.warn(`Firestore (${Vo}): ${t}`,...n)}}function Fm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw ar(e),new Error(e)}function je(t,e){t||de()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class zR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HR{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new er,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new er)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new GT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Tt(e)}}class KR{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class WR{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new KR(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QR{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.T=n.token,new GR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function No(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new ot(0,0))}static max(){return new ge(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ca.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ca?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends ca{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const XR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends ca{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return XR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe($e.fromString(e))}static fromName(e){return new fe($e.fromString(e).popFirst(5))}static empty(){return new fe($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new $e(e.slice()))}}function JR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Hr(i,fe.empty(),e)}function ZR(t){return new Hr(t.readTime,t.key,-1)}class Hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hr(ge.min(),fe.empty(),-1)}static max(){return new Hr(ge.max(),fe.empty(),-1)}}function eP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==tP)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(f=>{s[u]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}jm.ct=-1;function Fc(t){return t==null}function Lu(t){return t===0&&1/t==-1/0}function rP(t){return typeof t=="number"&&Number.isInteger(t)&&!Lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new El(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new El(this.root,e,this.comparator,!1)}getReverseIterator(){return new El(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new El(this.root,e,this.comparator,!0)}}class El{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=o??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ht(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $y(this.data.getIterator())}getIteratorFrom(e){return new $y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class $y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new It(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new XT("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const iP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(je(!!t),typeof t=="string"){let e=0;const n=iP.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bm(t){const e=t.mapValue.fields.__previous_value__;return Um(e)?Bm(e):e}function fa(t){const e=Kr(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n,r,i,o,s,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ha{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ha("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Um(t)?4:sP(t)?9007199254740991:10:de()}function Fn(t,e){if(t===e)return!0;const n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fa(t).isEqual(fa(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Kr(r.timestampValue),s=Kr(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ki(r.bytesValue).isEqual(ki(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ze(r.doubleValue),s=Ze(i.doubleValue);return o===s?Lu(o)===Lu(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return No(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(My(o)!==My(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Fn(o[a],s[a])))return!1;return!0}(t,e);default:return de()}}function da(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=Oi(t),r=Oi(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Ze(i.integerValue||i.doubleValue),a=Ze(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return Fy(t.timestampValue,e.timestampValue);case 4:return Fy(fa(t),fa(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(i,o){const s=ki(i),a=ki(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=Ce(s[l],a[l]);if(u!==0)return u}return Ce(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Ce(Ze(i.latitude),Ze(o.latitude));return s!==0?s:Ce(Ze(i.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=Io(s[l],a[l]);if(u)return u}return Ce(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===_l.mapValue&&o===_l.mapValue)return 0;if(i===_l.mapValue)return 1;if(o===_l.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let f=0;f<a.length&&f<u.length;++f){const h=Ce(a[f],u[f]);if(h!==0)return h;const c=Io(s[a[f]],l[u[f]]);if(c!==0)return c}return Ce(a.length,u.length)}(t.mapValue,e.mapValue);default:throw de()}}function Fy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Kr(t),r=Kr(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function Co(t){return jd(t)}function jd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Kr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ki(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,fe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=jd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${jd(r.fields[a])}`;return o+"}"}(t.mapValue):de();var e,n}function jy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ud(t){return!!t&&"integerValue"in t}function qm(t){return!!t&&"arrayValue"in t}function Uy(t){return!!t&&"nullValue"in t}function By(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fl(t){return!!t&&"mapValue"in t}function Ls(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ls(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ls(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ls(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ls(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Fl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Li(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ut(Ls(this.value))}}function JT(t){const e=[];return Li(t.fields,(n,r)=>{const i=new kt([n]);if(Fl(r)){const o=JT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,ge.min(),ge.min(),ge.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new bt(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new bt(e,2,n,ge.min(),ge.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,ge.min(),ge.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.position=e,this.inclusive=n}}function qy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(s.referenceValue),n.key):r=Io(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n="asc"){this.field=e,this.dir=n}}function aP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{}class tt extends ZT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uP(e,n,r):n==="array-contains"?new hP(e,r):n==="in"?new dP(e,r):n==="not-in"?new pP(e,r):n==="array-contains-any"?new mP(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cP(e,r):new fP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Io(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class kn extends ZT{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new kn(e,n)}matches(e){return eS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function eS(t){return t.op==="and"}function tS(t){return lP(t)&&eS(t)}function lP(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function Bd(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(tS(t))return t.filters.map(e=>Bd(e)).join(",");{const e=t.filters.map(n=>Bd(n)).join(",");return`${t.op}(${e})`}}function nS(t,e){return t instanceof tt?function(n,r){return r instanceof tt&&n.op===r.op&&n.field.isEqual(r.field)&&Fn(n.value,r.value)}(t,e):t instanceof kn?function(n,r){return r instanceof kn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&nS(o,r.filters[s]),!0):!1}(t,e):void de()}function rS(t){return t instanceof tt?function(e){return`${e.field.canonicalString()} ${e.op} ${Co(e.value)}`}(t):t instanceof kn?function(e){return e.op.toString()+" {"+e.getFilters().map(rS).join(" ,")+"}"}(t):"Filter"}class uP extends tt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cP extends tt{constructor(e,n){super(e,"in",n),this.keys=iS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fP extends tt{constructor(e,n){super(e,"not-in",n),this.keys=iS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class hP extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qm(n)&&da(n.arrayValue,this.value)}}class dP extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&da(this.value.arrayValue,n)}}class pP extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!da(this.value.arrayValue,n)}}class mP extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>da(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function zy(t,e=null,n=[],r=[],i=null,o=null,s=null){return new gP(t,e,n,r,i,o,s)}function Vm(t){const e=we(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.ft=n}return e.ft}function zm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vy(t.startAt,e.startAt)&&Vy(t.endAt,e.endAt)}function qd(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function vP(t,e,n,r,i,o,s,a){return new zo(t,e,n,r,i,o,s,a)}function Hm(t){return new zo(t)}function Hy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Km(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jc(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function oS(t){return t.collectionGroup!==null}function ho(t){const e=we(t);if(e.dt===null){e.dt=[];const n=jc(e),r=Km(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new fo(n)),e.dt.push(new fo(kt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new fo(kt.keyField(),o))}}}return e.dt}function lr(t){const e=we(t);if(!e._t)if(e.limitType==="F")e._t=zy(e.path,e.collectionGroup,ho(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ho(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new fo(o.field,s))}const r=e.endAt?new Du(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Du(e.startAt.position,e.startAt.inclusive):null;e._t=zy(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Vd(t,e){e.getFirstInequalityField(),jc(t);const n=t.filters.concat([e]);return new zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mu(t,e,n){return new zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uc(t,e){return zm(lr(t),lr(e))&&t.limitType===e.limitType}function sS(t){return`${Vm(lr(t))}|lt:${t.limitType}`}function zd(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>rS(r)).join(", ")}]`),Fc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),`Target(${n})`}(lr(t))}; limitType=${t.limitType})`}function Bc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):fe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ho(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=qy(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,ho(n),r)||n.endAt&&!function(i,o,s){const a=qy(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,ho(n),r))}(t,e)}function yP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aS(t){return(e,n)=>{let r=!1;for(const i of ho(t)){const o=wP(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wP(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?Io(a,l):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new We(fe.comparator);function ur(){return EP}const lS=new We(fe.comparator);function _s(...t){let e=lS;for(const n of t)e=e.insert(n.key,n);return e}function uS(t){let e=lS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return Ds()}function cS(){return Ds()}function Ds(){return new Ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const _P=new We(fe.comparator),TP=new It(fe.comparator);function Se(...t){let e=TP;for(const n of t)e=e.add(n);return e}const SP=new It(Ce);function bP(){return SP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function hS(t){return{integerValue:""+t}}function kP(t,e){return rP(e)?hS(e):fS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function OP(t,e,n){return t instanceof $u?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Um(i)&&(i=Bm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof pa?pS(t,e):t instanceof ma?mS(t,e):function(r,i){const o=dS(r,i),s=Ky(o)+Ky(r.wt);return Ud(o)&&Ud(r.wt)?hS(s):fS(r.serializer,s)}(t,e)}function NP(t,e,n){return t instanceof pa?pS(t,e):t instanceof ma?mS(t,e):n}function dS(t,e){return t instanceof Fu?Ud(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class $u extends qc{}class pa extends qc{constructor(e){super(),this.elements=e}}function pS(t,e){const n=gS(e);for(const r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ma extends qc{constructor(e){super(),this.elements=e}}function mS(t,e){let n=gS(e);for(const r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}class Fu extends qc{constructor(e,n){super(),this.serializer=e,this.wt=n}}function Ky(t){return Ze(t.integerValue||t.doubleValue)}function gS(t){return qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IP(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof pa&&r instanceof pa||n instanceof ma&&r instanceof ma?No(n.elements,r.elements,Fn):n instanceof Fu&&r instanceof Fu?Fn(n.wt,r.wt):n instanceof $u&&r instanceof $u}(t.transform,e.transform)}class CP{constructor(e,n){this.version=e,this.transformResults=n}}class Tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vc{}function vS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wm(t.key,Tn.none()):new Ua(t.key,t.data,Tn.none());{const n=t.data,r=Ut.empty();let i=new It(kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zr(t.key,r,new Qt(i.toArray()),Tn.none())}}function AP(t,e,n){t instanceof Ua?function(r,i,o){const s=r.value.clone(),a=Gy(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Zr?function(r,i,o){if(!jl(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=Gy(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(yS(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ms(t,e,n,r){return t instanceof Ua?function(i,o,s,a){if(!jl(i.precondition,o))return s;const l=i.value.clone(),u=Qy(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zr?function(i,o,s,a){if(!jl(i.precondition,o))return s;const l=Qy(i.fieldTransforms,a,o),u=o.data;return u.setAll(yS(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,s){return jl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function xP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=dS(r.transform,i||null);o!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,o))}return n||null}function Wy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&No(n,r,(i,o)=>IP(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ua extends Vc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zr extends Vc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gy(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,NP(s,a,n[i]))}return r}function Qy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,OP(o,s,e))}return r}class Wm extends Vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RP extends Vc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&AP(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ms(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ms(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=vS(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,r)=>Wy(n,r))&&No(this.baseMutations,e.baseMutations,(n,r)=>Wy(n,r))}}class Gm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=_P;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Gm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,ke;function MP(t){switch(t){default:return de();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function wS(t){if(t===void 0)return ar("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Je.OK:return Y.OK;case Je.CANCELLED:return Y.CANCELLED;case Je.UNKNOWN:return Y.UNKNOWN;case Je.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Je.INTERNAL:return Y.INTERNAL;case Je.UNAVAILABLE:return Y.UNAVAILABLE;case Je.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Je.NOT_FOUND:return Y.NOT_FOUND;case Je.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Je.ABORTED:return Y.ABORTED;case Je.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Je.DATA_LOSS:return Y.DATA_LOSS;default:return de()}}(ke=Je||(Je={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Tl}static getOrCreateInstance(){return Tl===null&&(Tl=new Qm),Tl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Tl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new co([4294967295,4294967295],0);function Yy(t){const e=$P().encode(t),n=new qR;return n.update(e),new Uint8Array(n.digest())}function Xy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new co([n,r],0),new co([i,o],0)]}class Ym{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ts(`Invalid padding: ${n}`);if(r<0)throw new Ts(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ts(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ts(`Invalid padding when bitmap length is 0: ${n}`);this.yt=8*e.length-n,this.It=co.fromNumber(this.yt)}Tt(e,n,r){let i=e.add(n.multiply(co.fromNumber(r)));return i.compare(FP)===1&&(i=new co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}At(e){if(this.yt===0)return!1;const n=Yy(e),[r,i]=Xy(n);for(let o=0;o<this.hashCount;o++){const s=this.Tt(r,i,o);if(!this.Et(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ym(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.yt===0)return;const n=Yy(e),[r,i]=Xy(n);for(let o=0;o<this.hashCount;o++){const s=this.Tt(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ts extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ba.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zc(ge.min(),i,new We(Ce),ur(),Se())}}class Ba{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ba(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r,i){this.vt=e,this.removedTargetIds=n,this.key=r,this.Pt=i}}class ES{constructor(e,n){this.targetId=e,this.bt=n}}class _S{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jy{constructor(){this.Vt=0,this.St=e0(),this.Dt=xt.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return this.Vt!==0}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Se(),n=Se(),r=Se();return this.St.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de()}}),new Ba(this.Dt,this.Ct,e,n,r)}$t(){this.xt=!1,this.St=e0()}Ft(e,n){this.xt=!0,this.St=this.St.insert(e,n)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class jP{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=ur(),this.jt=Zy(),this.zt=new We(Ce)}Wt(e){for(const n of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(n,e.Pt):this.Jt(n,e.key,e.Pt);for(const n of e.removedTargetIds)this.Jt(n,e.key,e.Pt)}Yt(e){this.forEachTarget(e,n=>{const r=this.Xt(n);switch(e.state){case 0:this.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(n);break;case 3:this.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(n)&&(this.te(n),r.Mt(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Gt.forEach((r,i)=>{this.Zt(i)&&n(i)})}ee(e){var n;const r=e.targetId,i=e.bt.count,o=this.ne(r);if(o){const s=o.target;if(qd(s))if(i===0){const a=new fe(s.path);this.Jt(r,a,bt.newNoDocument(a,ge.min()))}else je(i===1);else{const a=this.se(r);if(a!==i){const l=this.ie(e,a);if(l!==0){this.te(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(r,u)}(n=Qm.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,f,h){var c,d,w,v,E,m;const p={localCacheCount:f,existenceFilterCount:h.count},y=h.unchangedNames;return y&&(p.bloomFilter={applied:u===0,hashCount:(c=y==null?void 0:y.hashCount)!==null&&c!==void 0?c:0,bitmapLength:(v=(w=(d=y==null?void 0:y.bits)===null||d===void 0?void 0:d.bitmap)===null||w===void 0?void 0:w.length)!==null&&v!==void 0?v:0,padding:(m=(E=y==null?void 0:y.bits)===null||E===void 0?void 0:E.padding)!==null&&m!==void 0?m:0}),p}(l,a,e.bt))}}}}ie(e,n){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=ki(o).toUint8Array()}catch(f){if(f instanceof XT)return Oo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw f}try{u=new Ym(l,s,a)}catch(f){return Oo(f instanceof Ts?"BloomFilter error: ":"Applying bloom filter failed: ",f),1}return u.yt===0?1:i!==n-this.re(e.targetId,u)?2:0}re(e,n){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Kt.oe(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.At(a)||(this.Jt(e,o,null),i++)}),i}ue(e){const n=new Map;this.Gt.forEach((o,s)=>{const a=this.ne(s);if(a){if(o.current&&qd(a.target)){const l=new fe(a.target.path);this.Qt.get(l)!==null||this.ce(s,l)||this.Jt(s,l,bt.newNoDocument(l,e))}o.kt&&(n.set(s,o.Ot()),o.$t())}});let r=Se();this.jt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ne(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qt.forEach((o,s)=>s.setReadTime(e));const i=new zc(e,n,this.zt,this.Qt,r);return this.Qt=ur(),this.jt=Zy(),this.zt=new We(Ce),i}Ht(e,n){if(!this.Zt(e))return;const r=this.ce(e,n.key)?2:0;this.Xt(e).Ft(n.key,r),this.Qt=this.Qt.insert(n.key,n),this.jt=this.jt.insert(n.key,this.ae(n.key).add(e))}Jt(e,n,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,n)?i.Ft(n,1):i.Bt(n),this.jt=this.jt.insert(n,this.ae(n).delete(e)),r&&(this.Qt=this.Qt.insert(n,r))}removeTarget(e){this.Gt.delete(e)}se(e){const n=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let n=this.Gt.get(e);return n||(n=new Jy,this.Gt.set(e,n)),n}ae(e){let n=this.jt.get(e);return n||(n=new It(Ce),this.jt=this.jt.insert(e,n)),n}Zt(e){const n=this.ne(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ne(e){const n=this.Gt.get(e);return n&&n.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Jy),this.Kt.getRemoteKeysForTarget(e).forEach(n=>{this.Jt(e,n,null)})}ce(e,n){return this.Kt.getRemoteKeysForTarget(e).has(n)}}function Zy(){return new We(fe.comparator)}function e0(){return new We(fe.comparator)}const UP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),BP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),qP=(()=>({and:"AND",or:"OR"}))();class VP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hd(t,e){return t.useProto3Json||Fc(e)?e:{value:e}}function ju(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zP(t,e){return ju(t,e.toTimestamp())}function Ln(t){return je(!!t),ge.fromTimestamp(function(e){const n=Kr(e);return new ot(n.seconds,n.nanos)}(t))}function Xm(t,e){return function(n){return new $e(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function SS(t){const e=$e.fromString(t);return je(NS(e)),e}function Kd(t,e){return Xm(t.databaseId,e.path)}function oh(t,e){const n=SS(e);if(n.get(1)!==t.databaseId.projectId)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(bS(n))}function Wd(t,e){return Xm(t.databaseId,e)}function HP(t){const e=SS(t);return e.length===4?$e.emptyPath():bS(e)}function Gd(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bS(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t0(t,e,n){return{name:Kd(t,e),fields:n.value.mapValue.fields}}function KP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(je(u===void 0||typeof u=="string"),xt.fromBase64String(u||"")):(je(u===void 0||u instanceof Uint8Array),xt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?Y.UNKNOWN:wS(l.code);return new se(u,l.message||"")}(s);n=new _S(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=oh(t,r.document.name),o=Ln(r.document.updateTime),s=r.document.createTime?Ln(r.document.createTime):ge.min(),a=new Ut({mapValue:{fields:r.document.fields}}),l=bt.newFoundDocument(i,o,s,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Ul(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=oh(t,r.document),o=r.readTime?Ln(r.readTime):ge.min(),s=bt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ul([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=oh(t,r.document),o=r.removedTargetIds||[];n=new Ul([],o,i,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new DP(i,o),a=r.targetId;n=new ES(a,s)}}return n}function WP(t,e){let n;if(e instanceof Ua)n={update:t0(t,e.key,e.value)};else if(e instanceof Wm)n={delete:Kd(t,e.key)};else if(e instanceof Zr)n={update:t0(t,e.key,e.data),updateMask:nL(e.fieldMask)};else{if(!(e instanceof RP))return de();n={verify:Kd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof $u)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof pa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ma)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Fu)return{fieldPath:o.field.canonicalString(),increment:s.wt};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:zP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function GP(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?Ln(r.updateTime):Ln(i);return o.isEqual(ge.min())&&(o=Ln(i)),new CP(o,r.transformResults||[])}(n,e))):[]}function QP(t,e){return{documents:[Wd(t,e.path)]}}function YP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Wd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return OS(kn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Bi(f.field),direction:ZP(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Hd(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function XP(t){let e=HP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(f){const h=kS(f);return h instanceof kn&&tS(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>function(h){return new fo(qi(h.field),function(c){switch(c){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Fc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,c=f.values||[];return new Du(c,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,c=f.values||[];return new Du(c,h)}(n.endAt)),vP(e,i,s,o,a,"F",l,u)}function JP(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kS(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=qi(e.unaryFilter.field);return tt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=qi(e.unaryFilter.field);return tt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qi(e.unaryFilter.field);return tt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qi(e.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(e){return tt.create(qi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return kn.create(e.compositeFilter.filters.map(n=>kS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return de()}}(e.compositeFilter.op))}(t):de()}function ZP(t){return UP[t]}function eL(t){return BP[t]}function tL(t){return qP[t]}function Bi(t){return{fieldPath:t.canonicalString()}}function qi(t){return kt.fromServerFormat(t.fieldPath)}function OS(t){return t instanceof tt?function(e){if(e.op==="=="){if(By(e.value))return{unaryFilter:{field:Bi(e.field),op:"IS_NAN"}};if(Uy(e.value))return{unaryFilter:{field:Bi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(By(e.value))return{unaryFilter:{field:Bi(e.field),op:"IS_NOT_NAN"}};if(Uy(e.value))return{unaryFilter:{field:Bi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bi(e.field),op:eL(e.op),value:e.value}}}(t):t instanceof kn?function(e){const n=e.getFilters().map(r=>OS(r));return n.length===1?n[0]:{compositeFilter:{op:tL(e.op),filters:n}}}(t):de()}function nL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,r,i,o=ge.min(),s=ge.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.le=e}}function iL(t){const e=XP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.sn=new sL}addToCollectionParentIndex(e,n){return this.sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Hr.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class sL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It($e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ao(0)}static kn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.changes=new Ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ms(r.mutation,i,Qt.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=_s();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ur();const s=Ds(),a=Ds();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Zr)?o=o.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),Ms(f.mutation,u,f.mutation.getFieldMask(),ot.now())):s.set(u.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,f)=>s.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new lL(f,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ds();let i=new We((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Qt.empty();f=a.applyToLocalView(u,f),r.set(l,f);const h=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,h=cS();f.forEach(c=>{if(!o.has(c)){const d=vS(n.get(c),r.get(c));d!==null&&h.set(c,d),o=o.add(c)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(fi());let a=-1,l=o;return s.next(u=>ee.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?ee.resolve():this.remoteDocumentCache.getEntry(e,f).next(c=>{l=l.insert(f,c)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Se())).next(f=>({batchId:a,changes:uS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=_s();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=_s();return this.indexManager.getCollectionParents(e,i).next(s=>ee.forEach(s,a=>{const l=function(u,f){return new zo(f,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,bt.newInvalidDocument(u)))});let s=_s();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ms(u.mutation,l,Qt.empty(),ot.now()),Bc(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,n){return ee.resolve(this.us.get(n))}saveBundleMetadata(e,n){var r;return this.us.set(n.id,{id:(r=n).id,version:r.version,createTime:Ln(r.createTime)}),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.cs.get(n))}saveNamedQuery(e,n){return this.cs.set(n.name,function(r){return{name:r.name,query:iL(r.bundledQuery),readTime:Ln(r.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.overlays=new We(fe.comparator),this.hs=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.de(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hs.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=fi(),o=n.length+1,s=new fe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new We((u,f)=>u-f);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=fi(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=fi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return ee.resolve(a)}de(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new LP(n,r));let o=this.hs.get(n);o===void 0&&(o=Se(),this.hs.set(n,o)),this.hs.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.ls=new It(st.fs),this.ds=new It(st._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,n){const r=new st(e,n);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gs(new st(e,n))}ys(e,n){e.forEach(r=>this.removeReference(r,n))}ps(e){const n=new fe(new $e([])),r=new st(n,e),i=new st(n,e+1),o=[];return this.ds.forEachInRange([r,i],s=>{this.gs(s),o.push(s.key)}),o}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const n=new fe(new $e([])),r=new st(n,e),i=new st(n,e+1);let o=Se();return this.ds.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new st(e,0),r=this.ls.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.Es=n}static fs(e,n){return fe.comparator(e.key,n.key)||Ce(e.Es,n.Es)}static _s(e,n){return Ce(e.Es,n.Es)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new It(st.fs)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new PP(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new st(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(e,n){return ee.resolve(this.vs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ps(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.vs(s.Es);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(Ce);return n.forEach(i=>{const o=new st(i,0),s=new st(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.Es)})}),ee.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const s=new st(new fe(o),0);let a=new It(Ce);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Es)),!0)},s),ee.resolve(this.bs(a))}bs(e){const n=[];return e.forEach(r=>{const i=this.vs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Vs(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(n.mutations,i=>{const o=new st(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,n){const r=new st(n,0),i=this.Rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Vs(e,n){return this.Ps(e)}Ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}vs(e){const n=this.Ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.Ss=e,this.docs=new We(fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ss(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bt.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ur();const s=n.path,a=new fe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||eP(ZR(f),r)<=0||(i.has(f.key)||Bc(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){de()}Ds(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pL(this)}getSize(e){return ee.resolve(this.size)}}class pL extends aL{constructor(e){super(),this.rs=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.rs.getEntry(e,n)}getAllFromCache(e,n){return this.rs.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.persistence=e,this.Cs=new Ho(n=>Vm(n),zm),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Jm,this.targetCount=0,this.ks=Ao.Nn()}forEachTarget(e,n){return this.Cs.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.xs&&(this.xs=n),ee.resolve()}$n(e){this.Cs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ks=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,n){return this.$n(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.$n(n),ee.resolve()}removeTargetData(e,n){return this.Cs.delete(n.target),this.Ns.ps(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Cs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cs.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Ns.ws(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Ns.ys(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ns.ps(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ns.Ts(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Ns.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.Ms={},this.overlays={},this.Os=new jm(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new mL(this),this.indexManager=new oL,this.remoteDocumentCache=function(r){return new dL(r)}(r=>this.referenceDelegate.Bs(r)),this.serializer=new rL(n),this.Ls=new cL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ms[e.toKey()];return r||(r=new hL(n,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new vL(this.Os.next());return this.referenceDelegate.qs(),r(i).next(o=>this.referenceDelegate.Us(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ks(e,n){return ee.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,n)))}}class vL extends nP{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Gs=new Jm,this.Qs=null}static js(e){return new Zm(e)}get zs(){if(this.Qs)return this.Qs;throw de()}addReference(e,n,r){return this.Gs.addReference(r,n),this.zs.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Gs.removeReference(r,n),this.zs.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.zs.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Gs.ps(n.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.zs.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}qs(){this.Qs=new Set}Us(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.zs,r=>{const i=fe.fromPath(r);return this.Ws(e,i).next(o=>{o||n.removeEntry(i,ge.min())})}).next(()=>(this.Qs=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ws(e,n).next(r=>{r?this.zs.delete(n.toString()):this.zs.add(n.toString())})}Bs(e){return 0}Ws(e,n){return ee.or([()=>ee.resolve(this.Gs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ks(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Fi=i}static Bi(e,n){let r=Se(),i=Se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new eg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.Li=!1}initialize(e,n){this.qi=e,this.indexManager=n,this.Li=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ui(e,n).next(o=>o||this.Ki(e,n,i,r)).next(o=>o||this.Gi(e,n))}Ui(e,n){if(Hy(n))return ee.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mu(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Se(...o);return this.qi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Qi(n,a);return this.ji(n,u,s,l.readTime)?this.Ui(e,Mu(n,null,"F")):this.zi(e,u,n,l)}))})))}Ki(e,n,r,i){return Hy(n)||i.isEqual(ge.min())?this.Gi(e,n):this.qi.getDocuments(e,r).next(o=>{const s=this.Qi(n,o);return this.ji(n,s,r,i)?this.Gi(e,n):(Dy()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zd(n)),this.zi(e,s,n,JR(i,-1)))})}Qi(e,n){let r=new It(aS(e));return n.forEach((i,o)=>{Bc(e,o)&&(r=r.add(o))}),r}ji(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Gi(e,n){return Dy()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",zd(n)),this.qi.getDocumentsMatchingQuery(e,n,Hr.min())}zi(e,n,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r,i){this.persistence=e,this.Wi=n,this.serializer=i,this.Hi=new We(Ce),this.Ji=new Ho(o=>Vm(o),zm),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uL(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Hi))}}function EL(t,e,n,r){return new wL(t,e,n,r)}async function IS(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Zi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Se();for(const u of i){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of o){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({tr:u,removedBatchIds:s,addedBatchIds:a}))})})}function _L(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const f=l.batch,h=f.keys();let c=ee.resolve();return h.forEach(d=>{c=c.next(()=>u.getEntry(a,d)).next(w=>{const v=l.docVersions.get(d);je(v!==null),w.version.compareTo(v)<0&&(f.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),c.next(()=>s.mutationQueue.removeMutationBatch(a,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Se();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CS(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Fs.getLastRemoteSnapshotVersion(n))}function TL(t,e){const n=we(t),r=e.snapshotVersion;let i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;const a=[];e.targetChanges.forEach((f,h)=>{const c=i.get(h);if(!c)return;a.push(n.Fs.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Fs.addMatchingKeys(o,f.addedDocuments,h)));let d=c.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(xt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):f.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(f.resumeToken,r)),i=i.insert(h,d),function(w,v,E){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(c,d,f)&&a.push(n.Fs.updateTargetData(o,d))});let l=ur(),u=Se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(SL(o,s,e.documentUpdates).next(f=>{l=f.er,u=f.nr})),!r.isEqual(ge.min())){const f=n.Fs.getLastRemoteSnapshotVersion(o).next(h=>n.Fs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Hi=i,o))}function SL(t,e,n){let r=Se(),i=Se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ur();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{er:s,nr:i}})}function bL(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kL(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Fs.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Fs.allocateTargetId(r).next(s=>(i=new Cr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Hi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(r.targetId,r),n.Ji.set(e,r.targetId)),r})}async function Qd(t,e,n){const r=we(t),i=r.Hi.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ja(s))throw s;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}function n0(t,e,n){const r=we(t);let i=ge.min(),o=Se();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const f=we(a),h=f.Ji.get(u);return h!==void 0?ee.resolve(f.Hi.get(h)):f.Fs.getTargetData(l,u)}(r,s,lr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Wi.getDocumentsMatchingQuery(s,e,n?i:ge.min(),n?o:Se())).next(a=>(OL(r,yP(e),a),{documents:a,sr:o})))}function OL(t,e,n){let r=t.Yi.get(e)||ge.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Yi.set(e,r)}class r0{constructor(){this.activeTargetIds=bP()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NL{constructor(){this.Wr=new r0,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,n,r){this.Hr[e]=n}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new r0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{Jr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl=null;function sh(){return Sl===null?Sl=268435456+Math.round(2147483648*Math.random()):Sl++,"0x"+Sl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class xL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.wo=n+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,n,r,i,o){const s=sh(),a=this.Io(e,n);ce("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.To(l,i,o),this.Eo(e,a,l,r).then(u=>(ce("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Oo("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}Ao(e,n,r,i,o,s){return this.po(e,n,r,i,o)}To(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Io(e,n){const r=CL[e];return`${this.wo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,n,r,i){const o=sh();return new Promise((s,a)=>{const l=new BR;l.setWithCredentials(!0),l.listenOnce(FR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ih.NO_ERROR:const f=l.getResponseJson();ce(_t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ih.TIMEOUT:ce(_t,`RPC '${e}' ${o} timed out`),a(new se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const h=l.getStatus();if(ce(_t,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let c=l.getResponseJson();Array.isArray(c)&&(c=c[0]);const d=c==null?void 0:c.error;if(d&&d.status&&d.message){const w=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(E)>=0?E:Y.UNKNOWN}(d.status);a(new se(w,d.message))}else a(new se(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(Y.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ce(_t,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ce(_t,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=sh(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=MR(),a=$R(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new UR({})),this.To(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");ce(_t,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,c=!1;const d=new AL({io:v=>{c?ce(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ce(_t,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ce(_t,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},ro:()=>f.close()}),w=(v,E,m)=>{v.listen(E,p=>{try{m(p)}catch(y){setTimeout(()=>{throw y},0)}})};return w(f,wl.EventType.OPEN,()=>{c||ce(_t,`RPC '${e}' stream ${i} transport opened.`)}),w(f,wl.EventType.CLOSE,()=>{c||(c=!0,ce(_t,`RPC '${e}' stream ${i} transport closed`),d.fo())}),w(f,wl.EventType.ERROR,v=>{c||(c=!0,Oo(_t,`RPC '${e}' stream ${i} transport errored:`,v),d.fo(new se(Y.UNAVAILABLE,"The operation could not be completed")))}),w(f,wl.EventType.MESSAGE,v=>{var E;if(!c){const m=v.data[0];je(!!m);const p=m,y=p.error||((E=p[0])===null||E===void 0?void 0:E.error);if(y){ce(_t,`RPC '${e}' stream ${i} received error:`,y);const g=y.status;let _=function(T){const b=Je[T];if(b!==void 0)return wS(b)}(g),O=y.message;_===void 0&&(_=Y.INTERNAL,O="Unknown error status: "+g+" with message "+y.message),c=!0,d.fo(new se(_,O)),f.close()}else ce(_t,`RPC '${e}' stream ${i} received:`,m),d._o(m)}}),w(a,jR.STAT_EVENT,v=>{v.stat===Py.PROXY?ce(_t,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Py.NOPROXY&&ce(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.lo()},0),d}}function ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){return new VP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.vo=r,this.Po=i,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Mo=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new AS(e,n)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,n){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,e!==4?this.Lo.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===n&&this.Xo(r,i)},r=>{e(()=>{const i=new se(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,n){const r=this.Yo(this.$o);this.stream=this.tu(e,n),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return n=>{this.si.enqueueAndForget(()=>this.$o===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RL extends xS{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}tu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.Lo.reset();const n=KP(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Ln(o.readTime):ge.min()}(e);return this.listener.eu(n,r)}nu(e){const n={};n.database=Gd(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=qd(a)?{documents:QP(i,a)}:{query:YP(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=TS(i,o.resumeToken);const l=Hd(i,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(ge.min())>0){s.readTime=ju(i,o.snapshotVersion.toTimestamp());const l=Hd(i,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=JP(this.serializer,e);r&&(n.labels=r),this.zo(n)}su(e){const n={};n.database=Gd(this.serializer),n.removeTarget=e,this.zo(n)}}class PL extends xS{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const n=GP(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.uu(r,n)}return je(!e.writeResults||e.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Gd(this.serializer),this.zo(e)}ou(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WP(this.serializer,r))};this.zo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.po(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(Y.UNKNOWN,i.toString())})}Ao(e,n,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ao(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(Y.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class DL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,e==="Online"&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ar(n),this.wu=!1):ce("OnlineStateTracker",n)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(s=>{r.enqueueAndForget(async()=>{Di(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=we(a);l.Au.add(4),await qa(l),l.Pu.set("Unknown"),l.Au.delete(4),await Kc(l)}(this))})}),this.Pu=new DL(r,i)}}async function Kc(t){if(Di(t))for(const e of t.Ru)await e(!0)}async function qa(t){for(const e of t.Ru)await e(!1)}function RS(t,e){const n=we(t);n.Eu.has(e.targetId)||(n.Eu.set(e.targetId,e),rg(n)?ng(n):Ko(n).Uo()&&tg(n,e))}function PS(t,e){const n=we(t),r=Ko(n);n.Eu.delete(e),r.Uo()&&LS(n,e),n.Eu.size===0&&(r.Uo()?r.Qo():Di(n)&&n.Pu.set("Unknown"))}function tg(t,e){if(t.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ko(t).nu(e)}function LS(t,e){t.bu.Lt(e),Ko(t).su(e)}function ng(t){t.bu=new jP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),he:e=>t.Eu.get(e)||null,oe:()=>t.datastore.serializer.databaseId}),Ko(t).start(),t.Pu.mu()}function rg(t){return Di(t)&&!Ko(t).qo()&&t.Eu.size>0}function Di(t){return we(t).Au.size===0}function DS(t){t.bu=void 0}async function $L(t){t.Eu.forEach((e,n)=>{tg(t,e)})}async function FL(t,e){DS(t),rg(t)?(t.Pu.pu(e),ng(t)):t.Pu.set("Unknown")}async function jL(t,e,n){if(t.Pu.set("Online"),e instanceof _S&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Eu.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Eu.delete(s),r.bu.removeTarget(s))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uu(t,r)}else if(e instanceof Ul?t.bu.Wt(e):e instanceof ES?t.bu.ee(e):t.bu.Yt(e),!n.isEqual(ge.min()))try{const r=await CS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.bu.ue(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Eu.get(l);u&&i.Eu.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const u=i.Eu.get(a);if(!u)return;i.Eu.set(a,u.withResumeToken(xt.EMPTY_BYTE_STRING,u.snapshotVersion)),LS(i,a);const f=new Cr(u.target,a,l,u.sequenceNumber);tg(i,f)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Uu(t,r)}}async function Uu(t,e,n){if(!ja(e))throw e;t.Au.add(1),await qa(t),t.Pu.set("Offline"),n||(n=()=>CS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.Au.delete(1),await Kc(t)})}function MS(t,e){return e().catch(n=>Uu(t,n,e))}async function Wc(t){const e=we(t),n=Wr(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;UL(e);)try{const i=await bL(e.localStore,r);if(i===null){e.Tu.length===0&&n.Qo();break}r=i.batchId,BL(e,i)}catch(i){await Uu(e,i)}$S(e)&&FS(e)}function UL(t){return Di(t)&&t.Tu.length<10}function BL(t,e){t.Tu.push(e);const n=Wr(t);n.Uo()&&n.ru&&n.ou(e.mutations)}function $S(t){return Di(t)&&!Wr(t).qo()&&t.Tu.length>0}function FS(t){Wr(t).start()}async function qL(t){Wr(t).au()}async function VL(t){const e=Wr(t);for(const n of t.Tu)e.ou(n.mutations)}async function zL(t,e,n){const r=t.Tu.shift(),i=Gm.from(r,e,n);await MS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Wc(t)}async function HL(t,e){e&&Wr(t).ru&&await async function(n,r){if(i=r.code,MP(i)&&i!==Y.ABORTED){const o=n.Tu.shift();Wr(n).Go(),await MS(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Wc(n)}var i}(t,e),$S(t)&&FS(t)}async function o0(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=Di(n);n.Au.add(3),await qa(n),r&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Au.delete(3),await Kc(n)}async function KL(t,e){const n=we(t);e?(n.Au.delete(2),await Kc(n)):e||(n.Au.add(2),await qa(n),n.Pu.set("Unknown"))}function Ko(t){return t.Vu||(t.Vu=function(e,n,r){const i=we(e);return i.lu(),new RL(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:$L.bind(null,t),co:FL.bind(null,t),eu:jL.bind(null,t)}),t.Ru.push(async e=>{e?(t.Vu.Go(),rg(t)?ng(t):t.Pu.set("Unknown")):(await t.Vu.stop(),DS(t))})),t.Vu}function Wr(t){return t.Su||(t.Su=function(e,n,r){const i=we(e);return i.lu(),new PL(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:qL.bind(null,t),co:HL.bind(null,t),cu:VL.bind(null,t),uu:zL.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Go(),await Wc(t)):(await t.Su.stop(),t.Tu.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.Tu.length} pending writes`),t.Tu=[]))})),t.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ig(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(t,e){if(ar("AsyncQueue",`${e}: ${t}`),ja(t))return new se(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=_s(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.Du=new We(fe.comparator)}track(e){const n=e.doc.key,r=this.Du.get(n);r?e.type!==0&&r.type===3?this.Du=this.Du.insert(n,e):e.type===3&&r.type!==1?this.Du=this.Du.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Du=this.Du.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Du=this.Du.remove(n):e.type===1&&r.type===2?this.Du=this.Du.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):de():this.Du=this.Du.insert(n,e)}Cu(){const e=[];return this.Du.inorderTraversal((n,r)=>{e.push(r)}),e}}class xo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new xo(e,n,po.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.xu=void 0,this.listeners=[]}}class GL{constructor(){this.queries=new Ho(e=>sS(e),Uc),this.onlineState="Unknown",this.Nu=new Set}}async function jS(t,e){const n=we(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new WL),i)try{o.xu=await n.onListen(r)}catch(s){const a=og(s,`Initialization of query '${zd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.ku(n.onlineState),o.xu&&e.Mu(o.xu)&&sg(n)}async function US(t,e){const n=we(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function QL(t,e){const n=we(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.Mu(i)&&(r=!0);s.xu=i}}r&&sg(n)}function YL(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function sg(t){t.Nu.forEach(e=>{e.next()})}class BS{constructor(e,n,r){this.query=e,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),n=!0):this.Lu(e,this.onlineState)&&(this.qu(e),n=!0),this.Fu=e,n}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let n=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),n=!0),n}Lu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Uu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Bu(e){if(e.docChanges.length>0)return!0;const n=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qu(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.key=e}}class VS{constructor(e){this.key=e}}class XL{constructor(e,n){this.query=e,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Se(),this.mutatedKeys=Se(),this.Zu=aS(e),this.tc=new po(this.Zu)}get ec(){return this.Ju}nc(e,n){const r=n?n.sc:new s0,i=n?n.tc:this.tc;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const c=i.get(f),d=Bc(this.query,h)?h:null,w=!!c&&this.mutatedKeys.has(c.key),v=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let E=!1;c&&d?c.data.isEqual(d.data)?w!==v&&(r.track({type:3,doc:d}),E=!0):this.ic(c,d)||(r.track({type:2,doc:d}),E=!0,(l&&this.Zu(d,l)>0||u&&this.Zu(d,u)<0)&&(a=!0)):!c&&d?(r.track({type:0,doc:d}),E=!0):c&&!d&&(r.track({type:1,doc:c}),E=!0,(l||u)&&(a=!0)),E&&(d?(s=s.add(d),o=v?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tc:s,sc:r,ji:a,mutatedKeys:o}}ic(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const o=e.sc.Cu();o.sort((u,f)=>function(h,c){const d=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return d(h)-d(c)}(u.type,f.type)||this.Zu(u.doc,f.doc)),this.rc(r);const s=n?this.oc():[],a=this.Xu.size===0&&this.current?1:0,l=a!==this.Yu;return this.Yu=a,o.length!==0||l?{snapshot:new xo(this.query,e.tc,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:s}:{uc:s}}ku(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tc:this.tc,sc:new s0,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(n=>this.Ju=this.Ju.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ju=this.Ju.delete(n)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Se(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const n=[];return e.forEach(r=>{this.Xu.has(r)||n.push(new VS(r))}),this.Xu.forEach(r=>{e.has(r)||n.push(new qS(r))}),n}ac(e){this.Ju=e.sr,this.Xu=Se();const n=this.nc(e.documents);return this.applyChanges(n,!0)}hc(){return xo.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,this.Yu===0,this.hasCachedResults)}}class JL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZL{constructor(e){this.key=e,this.lc=!1}}class eD{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fc={},this.dc=new Ho(a=>sS(a),Uc),this._c=new Map,this.wc=new Set,this.mc=new We(fe.comparator),this.gc=new Map,this.yc=new Jm,this.Ic={},this.Tc=new Map,this.Ec=Ao.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function tD(t,e){const n=fD(t);let r,i;const o=n.dc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.hc();else{const s=await kL(n.localStore,lr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await nD(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&RS(n.remoteStore,s)}return i}async function nD(t,e,n,r,i){t.Rc=(h,c,d)=>async function(w,v,E,m){let p=v.view.nc(E);p.ji&&(p=await n0(w.localStore,v.query,!1).then(({documents:_})=>v.view.nc(_,p)));const y=m&&m.targetChanges.get(v.targetId),g=v.view.applyChanges(p,w.isPrimaryClient,y);return l0(w,v.targetId,g.uc),g.snapshot}(t,h,c,d);const o=await n0(t.localStore,e,!0),s=new XL(e,o.sr),a=s.nc(o.documents),l=Ba.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);l0(t,n,u.uc);const f=new JL(e,n,s);return t.dc.set(e,f),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function rD(t,e){const n=we(t),r=n.dc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Uc(o,e))),void n.dc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),PS(n.remoteStore,r.targetId),Yd(n,r.targetId)}).catch(Fa)):(Yd(n,r.targetId),await Qd(n.localStore,r.targetId,!0))}async function iD(t,e,n){const r=hD(t);try{const i=await function(o,s){const a=we(o),l=ot.now(),u=s.reduce((c,d)=>c.add(d.key),Se());let f,h;return a.persistence.runTransaction("Locally write mutations","readwrite",c=>{let d=ur(),w=Se();return a.Xi.getEntries(c,u).next(v=>{d=v,d.forEach((E,m)=>{m.isValidDocument()||(w=w.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(c,d)).next(v=>{f=v;const E=[];for(const m of s){const p=xP(m,f.get(m.key).overlayedDocument);p!=null&&E.push(new Zr(m.key,p,JT(p.value.mapValue),Tn.exists(!0)))}return a.mutationQueue.addMutationBatch(c,l,E,s)}).next(v=>{h=v;const E=v.applyToLocalDocumentSet(f,w);return a.documentOverlayCache.saveOverlays(c,v.batchId,E)})}).then(()=>({batchId:h.batchId,changes:uS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Ic[o.currentUser.toKey()];l||(l=new We(Ce)),l=l.insert(s,a),o.Ic[o.currentUser.toKey()]=l}(r,i.batchId,n),await Va(r,i.changes),await Wc(r.remoteStore)}catch(i){const o=og(i,"Failed to persist write");n.reject(o)}}async function zS(t,e){const n=we(t);try{const r=await TL(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.gc.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.lc=!0:i.modifiedDocuments.size>0?je(s.lc):i.removedDocuments.size>0&&(je(s.lc),s.lc=!1))}),await Va(n,r,e)}catch(r){await Fa(r)}}function a0(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.dc.forEach((o,s)=>{const a=s.view.ku(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=we(o);a.onlineState=s;let l=!1;a.queries.forEach((u,f)=>{for(const h of f.listeners)h.ku(s)&&(l=!0)}),l&&sg(a)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oD(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.gc.get(e),o=i&&i.key;if(o){let s=new We(fe.comparator);s=s.insert(o,bt.newNoDocument(o,ge.min()));const a=Se().add(o),l=new zc(ge.min(),new Map,new We(Ce),s,a);await zS(r,l),r.mc=r.mc.remove(o),r.gc.delete(e),ag(r)}else await Qd(r.localStore,e,!1).then(()=>Yd(r,e,n)).catch(Fa)}async function sD(t,e){const n=we(t),r=e.batch.batchId;try{const i=await _L(n.localStore,e);KS(n,r,null),HS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Va(n,i)}catch(i){await Fa(i)}}async function aD(t,e,n){const r=we(t);try{const i=await function(o,s){const a=we(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(f=>(je(f!==null),u=f.keys(),a.mutationQueue.removeMutationBatch(l,f))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);KS(r,e,n),HS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Va(r,i)}catch(i){await Fa(i)}}function HS(t,e){(t.Tc.get(e)||[]).forEach(n=>{n.resolve()}),t.Tc.delete(e)}function KS(t,e,n){const r=we(t);let i=r.Ic[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function Yd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.dc.delete(r),n&&t.fc.vc(r,n);t._c.delete(e),t.isPrimaryClient&&t.yc.ps(e).forEach(r=>{t.yc.containsKey(r)||WS(t,r)})}function WS(t,e){t.wc.delete(e.path.canonicalString());const n=t.mc.get(e);n!==null&&(PS(t.remoteStore,n),t.mc=t.mc.remove(e),t.gc.delete(n),ag(t))}function l0(t,e,n){for(const r of n)r instanceof qS?(t.yc.addReference(r.key,e),lD(t,r)):r instanceof VS?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.yc.removeReference(r.key,e),t.yc.containsKey(r.key)||WS(t,r.key)):de()}function lD(t,e){const n=e.key,r=n.path.canonicalString();t.mc.get(n)||t.wc.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.wc.add(r),ag(t))}function ag(t){for(;t.wc.size>0&&t.mc.size<t.maxConcurrentLimboResolutions;){const e=t.wc.values().next().value;t.wc.delete(e);const n=new fe($e.fromString(e)),r=t.Ec.next();t.gc.set(r,new ZL(n)),t.mc=t.mc.insert(n,r),RS(t.remoteStore,new Cr(lr(Hm(n.path)),r,"TargetPurposeLimboResolution",jm.ct))}}async function Va(t,e,n){const r=we(t),i=[],o=[],s=[];r.dc.isEmpty()||(r.dc.forEach((a,l)=>{s.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const f=eg.Bi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.fc.eu(i),await async function(a,l){const u=we(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(l,h=>ee.forEach(h.$i,c=>u.persistence.referenceDelegate.addReference(f,h.targetId,c)).next(()=>ee.forEach(h.Fi,c=>u.persistence.referenceDelegate.removeReference(f,h.targetId,c)))))}catch(f){if(!ja(f))throw f;ce("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const h=f.targetId;if(!f.fromCache){const c=u.Hi.get(h),d=c.snapshotVersion,w=c.withLastLimboFreeSnapshotVersion(d);u.Hi=u.Hi.insert(h,w)}}}(r.localStore,o))}async function uD(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await IS(n.localStore,e);n.currentUser=e,function(i,o){i.Tc.forEach(s=>{s.forEach(a=>{a.reject(new se(Y.CANCELLED,o))})}),i.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Va(n,r.tr)}}function cD(t,e){const n=we(t),r=n.gc.get(e);if(r&&r.lc)return Se().add(r.key);{let i=Se();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.dc.get(s);i=i.unionWith(a.view.ec)}return i}}function fD(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oD.bind(null,e),e.fc.eu=QL.bind(null,e.eventManager),e.fc.vc=YL.bind(null,e.eventManager),e}function hD(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,e),e}class u0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return EL(this.persistence,new yL,e.initialUser,this.serializer)}createPersistence(e){return new gL(Zm.js,this.serializer)}createSharedClientState(e){return new NL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uD.bind(null,this.syncEngine),await KL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new GL}createDatastore(e){const n=Hc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new xL(i));var i;return function(o,s,a,l){return new LL(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>a0(this.syncEngine,a,0),s=i0.D()?new i0:new IL,new ML(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,u){const f=new eD(r,i,o,s,a,l);return u&&(f.Ac=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=we(e);ce("RemoteStore","RemoteStore shutting down."),n.Au.add(5),await qa(n),n.vu.shutdown(),n.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=QT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lh(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function c0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gD(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>o0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>o0(e.remoteStore,o)),t._onlineComponents=e}function mD(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function gD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await lh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!mD(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await lh(t,new u0)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await lh(t,new u0);return t._offlineComponents}async function QS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await c0(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await c0(t,new dD))),t._onlineComponents}function vD(t){return QS(t).then(e=>e.syncEngine)}async function YS(t){const e=await QS(t),n=e.eventManager;return n.onListen=tD.bind(null,e.syncEngine),n.onUnlisten=rD.bind(null,e.syncEngine),n}function yD(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new GS({next:h=>{o.enqueueAndForget(()=>US(i,f));const c=h.docs.has(s);!c&&h.fromCache?l.reject(new se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&h.fromCache&&a&&a.source==="server"?l.reject(new se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new BS(Hm(s.path),u,{includeMetadataChanges:!0,Uu:!0});return jS(i,f)}(await YS(t),t.asyncQueue,e,n,r)),r.promise}function wD(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new GS({next:h=>{o.enqueueAndForget(()=>US(i,f)),h.fromCache&&a.source==="server"?l.reject(new se(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new BS(s,u,{includeMetadataChanges:!0,Uu:!0});return jS(i,f)}(await YS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e,n){if(!n)throw new se(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ED(t,e,n,r){if(e===!0&&r===!0)throw new se(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h0(t){if(!fe.isDocumentKey(t))throw new se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function d0(t){if(fe.isDocumentKey(t))throw new se(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gc(t);throw new se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function _D(t,e){if(e<=0)throw new se(Y.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ED("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new VR;switch(n.type){case"firstParty":return new WR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=f0.get(e);n&&(ce("ComponentProvider","Removing Datastore"),f0.delete(e),n.terminate())}(this),Promise.resolve()}}function TD(t,e,n,r={}){var i;const o=(t=cr(t,Qc))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&Oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=Tt.MOCK_USER;else{s=E2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Tt(l)}t._authCredentials=new zR(new GT(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ei(this.firestore,e,this._query)}}class qr extends ei{constructor(e,n,r){super(e,n,Hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new fe(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Yc(t,e,...n){if(t=vt(t),XS("collection","path",e),t instanceof Qc){const r=$e.fromString(e,...n);return d0(r),new qr(t,null,r)}{if(!(t instanceof Ht||t instanceof qr))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return d0(r),new qr(t.firestore,null,r)}}function Xc(t,e,...n){if(t=vt(t),arguments.length===1&&(e=QT.A()),XS("doc","path",e),t instanceof Qc){const r=$e.fromString(e,...n);return h0(r),new Ht(t,null,new fe(r))}{if(!(t instanceof Ht||t instanceof qr))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return h0(r),new Ht(t.firestore,t instanceof qr?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new AS(this,"async_queue_retry"),this.Yc=()=>{const n=ah();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Lo.ko()};const e=ah();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const n=ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const n=new er;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!ja(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(e){const n=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{this.zc=r,this.Wc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Wc=!1,r))));return this.Kc=n,n}enqueueAfterDelay(e,n,r){this.Xc(),this.Jc.indexOf(e)>-1&&(n=0);const i=ig.createAndSchedule(this,e,n,r,o=>this.ea(o));return this.jc.push(i),i}Xc(){this.zc&&de()}verifyOperationInProgress(){}async na(){let e;do e=this.Kc,await e;while(e!==this.Kc)}sa(e){for(const n of this.jc)if(n.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.jc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const n=this.jc.indexOf(e);this.jc.splice(n,1)}}class Wo extends Qc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new SD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||JS(this),this._firestoreClient.terminate()}}function bD(t,e){const n=typeof t=="object"?t:B_(),r=typeof t=="string"?t:e||"(default)",i=mm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=v2("firestore");o&&TD(i,...o)}return i}function lg(t){return t._firestoreClient||JS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JS(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,u){return new oP(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new pD(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(xt.fromBase64String(e))}catch(n){throw new se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^__.*__$/;class OD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ua(e,this.data,n,this.fieldTransforms)}}class ZS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class fg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Bu(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(e.length===0)throw this._a("Document fields must not be empty");if(eb(this.ua)&&kD.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ND{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hc(e)}ga(e,n,r,i=!1){return new fg({ua:e,methodName:n,ma:r,path:kt.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(t){const e=t._freezeSettings(),n=Hc(t._databaseId);return new ND(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ID(t,e,n,r,i,o={}){const s=t.ga(o.merge||o.mergeFields?2:0,e,n,i);dg("Data must be an object, but it was:",s,r);const a=tb(r,s);let l,u;if(o.merge)l=new Qt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const c=Xd(e,h,n);if(!s.contains(c))throw new se(Y.INVALID_ARGUMENT,`Field '${c}' is specified in your field mask but missing from your input data.`);rb(f,c)||f.push(c)}l=new Qt(f),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new OD(new Ut(a),l,u)}class Zc extends ug{_toFieldTransform(e){if(e.ua!==2)throw e.ua===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zc}}function CD(t,e,n,r){const i=t.ga(1,e,n);dg("Data must be an object, but it was:",i,r);const o=[],s=Ut.empty();Li(r,(l,u)=>{const f=pg(e,l,n);u=vt(u);const h=i.fa(f);if(u instanceof Zc)o.push(f);else{const c=za(u,h);c!=null&&(o.push(f),s.set(f,c))}});const a=new Qt(o);return new ZS(s,a,i.fieldTransforms)}function AD(t,e,n,r,i,o){const s=t.ga(1,e,n),a=[Xd(e,r,n)],l=[i];if(o.length%2!=0)throw new se(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let c=0;c<o.length;c+=2)a.push(Xd(e,o[c])),l.push(o[c+1]);const u=[],f=Ut.empty();for(let c=a.length-1;c>=0;--c)if(!rb(u,a[c])){const d=a[c];let w=l[c];w=vt(w);const v=s.fa(d);if(w instanceof Zc)u.push(d);else{const E=za(w,v);E!=null&&(u.push(d),f.set(d,E))}}const h=new Qt(u);return new ZS(f,h,s.fieldTransforms)}function xD(t,e,n,r=!1){return za(n,t.ga(r?4:3,e))}function za(t,e){if(nb(t=vt(t)))return dg("Unsupported field value:",e,t),tb(t,e);if(t instanceof ug)return function(n,r){if(!eb(r.ua))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ha&&e.ua!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=za(s,r.da(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return kP(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ot.fromDate(n);return{timestampValue:ju(r.serializer,i)}}if(n instanceof ot){const i=new ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ju(r.serializer,i)}}if(n instanceof cg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ro)return{bytesValue:TS(r.serializer,n._byteString)};if(n instanceof Ht){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Gc(n)}`)}(t,e)}function tb(t,e){const n={};return YT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(t,(r,i)=>{const o=za(i,e.aa(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof cg||t instanceof Ro||t instanceof Ht||t instanceof ug)}function dg(t,e,n){if(!nb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Gc(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Xd(t,e,n){if((e=vt(e))instanceof Jc)return e._internalPath;if(typeof e=="string")return pg(t,e);throw Bu("Field path arguments must be of type string or ",t,!1,void 0,n)}const RD=new RegExp("[~\\*/\\[\\]]");function pg(t,e,n){if(e.search(RD)>=0)throw Bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jc(...e.split("."))._internalPath}catch{throw Bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new se(Y.INVALID_ARGUMENT,a+t+l)}function rb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PD extends ib{data(){return super.data()}}function mg(t,e){return typeof e=="string"?pg(t,e):e instanceof Jc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class vg extends gg{}function DD(t,e,...n){let r=[];e instanceof gg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof wg).length,s=i.filter(a=>a instanceof yg).length;if(o>1||o>0&&s>0)throw new se(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class yg extends vg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yg(e,n,r)}_apply(e){const n=this._parse(e);return ob(e._query,n),new ei(e.firestore,e.converter,Vd(e._query,n))}_parse(e){const n=hg(e.firestore);return function(i,o,s,a,l,u,f){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new se(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){g0(f,u);const c=[];for(const d of f)c.push(m0(a,i,d));h={arrayValue:{values:c}}}else h=m0(a,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||g0(f,u),h=xD(s,o,f,u==="in"||u==="not-in");return tt.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wg extends gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)ob(o,a),o=Vd(o,a)}(e._query,n),new ei(e.firestore,e.converter,Vd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends vg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Eg(e,n)}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new se(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new se(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new fo(i,o);return function(a,l){if(Km(a)===null){const u=jc(a);u!==null&&sb(a,u,l.field)}}(r,s),s}(e._query,this._field,this._direction);return new ei(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new zo(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function MD(t,e="asc"){const n=e,r=mg("orderBy",t);return Eg._create(r,n)}class _g extends vg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _g(e,n,r)}_apply(e){return new ei(e.firestore,e.converter,Mu(e._query,this._limit,this._limitType))}}function $D(t){return _D("limit",t),_g._create("limit",t,"F")}function m0(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new se(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oS(e)&&n.indexOf("/")!==-1)throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!fe.isDocumentKey(r))throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jy(t,new fe(r))}if(n instanceof Ht)return jy(t,n._key);throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gc(n)}.`)}function g0(t,e){if(!Array.isArray(t)||t.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ob(t,e){if(e.isInequality()){const r=jc(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new se(Y.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=Km(t);o!==null&&sb(t,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function sb(t,e,n){if(!n.isEqual(e))throw new se(Y.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class FD{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Li(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new cg(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fa(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);je(NS(r));const i=new ha(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(n)||ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ab extends ib{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bl extends ab{data(e={}){return super.data(e)}}class UD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ss(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bl(this._firestore,this._userDataWriter,r.key,r,new Ss(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Bl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ss(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Bl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ss(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:BD(s.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){t=cr(t,Ht);const e=cr(t.firestore,Wo);return yD(lg(e),t._key).then(n=>HD(e,t,n))}class ub extends FD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function qu(t){t=cr(t,ei);const e=cr(t.firestore,Wo),n=lg(e),r=new ub(e);return LD(t._query),wD(n,t._query).then(i=>new UD(e,r,t,i))}function qD(t,e,n,...r){t=cr(t,Ht);const i=cr(t.firestore,Wo),o=hg(i);let s;return s=typeof(e=vt(e))=="string"||e instanceof Jc?AD(o,"updateDoc",t._key,e,n,r):CD(o,"updateDoc",t._key,e),Tg(i,[s.toMutation(t._key,Tn.exists(!0))])}function VD(t){return Tg(cr(t.firestore,Wo),[new Wm(t._key,Tn.none())])}function zD(t,e){const n=cr(t.firestore,Wo),r=Xc(t),i=jD(t.converter,e);return Tg(n,[ID(hg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tn.exists(!1))]).then(()=>r)}function Tg(t,e){return function(n,r){const i=new er;return n.asyncQueue.enqueueAndForget(async()=>iD(await vD(n),r,i)),i.promise}(lg(t),e)}function HD(t,e,n){const r=n.docs.get(e._key),i=new ub(t);return new ab(t,i,e._key,r,new Ss(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Vo=n})(Uo),bo(new Ti("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Wo(new HR(n.getProvider("auth-internal")),new QR(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Br(Ly,"3.11.0",t),Br(Ly,"3.11.0","esm2017")})();var KD="firebase",WD="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(KD,WD,"app");function Sg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cb(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GD=cb,fb=new Na("auth","Firebase",cb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new dm("@firebase/auth");function QD(t,...e){Vu.logLevel<=Ne.WARN&&Vu.warn(`Auth (${Uo}): ${t}`,...e)}function ql(t,...e){Vu.logLevel<=Ne.ERROR&&Vu.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,...e){throw bg(t,...e)}function Dn(t,...e){return bg(t,...e)}function hb(t,e,n){const r=Object.assign(Object.assign({},GD()),{[e]:n});return new Na("auth","Firebase",r).create(e,{appName:t.name})}function YD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jn(t,"argument-error"),hb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fb.create(t,...e)}function pe(t,e,...n){if(!t)throw bg(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ql(e),new Error(e)}function fr(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function XD(){return v0()==="http:"||v0()==="https:"}function v0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XD()||T2()||"connection"in navigator)?navigator.onLine:!0}function ZD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=_2()||S2()}get(){return JD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Ha(3e4,6e4);function pb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ka(t,e,n,r,i={}){return mb(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ia(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),db.fetch()(gb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function mb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eM),e);try{const i=new rM(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw bl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw bl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw bl(t,"user-disabled",s);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hb(t,f,u);jn(t,f)}}catch(i){if(i instanceof pr)throw i;jn(t,"network-request-failed",{message:String(i)})}}async function nM(t,e,n,r,i={}){const o=await Ka(t,e,n,r,i);return"mfaPendingCredential"in o&&jn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function gb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?kg(t.config,i):`${t.config.apiScheme}://${i}`}class rM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),tM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e){return Ka(t,"POST","/v1/accounts:delete",e)}async function oM(t,e){return Ka(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sM(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=Og(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$s(uh(i.auth_time)),issuedAtTime:$s(uh(i.iat)),expirationTime:$s(uh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function uh(t){return Number(t)*1e3}function Og(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ql("JWT malformed, contained fewer than 3 sections"),null;try{const i=D_(n);return i?JSON.parse(i):(ql("Failed to decode base64 JWT payload"),null)}catch(i){return ql("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aM(t){const e=Og(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pr&&lM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$s(this.lastLoginAt),this.creationTime=$s(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ga(t,oM(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hM(o.providerUserInfo):[],a=fM(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vb(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function cM(t){const e=vt(t);await zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hM(t){return t.map(e=>{var{providerId:n}=e,r=Sg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e){const n=await mb(t,{},async()=>{const r=Ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=gb(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",db.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return pe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await dM(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new va;return r&&(pe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(pe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ga(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sM(this,e)}reload(){return cM(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ga(this,iM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,c=(i=n.email)!==null&&i!==void 0?i:void 0,d=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:y,emailVerified:g,isAnonymous:_,providerData:O,stsTokenManager:T}=n;pe(y&&T,e,"internal-error");const b=va.fromJSON(this.name,T);pe(typeof y=="string",e,"internal-error"),vr(h,e.name),vr(c,e.name),pe(typeof g=="boolean",e,"internal-error"),pe(typeof _=="boolean",e,"internal-error"),vr(d,e.name),vr(w,e.name),vr(v,e.name),vr(E,e.name),vr(m,e.name),vr(p,e.name);const A=new gi({uid:y,auth:e,email:c,emailVerified:g,displayName:h,isAnonymous:_,photoURL:w,phoneNumber:d,tenantId:v,stsTokenManager:b,createdAt:m,lastLoginAt:p});return O&&Array.isArray(O)&&(A.providerData=O.map(k=>Object.assign({},k))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new va;i.updateFromServerResponse(n);const o=new gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zu(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function Yn(t){fr(t instanceof Function,"Expected a class definition");let e=y0.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yb.type="NONE";const w0=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Vl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(Yn(w0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Yn(w0);const s=Vl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(s);if(f){const h=gi._fromJSON(e,f);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new mo(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new mo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sb(e))return"Blackberry";if(bb(e))return"Webos";if(Ng(e))return"Safari";if((e.includes("chrome/")||Eb(e))&&!e.includes("edge/"))return"Chrome";if(Tb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wb(t=At()){return/firefox\//i.test(t)}function Ng(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eb(t=At()){return/crios\//i.test(t)}function _b(t=At()){return/iemobile/i.test(t)}function Tb(t=At()){return/android/i.test(t)}function Sb(t=At()){return/blackberry/i.test(t)}function bb(t=At()){return/webos/i.test(t)}function ef(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pM(t=At()){var e;return ef(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mM(){return b2()&&document.documentMode===10}function kb(t=At()){return ef(t)||Tb(t)||bb(t)||Sb(t)||/windows phone/i.test(t)||_b(t)}function gM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e=[]){let n;switch(t){case"Browser":n=E0(At());break;case"Worker":n=`${E0(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}async function Nb(t,e){return Ka(t,"GET","/v2/recaptchaConfig",pb(t,e))}function _0(t){return t!==void 0&&t.enterprise!==void 0}class Ib{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Cb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Dn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",vM().appendChild(r)})}function yM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const wM="https://www.google.com/recaptcha/enterprise.js?render=",EM="recaptcha-enterprise",_M="NO_RECAPTCHA";class TM{constructor(e){this.type=EM,this.auth=Wa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Nb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Ib(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;_0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(_M)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&_0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}Cb(wM+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new SM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?vt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}async initializeRecaptchaConfig(){const e=await Nb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Ib(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new TM(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Na("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&QD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wa(t){return vt(t)}class T0{constructor(e){this.auth=e,this.observer=null,this.addObserver=x2(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e){const n=mm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Tu(o,e??{}))return i;jn(i,"already-initialized")}return n.initialize({options:e})}function OM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NM(t,e,n){const r=Wa(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Ab(e),{host:s,port:a}=IM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||CM()}function Ab(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IM(t){const e=Ab(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:S0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:S0(s)}}}function S0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return nM(t,"POST","/v1/accounts:signInWithIdp",pb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="http://localhost";class Ni extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Sg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ni(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:AM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ia(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ga{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Ga{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ni._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zn.credential(n,r)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ga{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ga{constructor(){super("twitter.com")}static credential(e,n){return Ni._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await gi._fromIdTokenResponse(e,r,i),s=b0(r);return new Po({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=b0(r);return new Po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function b0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends pr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hu(e,n,r,i)}}function Rb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hu._fromErrorAndOperation(t,o,e,r):o})}async function xM(t,e,n=!1){const r=await ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await ga(t,Rb(r,i,e,t),n);pe(o.idToken,r,"internal-error");const s=Og(o.idToken);pe(s,r,"internal-error");const{sub:a}=s;return pe(t.uid===a,r,"user-mismatch"),Po._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&jn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e,n=!1){const r="signIn",i=await Rb(t,r,e),o=await Po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function LM(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function DM(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function MM(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function $M(t){return vt(t).signOut()}const Ku="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(){const t=At();return Ng(t)||ef(t)}const jM=1e3,UM=10;class Lb extends Pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FM()&&gM(),this.fallbackToPolling=kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);mM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lb.type="LOCAL";const BM=Lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db extends Pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Db.type="SESSION";const Mb=Db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await qM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Cg("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const c=h;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(c.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function zM(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function HM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WM(){return $b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebaseLocalStorageDb",GM=1,Wu="firebaseLocalStorage",jb="fbase_key";class Qa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(t,e){return t.transaction([Wu],e?"readwrite":"readonly").objectStore(Wu)}function QM(){const t=indexedDB.deleteDatabase(Fb);return new Qa(t).toPromise()}function Zd(){const t=indexedDB.open(Fb,GM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wu,{keyPath:jb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wu)?e(r):(r.close(),await QM(),e(await Zd()))})})}async function k0(t,e,n){const r=nf(t,!0).put({[jb]:e,value:n});return new Qa(r).toPromise()}async function YM(t,e){const n=nf(t,!1).get(e),r=await new Qa(n).toPromise();return r===void 0?null:r.value}function O0(t,e){const n=nf(t,!0).delete(e);return new Qa(n).toPromise()}const XM=800,JM=3;class Ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(WM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HM(),!this.activeServiceWorker)return;this.sender=new VM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zd();return await k0(e,Ku,"1"),await O0(e,Ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=nf(i,!1).getAll();return new Qa(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ub.type="LOCAL";const ZM=Ub;new Ha(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){return e?Yn(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e$(t){return PM(t.auth,new Ag(t),t.bypassAuthState)}function t$(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),RM(n,new Ag(t),t.bypassAuthState)}async function n$(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),xM(n,new Ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e$;case"linkViaPopup":case"linkViaRedirect":return n$;case"reauthViaPopup":case"reauthViaRedirect":return t$;default:jn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=new Ha(2e3,1e4);async function i$(t,e,n){const r=Wa(t);YD(t,e,Ig);const i=Bb(r,n);return new hi(r,"signInViaPopup",e,i).executeNotNull()}class hi extends qb{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r$.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="pendingRedirect",zl=new Map;class s$ extends qb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zl.get(this.auth._key());if(!e){try{const r=await a$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zl.set(this.auth._key(),e)}return this.bypassAuthState||zl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a$(t,e){const n=c$(e),r=u$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function l$(t,e){zl.set(t._key(),e)}function u$(t){return Yn(t._redirectPersistence)}function c$(t){return Vl(o$,t.config.apiKey,t.name)}async function f$(t,e,n=!1){const r=Wa(t),i=Bb(r,e),s=await new s$(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=10*60*1e3;class d${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Vb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h$&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(e))}saveEventToCache(e){this.cachedEventUids.add(N0(e)),this.lastProcessedEventTime=Date.now()}}function N0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m$(t,e={}){return Ka(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v$=/^https?/;async function y$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m$(t);for(const n of e)try{if(w$(n))return}catch{}jn(t,"unauthorized-domain")}function w$(t){const e=Jd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!v$.test(n))return!1;if(g$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=new Ha(3e4,6e4);function I0(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _$(t){return new Promise((e,n)=>{var r,i,o;function s(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(Dn(t,"network-request-failed"))},timeout:E$.get()})}if(!((i=(r=Mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mn().gapi)===null||o===void 0)&&o.load)s();else{const a=yM("iframefcb");return Mn()[a]=()=>{gapi.load?s():n(Dn(t,"network-request-failed"))},Cb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hl=null,e})}let Hl=null;function T$(t){return Hl=Hl||_$(t),Hl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=new Ha(5e3,15e3),b$="__/auth/iframe",k$="emulator/auth/iframe",O$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I$(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kg(e,k$):`https://${t.config.authDomain}/${b$}`,r={apiKey:e.apiKey,appName:t.name,v:Uo},i=N$.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ia(r).slice(1)}`}async function C$(t){const e=await T$(t),n=Mn().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:I$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Dn(t,"network-request-failed"),a=Mn().setTimeout(()=>{o(s)},S$.get());function l(){Mn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x$=500,R$=600,P$="_blank",L$="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D$(t,e,n,r=x$,i=R$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},A$),{width:r.toString(),height:i.toString(),top:o,left:s}),u=At().toLowerCase();n&&(a=Eb(u)?P$:n),wb(u)&&(e=e||L$,l.scrollbars="yes");const f=Object.entries(l).reduce((c,[d,w])=>`${c}${d}=${w},`,"");if(pM(u)&&a!=="_self")return M$(e||"",a),new C0(null);const h=window.open(e||"",a,f);pe(h,t,"popup-blocked");try{h.focus()}catch{}return new C0(h)}function M$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="__/auth/handler",F$="emulator/auth/handler",j$=encodeURIComponent("fac");async function A0(t,e,n,r,i,o){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:i};if(e instanceof Ig){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",A2(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries(o||{}))s[f]=h}if(e instanceof Ga){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${j$}=${encodeURIComponent(l)}`:"";return`${U$(t)}?${Ia(a).slice(1)}${u}`}function U$({config:t}){return t.emulator?kg(t,F$):`https://${t.authDomain}/${$$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="webStorageSupport";class B${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mb,this._completeRedirectFn=f$,this._overrideRedirectResult=l$}async _openPopup(e,n,r,i){var o;fr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await A0(e,n,r,Jd(),i);return D$(e,s,Cg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await A0(e,n,r,Jd(),i);return zM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(fr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await C$(e),r=new d$(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ch,{type:ch},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[ch];s!==void 0&&n(!!s),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kb()||Ng()||ef()}}const q$=B$;var x0="@firebase/auth",R0="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function H$(t){bo(new Ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),pe(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ob(t)},u=new bM(r,i,o,l);return OM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new Ti("auth-internal",e=>{const n=Wa(e.getProvider("auth").getImmediate());return(r=>new V$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(x0,R0,z$(t)),Br(x0,R0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=5*60,W$=$_("authIdTokenMaxAge")||K$;let P0=null;const G$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W$)return;const i=n==null?void 0:n.token;P0!==i&&(P0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q$(t=B_()){const e=mm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kM(t,{popupRedirectResolver:q$,persistence:[ZM,BM,Mb]}),r=$_("authTokenSyncURL");if(r){const o=G$(r);DM(n,o,()=>o(n.currentUser)),LM(n,s=>o(s))}const i=M_("auth");return i&&NM(n,`http://${i}`),n}H$("Browser");const Y$={apiKey:"AIzaSyDBZLyfmV-Qw5Rqe9lp8wJCjuU4IpzRZd8",authDomain:"lokman-blog.firebaseapp.com",projectId:"lokman-blog",storageBucket:"lokman-blog.appspot.com",messagingSenderId:"189504006380",appId:"1:189504006380:web:977571cde229fc2c421dc9"},zb=U_(Y$),Ii=bD(zb),xg=Q$(zb),X$=new zn,L0=()=>{const[t,e]=D.useState([]);D.useEffect(()=>{(async()=>{const s=DD(Yc(Ii,"posts"),MD("createdAt","desc"),$D(10)),l=(await qu(s)).docs.map(u=>({...u.data(),id:u.id}));e(l)})()},[]);const n=[{src:a2,alt:"Welcome",caption:""},{src:l2,alt:"atchan coming soon",caption:""},{src:u2,alt:"Third slide",caption:""}],i=(o=>{const s=new Date(o),a=new Date;let l=a.getFullYear()-s.getFullYear();const u=a.getMonth()-s.getMonth();return(u<0||u===0&&a.getDate()<s.getDate())&&l--,l})("2001-11-21");return oe("div",{children:[M(r2,{images:n}),M("hr",{}),oe("div",{className:"bio-container",children:[M("h2",{children:"About Me"}),oe("p",{children:["Thank you for visiting my personal website! My name is Lokman RAMDANI, and I'm a ",i," year-old web developer who's passionate about the digital world. After obtaining a literary baccalaureate and studying the Japanese language abroad, I made the decision to reorient my career and focus on the field of web development."]}),M("h2",{children:"Education"}),oe("ul",{children:[M("li",{children:"2020: Baccalaurat Gnrale de Srie L - Lyce George Clemenceau"}),M("li",{children:"2021: Japanese Language Course (6 months) - Tokyo Galaxy, Tokyo, Japan"}),M("li",{children:"2022-2023: Web Developer and Web Mobile Course - ADRAR"})]}),M("h2",{children:"Work Experience"}),oe("ul",{children:[M("li",{children:"2021: Freelance Illustrator - Providing illustration services via the Fiverr platform."}),M("li",{children:"Mission Locale - Participated in an intensive program to facilitate education and employment opportunities."})]}),M("h2",{children:"Interests"}),oe("ul",{children:[M("li",{children:"Digital drawing (cartoon, manga)"}),M("li",{children:"Computer technology (hardware and software)"}),M("li",{children:"Social media activities: sharing illustrations, streaming"}),M("li",{children:"Traveling: I've been to Japan and Germany."})]})]}),M("hr",{}),oe("div",{className:"news-icons-wrapper",children:[oe("div",{children:[M("h1",{children:"News:"}),M("ul",{children:t.map(o=>M("li",{children:oe(sn,{to:`/post/${o.id}`,children:[new Date(o.createdAt).toLocaleDateString()," - ",o.title]})},o.id))})]}),oe("div",{className:"Projectsicon",children:[M("h1",{children:"Projects"}),M("div",{className:"project-container",children:oe(sn,{to:"/lokman/projects",children:[M("img",{className:"project_icons",src:i2,alt:"Amadeus Fan-Project Realisation 2.0"}),M("span",{children:"Fan-Project: Amadeus Reborn (name subject to change)"})]})}),M("div",{className:"project-container",children:oe(sn,{to:"/lokman/projects",children:[M("img",{className:"project_icons",src:s2,alt:"@Chan"}),M("span",{children:"@Chan (still in development)"})]})}),M("div",{className:"project-container",children:oe(sn,{to:"/lokman/projects",children:[M("img",{className:"project_icons",src:o2,alt:"Rakugaki"}),M("span",{children:"Rakugaki"})]})})]})]})]})},ya={_origin:"https://api.emailjs.com"},J$=(t,e="https://api.emailjs.com")=>{ya._userID=t,ya._origin=e},Hb=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class D0{constructor(e){this.status=e.status,this.text=e.responseText}}const Kb=(t,e,n={})=>new Promise((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const a=new D0(s);a.status===200||a.text==="OK"?r(a):i(a)}),o.addEventListener("error",({target:s})=>{i(new D0(s))}),o.open("POST",ya._origin+t,!0),Object.keys(n).forEach(s=>{o.setRequestHeader(s,n[s])}),o.send(e)}),Z$=(t,e,n,r)=>{const i=r||ya._userID;return Hb(i,t,e),Kb("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},e4=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},t4=(t,e,n,r)=>{const i=r||ya._userID,o=e4(n);Hb(i,t,e);const s=new FormData(o);return s.append("lib_version","3.2.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",i),Kb("/api/v1.0/email/send-form",s)},n4={init:J$,send:Z$,sendForm:t4},r4=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,o]=D.useState(""),[s,a]=D.useState(""),[l,u]=D.useState(""),[f,h]=D.useState({}),[c,d]=D.useState(!1),[w,v]=D.useState(!1),[E,m]=D.useState("");return oe("div",{className:"container",children:[M("h1",{children:"Contact Me"}),oe("form",{onSubmit:y=>{if(y.preventDefault(),!t||!n||!l){h({name:!t&&"Name is required",email:!n&&"Email is required",message:!l&&"Message is required"});return}d(!0);const g={from_name:t,from_email:n,phone:i,subject:s||"New message from your website",message:l};n4.send(window.REACT_APP_EMAILJS_SERVICE_ID,window.REACT_APP_EMAILJS_TEMPLATE_ID,g,window.REACT_APP_EMAILJS_USER_ID).then(_=>{console.log(_.text),d(!1),v(!0),e(""),r(""),o(""),a(""),u(""),h({})},_=>{console.log(_.text),d(!1),m("There was an error sending your email. Please try again later.")})},children:[oe("div",{className:"form-group",children:[M("label",{htmlFor:"name",children:"Name"}),M("input",{type:"text",className:`form-control ${f.name?"is-invalid":""}`,id:"name",value:t,onChange:y=>e(y.target.value),required:!0}),f.name&&M("div",{className:"invalid-feedback",children:f.name})]}),oe("div",{className:"form-group",children:[M("label",{htmlFor:"email",children:"Email"}),M("input",{type:"email",className:`form-control ${f.email?"is-invalid":""}`,id:"email",value:n,onChange:y=>r(y.target.value),required:!0}),f.email&&M("div",{className:"invalid-feedback",children:f.email})]}),oe("div",{className:"form-group",children:[M("label",{htmlFor:"phone",children:"Phone (optional)"}),M("input",{type:"tel",className:`form-control ${f.phone?"is-invalid":""}`,id:"phone",value:i,onChange:y=>o(y.target.value)}),f.phone&&M("div",{className:"invalid-feedback",children:f.phone})]}),oe("div",{className:"form-group",children:[M("label",{htmlFor:"subject",children:"Subject (optional)"}),M("input",{type:"text",className:"form-control",id:"subject",value:s,onChange:y=>a(y.target.value)})]}),oe("div",{className:"form-group",children:[M("label",{htmlFor:"message",children:"Message"}),M("textarea",{className:`form-control ${f.message?"is-invalid":""}`,id:"message",rows:"5",value:l,onChange:y=>u(y.target.value),required:!0}),f.message&&M("div",{className:"invalid-feedback",children:f.message})]}),c&&M("div",{className:"alert alert-info",role:"alert",children:"Sending your message..."}),w&&M("div",{className:"alert alert-success",role:"alert",children:"Your message has been sent. Thank you!"}),E&&M("div",{className:"alert alert-danger",role:"alert",children:E}),M("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Sending...":"Send"})]})]})},i4=()=>{const[t,e]=D.useState([]),n=Yc(Ii,"posts");return D.useEffect(()=>{(async()=>{const s=(await qu(n)).docs.map(a=>({...a.data(),id:a.id})).sort((a,l)=>new Date(l.createdAt)-new Date(a.createdAt));console.log(s),e(s)})()},[]),oe($n,{children:[M("div",{className:"blog_title",children:M("h1",{children:"NEWS:"})}),M("div",{className:"post_list",children:t.map(r=>oe("div",{className:"post",children:[M(sn,{to:`/post/${r.id}`,children:M("h1",{children:r.title})}),M("p",{children:new Date(r.createdAt).toLocaleString()}),M("hr",{})]},r.id))})]})},Wb=({isAuth:t,setIsAuth:e})=>{if(t)return null;let n=Oa();const r=()=>{i$(xg,X$).then(i=>{localStorage.setItem("isAuth",!0),e(!0),n("/lokman/blog")})};return D.useEffect(()=>{t&&n("/blog")},[t,n]),oe("div",{className:"login_page",children:[M("h1",{children:"Sign In with Google"}),M("button",{className:"login-with-google-btn",onClick:r,children:"Sign In with Google"})]})};function o4(){this.__data__=[],this.size=0}var s4=o4;function a4(t,e){return t===e||t!==t&&e!==e}var Gb=a4,l4=Gb;function u4(t,e){for(var n=t.length;n--;)if(l4(t[n][0],e))return n;return-1}var rf=u4,c4=rf,f4=Array.prototype,h4=f4.splice;function d4(t){var e=this.__data__,n=c4(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():h4.call(e,n,1),--this.size,!0}var p4=d4,m4=rf;function g4(t){var e=this.__data__,n=m4(e,t);return n<0?void 0:e[n][1]}var v4=g4,y4=rf;function w4(t){return y4(this.__data__,t)>-1}var E4=w4,_4=rf;function T4(t,e){var n=this.__data__,r=_4(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var S4=T4,b4=s4,k4=p4,O4=v4,N4=E4,I4=S4;function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=b4;Go.prototype.delete=k4;Go.prototype.get=O4;Go.prototype.has=N4;Go.prototype.set=I4;var of=Go,C4=of;function A4(){this.__data__=new C4,this.size=0}var x4=A4;function R4(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var P4=R4;function L4(t){return this.__data__.get(t)}var D4=L4;function M4(t){return this.__data__.has(t)}var $4=M4,F4=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,Qb=F4,j4=Qb,U4=typeof self=="object"&&self&&self.Object===Object&&self,B4=j4||U4||Function("return this")(),mr=B4,q4=mr,V4=q4.Symbol,Rg=V4,M0=Rg,Yb=Object.prototype,z4=Yb.hasOwnProperty,H4=Yb.toString,hs=M0?M0.toStringTag:void 0;function K4(t){var e=z4.call(t,hs),n=t[hs];try{t[hs]=void 0;var r=!0}catch{}var i=H4.call(t);return r&&(e?t[hs]=n:delete t[hs]),i}var W4=K4,G4=Object.prototype,Q4=G4.toString;function Y4(t){return Q4.call(t)}var X4=Y4,$0=Rg,J4=W4,Z4=X4,e3="[object Null]",t3="[object Undefined]",F0=$0?$0.toStringTag:void 0;function n3(t){return t==null?t===void 0?t3:e3:F0&&F0 in Object(t)?J4(t):Z4(t)}var sf=n3;function r3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xb=r3,i3=sf,o3=Xb,s3="[object AsyncFunction]",a3="[object Function]",l3="[object GeneratorFunction]",u3="[object Proxy]";function c3(t){if(!o3(t))return!1;var e=i3(t);return e==a3||e==l3||e==s3||e==u3}var Jb=c3,f3=mr,h3=f3["__core-js_shared__"],d3=h3,fh=d3,j0=function(){var t=/[^.]+$/.exec(fh&&fh.keys&&fh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function p3(t){return!!j0&&j0 in t}var m3=p3,g3=Function.prototype,v3=g3.toString;function y3(t){if(t!=null){try{return v3.call(t)}catch{}try{return t+""}catch{}}return""}var Zb=y3,w3=Jb,E3=m3,_3=Xb,T3=Zb,S3=/[\\^$.*+?()[\]{}|]/g,b3=/^\[object .+?Constructor\]$/,k3=Function.prototype,O3=Object.prototype,N3=k3.toString,I3=O3.hasOwnProperty,C3=RegExp("^"+N3.call(I3).replace(S3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function A3(t){if(!_3(t)||E3(t))return!1;var e=w3(t)?C3:b3;return e.test(T3(t))}var x3=A3;function R3(t,e){return t==null?void 0:t[e]}var P3=R3,L3=x3,D3=P3;function M3(t,e){var n=D3(t,e);return L3(n)?n:void 0}var Qo=M3,$3=Qo,F3=mr,j3=$3(F3,"Map"),Pg=j3,U3=Qo,B3=U3(Object,"create"),af=B3,U0=af;function q3(){this.__data__=U0?U0(null):{},this.size=0}var V3=q3;function z3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var H3=z3,K3=af,W3="__lodash_hash_undefined__",G3=Object.prototype,Q3=G3.hasOwnProperty;function Y3(t){var e=this.__data__;if(K3){var n=e[t];return n===W3?void 0:n}return Q3.call(e,t)?e[t]:void 0}var X3=Y3,J3=af,Z3=Object.prototype,e5=Z3.hasOwnProperty;function t5(t){var e=this.__data__;return J3?e[t]!==void 0:e5.call(e,t)}var n5=t5,r5=af,i5="__lodash_hash_undefined__";function o5(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r5&&e===void 0?i5:e,this}var s5=o5,a5=V3,l5=H3,u5=X3,c5=n5,f5=s5;function Yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yo.prototype.clear=a5;Yo.prototype.delete=l5;Yo.prototype.get=u5;Yo.prototype.has=c5;Yo.prototype.set=f5;var h5=Yo,B0=h5,d5=of,p5=Pg;function m5(){this.size=0,this.__data__={hash:new B0,map:new(p5||d5),string:new B0}}var g5=m5;function v5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var y5=v5,w5=y5;function E5(t,e){var n=t.__data__;return w5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var lf=E5,_5=lf;function T5(t){var e=_5(this,t).delete(t);return this.size-=e?1:0,e}var S5=T5,b5=lf;function k5(t){return b5(this,t).get(t)}var O5=k5,N5=lf;function I5(t){return N5(this,t).has(t)}var C5=I5,A5=lf;function x5(t,e){var n=A5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var R5=x5,P5=g5,L5=S5,D5=O5,M5=C5,$5=R5;function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=P5;Xo.prototype.delete=L5;Xo.prototype.get=D5;Xo.prototype.has=M5;Xo.prototype.set=$5;var ek=Xo,F5=of,j5=Pg,U5=ek,B5=200;function q5(t,e){var n=this.__data__;if(n instanceof F5){var r=n.__data__;if(!j5||r.length<B5-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new U5(r)}return n.set(t,e),this.size=n.size,this}var V5=q5,z5=of,H5=x4,K5=P4,W5=D4,G5=$4,Q5=V5;function Jo(t){var e=this.__data__=new z5(t);this.size=e.size}Jo.prototype.clear=H5;Jo.prototype.delete=K5;Jo.prototype.get=W5;Jo.prototype.has=G5;Jo.prototype.set=Q5;var Y5=Jo,X5="__lodash_hash_undefined__";function J5(t){return this.__data__.set(t,X5),this}var Z5=J5;function e9(t){return this.__data__.has(t)}var t9=e9,n9=ek,r9=Z5,i9=t9;function Gu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new n9;++e<n;)this.add(t[e])}Gu.prototype.add=Gu.prototype.push=r9;Gu.prototype.has=i9;var o9=Gu;function s9(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var a9=s9;function l9(t,e){return t.has(e)}var u9=l9,c9=o9,f9=a9,h9=u9,d9=1,p9=2;function m9(t,e,n,r,i,o){var s=n&d9,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),f=o.get(e);if(u&&f)return u==e&&f==t;var h=-1,c=!0,d=n&p9?new c9:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var w=t[h],v=e[h];if(r)var E=s?r(v,w,h,e,t,o):r(w,v,h,t,e,o);if(E!==void 0){if(E)continue;c=!1;break}if(d){if(!f9(e,function(m,p){if(!h9(d,p)&&(w===m||i(w,m,n,r,o)))return d.push(p)})){c=!1;break}}else if(!(w===v||i(w,v,n,r,o))){c=!1;break}}return o.delete(t),o.delete(e),c}var tk=m9,g9=mr,v9=g9.Uint8Array,y9=v9;function w9(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var E9=w9;function _9(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var T9=_9,q0=Rg,V0=y9,S9=Gb,b9=tk,k9=E9,O9=T9,N9=1,I9=2,C9="[object Boolean]",A9="[object Date]",x9="[object Error]",R9="[object Map]",P9="[object Number]",L9="[object RegExp]",D9="[object Set]",M9="[object String]",$9="[object Symbol]",F9="[object ArrayBuffer]",j9="[object DataView]",z0=q0?q0.prototype:void 0,hh=z0?z0.valueOf:void 0;function U9(t,e,n,r,i,o,s){switch(n){case j9:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case F9:return!(t.byteLength!=e.byteLength||!o(new V0(t),new V0(e)));case C9:case A9:case P9:return S9(+t,+e);case x9:return t.name==e.name&&t.message==e.message;case L9:case M9:return t==e+"";case R9:var a=k9;case D9:var l=r&N9;if(a||(a=O9),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=I9,s.set(t,e);var f=b9(a(t),a(e),r,i,o,s);return s.delete(t),f;case $9:if(hh)return hh.call(t)==hh.call(e)}return!1}var B9=U9;function q9(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var V9=q9,z9=Array.isArray,Lg=z9,H9=V9,K9=Lg;function W9(t,e,n){var r=e(t);return K9(t)?r:H9(r,n(t))}var G9=W9;function Q9(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Y9=Q9;function X9(){return[]}var J9=X9,Z9=Y9,eF=J9,tF=Object.prototype,nF=tF.propertyIsEnumerable,H0=Object.getOwnPropertySymbols,rF=H0?function(t){return t==null?[]:(t=Object(t),Z9(H0(t),function(e){return nF.call(t,e)}))}:eF,iF=rF;function oF(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sF=oF;function aF(t){return t!=null&&typeof t=="object"}var uf=aF,lF=sf,uF=uf,cF="[object Arguments]";function fF(t){return uF(t)&&lF(t)==cF}var hF=fF,K0=hF,dF=uf,nk=Object.prototype,pF=nk.hasOwnProperty,mF=nk.propertyIsEnumerable,gF=K0(function(){return arguments}())?K0:function(t){return dF(t)&&pF.call(t,"callee")&&!mF.call(t,"callee")},vF=gF,Qu={exports:{}};function yF(){return!1}var wF=yF;Qu.exports;(function(t,e){var n=mr,r=wF,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Qu,Qu.exports);var rk=Qu.exports,EF=9007199254740991,_F=/^(?:0|[1-9]\d*)$/;function TF(t,e){var n=typeof t;return e=e??EF,!!e&&(n=="number"||n!="symbol"&&_F.test(t))&&t>-1&&t%1==0&&t<e}var SF=TF,bF=9007199254740991;function kF(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bF}var ik=kF,OF=sf,NF=ik,IF=uf,CF="[object Arguments]",AF="[object Array]",xF="[object Boolean]",RF="[object Date]",PF="[object Error]",LF="[object Function]",DF="[object Map]",MF="[object Number]",$F="[object Object]",FF="[object RegExp]",jF="[object Set]",UF="[object String]",BF="[object WeakMap]",qF="[object ArrayBuffer]",VF="[object DataView]",zF="[object Float32Array]",HF="[object Float64Array]",KF="[object Int8Array]",WF="[object Int16Array]",GF="[object Int32Array]",QF="[object Uint8Array]",YF="[object Uint8ClampedArray]",XF="[object Uint16Array]",JF="[object Uint32Array]",Me={};Me[zF]=Me[HF]=Me[KF]=Me[WF]=Me[GF]=Me[QF]=Me[YF]=Me[XF]=Me[JF]=!0;Me[CF]=Me[AF]=Me[qF]=Me[xF]=Me[VF]=Me[RF]=Me[PF]=Me[LF]=Me[DF]=Me[MF]=Me[$F]=Me[FF]=Me[jF]=Me[UF]=Me[BF]=!1;function ZF(t){return IF(t)&&NF(t.length)&&!!Me[OF(t)]}var ej=ZF;function tj(t){return function(e){return t(e)}}var nj=tj,Yu={exports:{}};Yu.exports;(function(t,e){var n=Qb,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Yu,Yu.exports);var rj=Yu.exports,ij=ej,oj=nj,W0=rj,G0=W0&&W0.isTypedArray,sj=G0?oj(G0):ij,ok=sj,aj=sF,lj=vF,uj=Lg,cj=rk,fj=SF,hj=ok,dj=Object.prototype,pj=dj.hasOwnProperty;function mj(t,e){var n=uj(t),r=!n&&lj(t),i=!n&&!r&&cj(t),o=!n&&!r&&!i&&hj(t),s=n||r||i||o,a=s?aj(t.length,String):[],l=a.length;for(var u in t)(e||pj.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fj(u,l)))&&a.push(u);return a}var gj=mj,vj=Object.prototype;function yj(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vj;return t===n}var wj=yj;function Ej(t,e){return function(n){return t(e(n))}}var _j=Ej,Tj=_j,Sj=Tj(Object.keys,Object),bj=Sj,kj=wj,Oj=bj,Nj=Object.prototype,Ij=Nj.hasOwnProperty;function Cj(t){if(!kj(t))return Oj(t);var e=[];for(var n in Object(t))Ij.call(t,n)&&n!="constructor"&&e.push(n);return e}var Aj=Cj,xj=Jb,Rj=ik;function Pj(t){return t!=null&&Rj(t.length)&&!xj(t)}var Lj=Pj,Dj=gj,Mj=Aj,$j=Lj;function Fj(t){return $j(t)?Dj(t):Mj(t)}var jj=Fj,Uj=G9,Bj=iF,qj=jj;function Vj(t){return Uj(t,qj,Bj)}var zj=Vj,Q0=zj,Hj=1,Kj=Object.prototype,Wj=Kj.hasOwnProperty;function Gj(t,e,n,r,i,o){var s=n&Hj,a=Q0(t),l=a.length,u=Q0(e),f=u.length;if(l!=f&&!s)return!1;for(var h=l;h--;){var c=a[h];if(!(s?c in e:Wj.call(e,c)))return!1}var d=o.get(t),w=o.get(e);if(d&&w)return d==e&&w==t;var v=!0;o.set(t,e),o.set(e,t);for(var E=s;++h<l;){c=a[h];var m=t[c],p=e[c];if(r)var y=s?r(p,m,c,e,t,o):r(m,p,c,t,e,o);if(!(y===void 0?m===p||i(m,p,n,r,o):y)){v=!1;break}E||(E=c=="constructor")}if(v&&!E){var g=t.constructor,_=e.constructor;g!=_&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return o.delete(t),o.delete(e),v}var Qj=Gj,Yj=Qo,Xj=mr,Jj=Yj(Xj,"DataView"),Zj=Jj,e6=Qo,t6=mr,n6=e6(t6,"Promise"),r6=n6,i6=Qo,o6=mr,s6=i6(o6,"Set"),a6=s6,l6=Qo,u6=mr,c6=l6(u6,"WeakMap"),f6=c6,ep=Zj,tp=Pg,np=r6,rp=a6,ip=f6,sk=sf,Zo=Zb,Y0="[object Map]",h6="[object Object]",X0="[object Promise]",J0="[object Set]",Z0="[object WeakMap]",e1="[object DataView]",d6=Zo(ep),p6=Zo(tp),m6=Zo(np),g6=Zo(rp),v6=Zo(ip),oi=sk;(ep&&oi(new ep(new ArrayBuffer(1)))!=e1||tp&&oi(new tp)!=Y0||np&&oi(np.resolve())!=X0||rp&&oi(new rp)!=J0||ip&&oi(new ip)!=Z0)&&(oi=function(t){var e=sk(t),n=e==h6?t.constructor:void 0,r=n?Zo(n):"";if(r)switch(r){case d6:return e1;case p6:return Y0;case m6:return X0;case g6:return J0;case v6:return Z0}return e});var y6=oi,dh=Y5,w6=tk,E6=B9,_6=Qj,t1=y6,n1=Lg,r1=rk,T6=ok,S6=1,i1="[object Arguments]",o1="[object Array]",kl="[object Object]",b6=Object.prototype,s1=b6.hasOwnProperty;function k6(t,e,n,r,i,o){var s=n1(t),a=n1(e),l=s?o1:t1(t),u=a?o1:t1(e);l=l==i1?kl:l,u=u==i1?kl:u;var f=l==kl,h=u==kl,c=l==u;if(c&&r1(t)){if(!r1(e))return!1;s=!0,f=!1}if(c&&!f)return o||(o=new dh),s||T6(t)?w6(t,e,n,r,i,o):E6(t,e,l,n,r,i,o);if(!(n&S6)){var d=f&&s1.call(t,"__wrapped__"),w=h&&s1.call(e,"__wrapped__");if(d||w){var v=d?t.value():t,E=w?e.value():e;return o||(o=new dh),i(v,E,n,r,o)}}return c?(o||(o=new dh),_6(t,e,n,r,i,o)):!1}var O6=k6,N6=O6,a1=uf;function ak(t,e,n,r,i){return t===e?!0:t==null||e==null||!a1(t)&&!a1(e)?t!==t&&e!==e:N6(t,e,n,r,ak,i)}var I6=ak,C6=I6;function A6(t,e){return C6(t,e)}var x6=A6,lk={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Wt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),f=i(47),h=i(48),c=i(49),d=i(12),w=i(32),v=i(33),E=i(31),m=i(1),p={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:f.default,Inline:u.default,Text:c.default,Attributor:{Attribute:d.default,Class:w.default,Style:v.default,Store:E.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)p.hasOwnProperty(y)&&(m[y]=p[y])};return function(m,p){E(m,p);function y(){this.constructor=m}m.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(E){o(m,E);function m(p){var y=this;return p="[Parchment] "+p,y=E.call(this,p)||this,y.message=p,y.name=y.constructor.name,y}return m}(Error);r.ParchmentError=s;var a={},l={},u={},f={};r.DATA_KEY="__blot";var h;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function c(E,m){var p=w(E);if(p==null)throw new s("Unable to create "+E+" blot");var y=p,g=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:y.create(m);return new y(g,m)}r.create=c;function d(E,m){return m===void 0&&(m=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:m?d(E.parentNode,m):null}r.find=d;function w(E,m){m===void 0&&(m=h.ANY);var p;if(typeof E=="string")p=f[E]||a[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)p=f.text;else if(typeof E=="number")E&h.LEVEL&h.BLOCK?p=f.block:E&h.LEVEL&h.INLINE&&(p=f.inline);else if(E instanceof HTMLElement){var y=(E.getAttribute("class")||"").split(/\s+/);for(var g in y)if(p=l[y[g]],p)break;p=p||u[E.tagName]}return p==null?null:m&h.LEVEL&p.scope&&m&h.TYPE&p.scope?p:null}r.query=w;function v(){for(var E=[],m=0;m<arguments.length;m++)E[m]=arguments[m];if(E.length>1)return E.map(function(g){return v(g)});var p=E[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(f[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(g){return g.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var y=Array.isArray(p.tagName)?p.tagName:[p.tagName];y.forEach(function(g){(u[g]==null||p.className==null)&&(u[g]=p)})}return p}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u=String.fromCharCode(0),f=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};f.prototype.insert=function(h,c){var d={};return h.length===0?this:(d.insert=h,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d))},f.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},f.prototype.retain=function(h,c){if(h<=0)return this;var d={retain:h};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d)},f.prototype.push=function(h){var c=this.ops.length,d=this.ops[c-1];if(h=a(!0,{},h),typeof d=="object"){if(typeof h.delete=="number"&&typeof d.delete=="number")return this.ops[c-1]={delete:d.delete+h.delete},this;if(typeof d.delete=="number"&&h.insert!=null&&(c-=1,d=this.ops[c-1],typeof d!="object"))return this.ops.unshift(h),this;if(s(h.attributes,d.attributes)){if(typeof h.insert=="string"&&typeof d.insert=="string")return this.ops[c-1]={insert:d.insert+h.insert},typeof h.attributes=="object"&&(this.ops[c-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof d.retain=="number")return this.ops[c-1]={retain:d.retain+h.retain},typeof h.attributes=="object"&&(this.ops[c-1].attributes=h.attributes),this}}return c===this.ops.length?this.ops.push(h):this.ops.splice(c,0,h),this},f.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},f.prototype.filter=function(h){return this.ops.filter(h)},f.prototype.forEach=function(h){this.ops.forEach(h)},f.prototype.map=function(h){return this.ops.map(h)},f.prototype.partition=function(h){var c=[],d=[];return this.forEach(function(w){var v=h(w)?c:d;v.push(w)}),[c,d]},f.prototype.reduce=function(h,c){return this.ops.reduce(h,c)},f.prototype.changeLength=function(){return this.reduce(function(h,c){return c.insert?h+l.length(c):c.delete?h-c.delete:h},0)},f.prototype.length=function(){return this.reduce(function(h,c){return h+l.length(c)},0)},f.prototype.slice=function(h,c){h=h||0,typeof c!="number"&&(c=1/0);for(var d=[],w=l.iterator(this.ops),v=0;v<c&&w.hasNext();){var E;v<h?E=w.next(h-v):(E=w.next(c-v),d.push(E)),v+=l.length(E)}return new f(d)},f.prototype.compose=function(h){var c=l.iterator(this.ops),d=l.iterator(h.ops),w=[],v=d.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var E=v.retain;c.peekType()==="insert"&&c.peekLength()<=E;)E-=c.peekLength(),w.push(c.next());v.retain-E>0&&d.next(v.retain-E)}for(var m=new f(w);c.hasNext()||d.hasNext();)if(d.peekType()==="insert")m.push(d.next());else if(c.peekType()==="delete")m.push(c.next());else{var p=Math.min(c.peekLength(),d.peekLength()),y=c.next(p),g=d.next(p);if(typeof g.retain=="number"){var _={};typeof y.retain=="number"?_.retain=p:_.insert=y.insert;var O=l.attributes.compose(y.attributes,g.attributes,typeof y.retain=="number");if(O&&(_.attributes=O),m.push(_),!d.hasNext()&&s(m.ops[m.ops.length-1],_)){var T=new f(c.rest());return m.concat(T).chop()}}else typeof g.delete=="number"&&typeof y.retain=="number"&&m.push(g)}return m.chop()},f.prototype.concat=function(h){var c=new f(this.ops.slice());return h.ops.length>0&&(c.push(h.ops[0]),c.ops=c.ops.concat(h.ops.slice(1))),c},f.prototype.diff=function(h,c){if(this.ops===h.ops)return new f;var d=[this,h].map(function(p){return p.map(function(y){if(y.insert!=null)return typeof y.insert=="string"?y.insert:u;var g=p===h?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),w=new f,v=o(d[0],d[1],c),E=l.iterator(this.ops),m=l.iterator(h.ops);return v.forEach(function(p){for(var y=p[1].length;y>0;){var g=0;switch(p[0]){case o.INSERT:g=Math.min(m.peekLength(),y),w.push(m.next(g));break;case o.DELETE:g=Math.min(y,E.peekLength()),E.next(g),w.delete(g);break;case o.EQUAL:g=Math.min(E.peekLength(),m.peekLength(),y);var _=E.next(g),O=m.next(g);s(_.insert,O.insert)?w.retain(g,l.attributes.diff(_.attributes,O.attributes)):w.push(O).delete(g);break}y-=g}}),w.chop()},f.prototype.eachLine=function(h,c){c=c||`
`;for(var d=l.iterator(this.ops),w=new f,v=0;d.hasNext();){if(d.peekType()!=="insert")return;var E=d.peek(),m=l.length(E)-d.peekLength(),p=typeof E.insert=="string"?E.insert.indexOf(c,m)-m:-1;if(p<0)w.push(d.next());else if(p>0)w.push(d.next(p));else{if(h(w,d.next(1).attributes||{},v)===!1)return;v+=1,w=new f}}w.length()>0&&h(w,{},v)},f.prototype.transform=function(h,c){if(c=!!c,typeof h=="number")return this.transformPosition(h,c);for(var d=l.iterator(this.ops),w=l.iterator(h.ops),v=new f;d.hasNext()||w.hasNext();)if(d.peekType()==="insert"&&(c||w.peekType()!=="insert"))v.retain(l.length(d.next()));else if(w.peekType()==="insert")v.push(w.next());else{var E=Math.min(d.peekLength(),w.peekLength()),m=d.next(E),p=w.next(E);if(m.delete)continue;p.delete?v.push(p):v.retain(E,l.attributes.transform(m.attributes,p.attributes,c))}return v.chop()},f.prototype.transformPosition=function(h,c){c=!!c;for(var d=l.iterator(this.ops),w=0;d.hasNext()&&w<=h;){var v=d.peekLength(),E=d.peekType();if(d.next(),E==="delete"){h-=Math.min(v,h-w);continue}else E==="insert"&&(w<h||!c)&&(h+=v);w+=v}return h},n.exports=f},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},u=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var w=i.call(d,"constructor"),v=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!w&&!v)return!1;var E;for(E in d);return typeof E>"u"||i.call(d,E)},f=function(d,w){s&&w.name==="__proto__"?s(d,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):d[w.name]=w.newValue},h=function(d,w){if(w==="__proto__")if(i.call(d,w)){if(a)return a(d,w).value}else return;return d[w]};n.exports=function c(){var d,w,v,E,m,p,y=arguments[0],g=1,_=arguments.length,O=!1;for(typeof y=="boolean"&&(O=y,y=arguments[1]||{},g=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});g<_;++g)if(d=arguments[g],d!=null)for(w in d)v=h(y,w),E=h(d,w),y!==E&&(O&&E&&(u(E)||(m=l(E)))?(m?(m=!1,p=v&&l(v)?v:[]):p=v&&u(v)?v:{},f(y,{name:w,newValue:c(O,p,E)})):typeof E<"u"&&f(y,{name:w,newValue:E}));return y}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function S(N,C){for(var R=0;R<C.length;R++){var F=C[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(N,F.key,F)}}return function(N,C,R){return C&&S(N.prototype,C),R&&S(N,R),N}}(),s=function S(N,C,R){N===null&&(N=Function.prototype);var F=Object.getOwnPropertyDescriptor(N,C);if(F===void 0){var z=Object.getPrototypeOf(N);return z===null?void 0:S(z,C,R)}else{if("value"in F)return F.value;var B=F.get;return B===void 0?void 0:B.call(R)}},a=i(3),l=y(a),u=i(2),f=y(u),h=i(0),c=y(h),d=i(16),w=y(d),v=i(6),E=y(v),m=i(7),p=y(m);function y(S){return S&&S.__esModule?S:{default:S}}function g(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function _(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function O(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var T=1,b=function(S){O(N,S);function N(){return g(this,N),_(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"attach",value:function(){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,F){var z=c.default.query(R,c.default.Scope.BLOCK_ATTRIBUTE);z!=null&&this.attributes.attribute(z,F)}},{key:"formatAt",value:function(R,F,z,B){this.format(z,B)}},{key:"insertAt",value:function(R,F,z){if(typeof F=="string"&&F.endsWith(`
`)){var B=c.default.create(A.blotName);this.parent.insertBefore(B,R===0?this:this.next),B.insertAt(0,F.slice(0,-1))}else s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,R,F,z)}}]),N}(c.default.Embed);b.scope=c.default.Scope.BLOCK_BLOT;var A=function(S){O(N,S);function N(C){g(this,N);var R=_(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C));return R.cache={},R}return o(N,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(R,F){return F.length()===0?R:R.insert(F.value(),k(F))},new f.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(R,F){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,R,F),this.cache={}}},{key:"formatAt",value:function(R,F,z,B){F<=0||(c.default.query(z,c.default.Scope.BLOCK)?R+F===this.length()&&this.format(z,B):s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,R,Math.min(F,this.length()-R-1),z,B),this.cache={})}},{key:"insertAt",value:function(R,F,z){if(z!=null)return s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,R,F,z);if(F.length!==0){var B=F.split(`
`),H=B.shift();H.length>0&&(R<this.length()-1||this.children.tail==null?s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var j=this;B.reduce(function(L,I){return j=j.split(L,!0),j.insertAt(0,I),I.length},R+H.length)}}},{key:"insertBefore",value:function(R,F){var z=this.children.head;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,R,F),z instanceof w.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(R,F){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"moveChildren",this).call(this,R,F),this.cache={}}},{key:"optimize",value:function(R){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F&&(R===0||R>=this.length()-T)){var z=this.clone();return R===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}else{var B=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"split",this).call(this,R,F);return this.cache={},B}}}]),N}(c.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[E.default,c.default.Embed,p.default];function k(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(N=(0,l.default)(N,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?N:k(S.parent,N)}r.bubbleFormats=k,r.BlockEmbed=b,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(L,I){var P=[],$=!0,V=!1,q=void 0;try{for(var x=L[Symbol.iterator](),U;!($=(U=x.next()).done)&&(P.push(U.value),!(I&&P.length===I));$=!0);}catch(K){V=!0,q=K}finally{try{!$&&x.return&&x.return()}finally{if(V)throw q}}return P}return function(L,I){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return j(L,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(L,I){for(var P=0;P<I.length;P++){var $=I[P];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,I,P){return I&&j(L.prototype,I),P&&j(L,P),L}}();i(50);var l=i(2),u=k(l),f=i(14),h=k(f),c=i(8),d=k(c),w=i(9),v=k(w),E=i(0),m=k(E),p=i(15),y=k(p),g=i(3),_=k(g),O=i(10),T=k(O),b=i(34),A=k(b);function k(j){return j&&j.__esModule?j:{default:j}}function S(j,L,I){return L in j?Object.defineProperty(j,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):j[L]=I,j}function N(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}var C=(0,T.default)("quill"),R=function(){a(j,null,[{key:"debug",value:function(I){I===!0&&(I="log"),T.default.level(I)}},{key:"find",value:function(I){return I.__quill||m.default.find(I)}},{key:"import",value:function(I){return this.imports[I]==null&&C.error("Cannot import "+I+". Are you sure it was registered?"),this.imports[I]}},{key:"register",value:function(I,P){var $=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof I!="string"){var q=I.attrName||I.blotName;typeof q=="string"?this.register("formats/"+q,I,P):Object.keys(I).forEach(function(x){$.register(x,I[x],P)})}else this.imports[I]!=null&&!V&&C.warn("Overwriting "+I+" with",P),this.imports[I]=P,(I.startsWith("blots/")||I.startsWith("formats/"))&&P.blotName!=="abstract"?m.default.register(P):I.startsWith("modules")&&typeof P.register=="function"&&P.register()}}]);function j(L){var I=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,j),this.options=F(L,P),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",L);this.options.debug&&j.debug(this.options.debug);var $=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new y.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(q){q===d.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(q,x){var U=I.selection.lastRange,K=U&&U.length===0?U.index:void 0;z.call(I,function(){return I.editor.update(null,x,K)},q)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+$+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(j,[{key:"addContainer",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof I=="string"){var $=I;I=document.createElement("div"),I.classList.add($)}return this.container.insertBefore(I,P),I}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(I,P,$){var V=this,q=B(I,P,$),x=s(q,4);return I=x[0],P=x[1],$=x[3],z.call(this,function(){return V.editor.deleteText(I,P)},$,I,-1*P)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(I),this.container.classList.toggle("ql-disabled",!I)}},{key:"focus",value:function(){var I=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=I,this.scrollIntoView()}},{key:"format",value:function(I,P){var $=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return z.call(this,function(){var q=$.getSelection(!0),x=new u.default;if(q==null)return x;if(m.default.query(I,m.default.Scope.BLOCK))x=$.editor.formatLine(q.index,q.length,S({},I,P));else{if(q.length===0)return $.selection.format(I,P),x;x=$.editor.formatText(q.index,q.length,S({},I,P))}return $.setSelection(q,d.default.sources.SILENT),x},V)}},{key:"formatLine",value:function(I,P,$,V,q){var x=this,U=void 0,K=B(I,P,$,V,q),W=s(K,4);return I=W[0],P=W[1],U=W[2],q=W[3],z.call(this,function(){return x.editor.formatLine(I,P,U)},q,I,0)}},{key:"formatText",value:function(I,P,$,V,q){var x=this,U=void 0,K=B(I,P,$,V,q),W=s(K,4);return I=W[0],P=W[1],U=W[2],q=W[3],z.call(this,function(){return x.editor.formatText(I,P,U)},q,I,0)}},{key:"getBounds",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=void 0;typeof I=="number"?$=this.selection.getBounds(I,P):$=this.selection.getBounds(I.index,I.length);var V=this.container.getBoundingClientRect();return{bottom:$.bottom-V.top,height:$.height,left:$.left-V.left,right:$.right-V.left,top:$.top-V.top,width:$.width}}},{key:"getContents",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,$=B(I,P),V=s($,2);return I=V[0],P=V[1],this.editor.getContents(I,P)}},{key:"getFormat",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof I=="number"?this.editor.getFormat(I,P):this.editor.getFormat(I.index,I.length)}},{key:"getIndex",value:function(I){return I.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(I){return this.scroll.leaf(I)}},{key:"getLine",value:function(I){return this.scroll.line(I)}},{key:"getLines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof I!="number"?this.scroll.lines(I.index,I.length):this.scroll.lines(I,P)}},{key:"getModule",value:function(I){return this.theme.modules[I]}},{key:"getSelection",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return I&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,$=B(I,P),V=s($,2);return I=V[0],P=V[1],this.editor.getText(I,P)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(I,P,$){var V=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j.sources.API;return z.call(this,function(){return V.editor.insertEmbed(I,P,$)},q,I)}},{key:"insertText",value:function(I,P,$,V,q){var x=this,U=void 0,K=B(I,0,$,V,q),W=s(K,4);return I=W[0],U=W[2],q=W[3],z.call(this,function(){return x.editor.insertText(I,P,U)},q,I,P.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(I,P,$){this.clipboard.dangerouslyPasteHTML(I,P,$)}},{key:"removeFormat",value:function(I,P,$){var V=this,q=B(I,P,$),x=s(q,4);return I=x[0],P=x[1],$=x[3],z.call(this,function(){return V.editor.removeFormat(I,P)},$,I)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(I){var P=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return z.call(this,function(){I=new u.default(I);var V=P.getLength(),q=P.editor.deleteText(0,V),x=P.editor.applyDelta(I),U=x.ops[x.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(P.editor.deleteText(P.getLength()-1,1),x.delete(1));var K=q.compose(x);return K},$)}},{key:"setSelection",value:function(I,P,$){if(I==null)this.selection.setRange(null,P||j.sources.API);else{var V=B(I,P,$),q=s(V,4);I=q[0],P=q[1],$=q[3],this.selection.setRange(new p.Range(I,P),$),$!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,$=new u.default().insert(I);return this.setContents($,P)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,P=this.scroll.update(I);return this.selection.update(I),P}},{key:"updateContents",value:function(I){var P=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return z.call(this,function(){return I=new u.default(I),P.editor.applyDelta(I,$)},$,!0)}}]),j}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=d.default.events,R.sources=d.default.sources,R.version="1.3.7",R.imports={delta:u.default,parchment:m.default,"core/module":v.default,"core/theme":A.default};function F(j,L){if(L=(0,_.default)(!0,{container:j,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===R.DEFAULTS.theme)L.theme=A.default;else if(L.theme=R.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var I=(0,_.default)(!0,{},L.theme.DEFAULTS);[I,L].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(q){V.modules[q]===!0&&(V.modules[q]={})})});var P=Object.keys(I.modules).concat(Object.keys(L.modules)),$=P.reduce(function(V,q){var x=R.import("modules/"+q);return x==null?C.error("Cannot load "+q+" module. Are you sure you registered it?"):V[q]=x.DEFAULTS||{},V},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,_.default)(!0,{},R.DEFAULTS,{modules:$},I,L),["bounds","container","scrollingContainer"].forEach(function(V){typeof L[V]=="string"&&(L[V]=document.querySelector(L[V]))}),L.modules=Object.keys(L.modules).reduce(function(V,q){return L.modules[q]&&(V[q]=L.modules[q]),V},{}),L}function z(j,L,I,P){if(this.options.strict&&!this.isEnabled()&&L===d.default.sources.USER)return new u.default;var $=I==null?null:this.getSelection(),V=this.editor.delta,q=j();if($!=null&&(I===!0&&(I=$.index),P==null?$=H($,q,L):P!==0&&($=H($,I,P,L)),this.setSelection($,d.default.sources.SILENT)),q.length()>0){var x,U=[d.default.events.TEXT_CHANGE,q,V,L];if((x=this.emitter).emit.apply(x,[d.default.events.EDITOR_CHANGE].concat(U)),L!==d.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,U)}}return q}function B(j,L,I,P,$){var V={};return typeof j.index=="number"&&typeof j.length=="number"?typeof L!="number"?($=P,P=I,I=L,L=j.length,j=j.index):(L=j.length,j=j.index):typeof L!="number"&&($=P,P=I,I=L,L=0),(typeof I>"u"?"undefined":o(I))==="object"?(V=I,$=P):typeof I=="string"&&(P!=null?V[I]=P:$=I),$=$||d.default.sources.API,[j,L,V,$]}function H(j,L,I,P){if(j==null)return null;var $=void 0,V=void 0;if(L instanceof u.default){var q=[j.index,j.index+j.length].map(function(W){return L.transformPosition(W,P!==d.default.sources.USER)}),x=s(q,2);$=x[0],V=x[1]}else{var U=[j.index,j.index+j.length].map(function(W){return W<L||W===L&&P===d.default.sources.USER?W:I>=0?W+I:Math.max(L,W+I)}),K=s(U,2);$=K[0],V=K[1]}return new p.Range($,V-$)}r.expandConfig=F,r.overload=B,r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),s=function E(m,p,y){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,y)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(y)}},a=i(7),l=h(a),u=i(0),f=h(u);function h(E){return E&&E.__esModule?E:{default:E}}function c(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function d(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function w(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var v=function(E){w(m,E);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"formatAt",value:function(y,g,_,O){if(m.compare(this.statics.blotName,_)<0&&f.default.query(_,f.default.Scope.BLOT)){var T=this.isolate(y,g);O&&T.wrap(_,O)}else s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,y,g,_,O)}},{key:"optimize",value:function(y){if(s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,y),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(y,g){var _=m.order.indexOf(y),O=m.order.indexOf(g);return _>=0||O>=0?_-O:y===g?0:y<g?-1:1}}]),m}(f.default.Inline);v.allowedChildren=[v,f.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(y,g){for(var _=0;_<g.length;_++){var O=g[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(y,O.key,O)}}return function(y,g,_){return g&&p(y.prototype,g),_&&p(y,_),y}}(),s=function p(y,g,_){y===null&&(y=Function.prototype);var O=Object.getOwnPropertyDescriptor(y,g);if(O===void 0){var T=Object.getPrototypeOf(y);return T===null?void 0:p(T,g,_)}else{if("value"in O)return O.value;var b=O.get;return b===void 0?void 0:b.call(_)}},a=i(54),l=h(a),u=i(10),f=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function c(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function d(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function w(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var v=(0,f.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(p){document.addEventListener(p,function(){for(var y=arguments.length,g=Array(y),_=0;_<y;_++)g[_]=arguments[_];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var T;(T=O.__quill.emitter).handleDOM.apply(T,g)}})})});var m=function(p){w(y,p);function y(){c(this,y);var g=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return g.listeners={},g.on("error",v.error),g}return o(y,[{key:"emit",value:function(){v.log.apply(v,arguments),s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(_){for(var O=arguments.length,T=Array(O>1?O-1:0),b=1;b<O;b++)T[b-1]=arguments[b];(this.listeners[_.type]||[]).forEach(function(A){var k=A.node,S=A.handler;(_.target===k||k.contains(_.target))&&S.apply(void 0,[_].concat(T))})}},{key:"listenDOM",value:function(_,O,T){this.listeners[_]||(this.listeners[_]=[]),this.listeners[_].push({node:O,handler:T})}}]),y}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var f,h=arguments.length,c=Array(h>1?h-1:0),d=1;d<h;d++)c[d-1]=arguments[d];(f=console)[u].apply(f,c)}}function l(u){return o.reduce(function(f,h){return f[h]=a.bind(console,h,u),f},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(c,d,w){return w||(w={}),c===d?!0:c instanceof Date&&d instanceof Date?c.getTime()===d.getTime():!c||!d||typeof c!="object"&&typeof d!="object"?w.strict?c===d:c==d:h(c,d,w)};function u(c){return c==null}function f(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function h(c,d,w){var v,E;if(u(c)||u(d)||c.prototype!==d.prototype)return!1;if(a(c))return a(d)?(c=o.call(c),d=o.call(d),l(c,d,w)):!1;if(f(c)){if(!f(d)||c.length!==d.length)return!1;for(v=0;v<c.length;v++)if(c[v]!==d[v])return!1;return!0}try{var m=s(c),p=s(d)}catch{return!1}if(m.length!=p.length)return!1;for(m.sort(),p.sort(),v=m.length-1;v>=0;v--)if(m[v]!=p[v])return!1;for(v=m.length-1;v>=0;v--)if(E=m[v],!l(c[E],d[E],w))return!1;return typeof c==typeof d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,f){f===void 0&&(f={}),this.attrName=l,this.keyName=u;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var f=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function b(A,k){var S=[],N=!0,C=!1,R=void 0;try{for(var F=A[Symbol.iterator](),z;!(N=(z=F.next()).done)&&(S.push(z.value),!(k&&S.length===k));N=!0);}catch(B){C=!0,R=B}finally{try{!N&&F.return&&F.return()}finally{if(C)throw R}}return S}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return b(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(A,k){for(var S=0;S<k.length;S++){var N=k[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,k,S){return k&&b(A.prototype,k),S&&b(A,S),A}}(),a=function b(A,k,S){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,k);if(N===void 0){var C=Object.getPrototypeOf(A);return C===null?void 0:b(C,k,S)}else{if("value"in N)return N.value;var R=N.get;return R===void 0?void 0:R.call(S)}},l=i(2),u=p(l),f=i(0),h=p(f),c=i(4),d=p(c),w=i(6),v=p(w),E=i(7),m=p(E);function p(b){return b&&b.__esModule?b:{default:b}}function y(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function g(b,A){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:b}function _(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}var O=function(b){_(A,b);function A(){return y(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(v.default);O.blotName="code",O.tagName="CODE";var T=function(b){_(A,b);function A(){return y(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"delta",value:function(){var S=this,N=this.domNode.textContent;return N.endsWith(`
`)&&(N=N.slice(0,-1)),N.split(`
`).reduce(function(C,R){return C.insert(R).insert(`
`,S.formats())},new u.default)}},{key:"format",value:function(S,N){if(!(S===this.statics.blotName&&N)){var C=this.descendant(m.default,this.length()-1),R=o(C,1),F=R[0];F!=null&&F.deleteAt(F.length()-1,1),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,S,N)}}},{key:"formatAt",value:function(S,N,C,R){if(N!==0&&!(h.default.query(C,h.default.Scope.BLOCK)==null||C===this.statics.blotName&&R===this.statics.formats(this.domNode))){var F=this.newlineIndex(S);if(!(F<0||F>=S+N)){var z=this.newlineIndex(S,!0)+1,B=F-z+1,H=this.isolate(z,B),j=H.next;H.format(C,R),j instanceof A&&j.formatAt(0,S-z+N-B,C,R)}}}},{key:"insertAt",value:function(S,N,C){if(C==null){var R=this.descendant(m.default,S),F=o(R,2),z=F[0],B=F[1];z.insertAt(B,N)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var C=this.domNode.textContent.slice(S).indexOf(`
`);return C>-1?S+C:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,S);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===N.statics.formats(N.domNode)&&(N.optimize(S),N.moveChildren(this),N.remove())}},{key:"replace",value:function(S){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(N){var C=h.default.find(N);C==null?N.parentNode.removeChild(N):C instanceof h.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(S){var N=a(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,S);return N.setAttribute("spellcheck",!1),N}},{key:"formats",value:function(){return!0}}]),A}(d.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",r.Code=O,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(L,I){var P=[],$=!0,V=!1,q=void 0;try{for(var x=L[Symbol.iterator](),U;!($=(U=x.next()).done)&&(P.push(U.value),!(I&&P.length===I));$=!0);}catch(K){V=!0,q=K}finally{try{!$&&x.return&&x.return()}finally{if(V)throw q}}return P}return function(L,I){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return j(L,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(L,I){for(var P=0;P<I.length;P++){var $=I[P];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,I,P){return I&&j(L.prototype,I),P&&j(L,P),L}}(),l=i(2),u=N(l),f=i(20),h=N(f),c=i(0),d=N(c),w=i(13),v=N(w),E=i(24),m=N(E),p=i(4),y=N(p),g=i(16),_=N(g),O=i(21),T=N(O),b=i(11),A=N(b),k=i(3),S=N(k);function N(j){return j&&j.__esModule?j:{default:j}}function C(j,L,I){return L in j?Object.defineProperty(j,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):j[L]=I,j}function R(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}var F=/^[ -~]*$/,z=function(){function j(L){R(this,j),this.scroll=L,this.delta=this.getDelta()}return a(j,[{key:"applyDelta",value:function(I){var P=this,$=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),I=H(I),I.reduce(function(q,x){var U=x.retain||x.delete||x.insert.length||1,K=x.attributes||{};if(x.insert!=null){if(typeof x.insert=="string"){var W=x.insert;W.endsWith(`
`)&&$&&($=!1,W=W.slice(0,-1)),q>=V&&!W.endsWith(`
`)&&($=!0),P.scroll.insertAt(q,W);var X=P.scroll.line(q),te=s(X,2),ue=te[0],he=te[1],le=(0,S.default)({},(0,p.bubbleFormats)(ue));if(ue instanceof y.default){var Te=ue.descendant(d.default.Leaf,he),yt=s(Te,1),Ye=yt[0];le=(0,S.default)(le,(0,p.bubbleFormats)(Ye))}K=h.default.attributes.diff(le,K)||{}}else if(o(x.insert)==="object"){var G=Object.keys(x.insert)[0];if(G==null)return q;P.scroll.insertAt(q,G,x.insert[G])}V+=U}return Object.keys(K).forEach(function(Q){P.scroll.formatAt(q,U,Q,K[Q])}),q+U},0),I.reduce(function(q,x){return typeof x.delete=="number"?(P.scroll.deleteAt(q,x.delete),q):q+(x.retain||x.insert.length||1)},0),this.scroll.batchEnd(),this.update(I)}},{key:"deleteText",value:function(I,P){return this.scroll.deleteAt(I,P),this.update(new u.default().retain(I).delete(P))}},{key:"formatLine",value:function(I,P){var $=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(q){if(!($.scroll.whitelist!=null&&!$.scroll.whitelist[q])){var x=$.scroll.lines(I,Math.max(P,1)),U=P;x.forEach(function(K){var W=K.length();if(!(K instanceof v.default))K.format(q,V[q]);else{var X=I-K.offset($.scroll),te=K.newlineIndex(X+U)-X+1;K.formatAt(X,te,q,V[q])}U-=W})}}),this.scroll.optimize(),this.update(new u.default().retain(I).retain(P,(0,T.default)(V)))}},{key:"formatText",value:function(I,P){var $=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(q){$.scroll.formatAt(I,P,q,V[q])}),this.update(new u.default().retain(I).retain(P,(0,T.default)(V)))}},{key:"getContents",value:function(I,P){return this.delta.slice(I,I+P)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(I,P){return I.concat(P.delta())},new u.default)}},{key:"getFormat",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=[],V=[];P===0?this.scroll.path(I).forEach(function(x){var U=s(x,1),K=U[0];K instanceof y.default?$.push(K):K instanceof d.default.Leaf&&V.push(K)}):($=this.scroll.lines(I,P),V=this.scroll.descendants(d.default.Leaf,I,P));var q=[$,V].map(function(x){if(x.length===0)return{};for(var U=(0,p.bubbleFormats)(x.shift());Object.keys(U).length>0;){var K=x.shift();if(K==null)return U;U=B((0,p.bubbleFormats)(K),U)}return U});return S.default.apply(S.default,q)}},{key:"getText",value:function(I,P){return this.getContents(I,P).filter(function($){return typeof $.insert=="string"}).map(function($){return $.insert}).join("")}},{key:"insertEmbed",value:function(I,P,$){return this.scroll.insertAt(I,P,$),this.update(new u.default().retain(I).insert(C({},P,$)))}},{key:"insertText",value:function(I,P){var $=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P=P.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(I,P),Object.keys(V).forEach(function(q){$.scroll.formatAt(I,P.length,q,V[q])}),this.update(new u.default().retain(I).insert(P,(0,T.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var I=this.scroll.children.head;return I.statics.blotName!==y.default.blotName||I.children.length>1?!1:I.children.head instanceof _.default}},{key:"removeFormat",value:function(I,P){var $=this.getText(I,P),V=this.scroll.line(I+P),q=s(V,2),x=q[0],U=q[1],K=0,W=new u.default;x!=null&&(x instanceof v.default?K=x.newlineIndex(U)-U+1:K=x.length()-U,W=x.delta().slice(U,U+K-1).insert(`
`));var X=this.getContents(I,P+K),te=X.diff(new u.default().insert($).concat(W)),ue=new u.default().retain(I).concat(te);return this.applyDelta(ue)}},{key:"update",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(P.length===1&&P[0].type==="characterData"&&P[0].target.data.match(F)&&d.default.find(P[0].target)){var q=d.default.find(P[0].target),x=(0,p.bubbleFormats)(q),U=q.offset(this.scroll),K=P[0].oldValue.replace(m.default.CONTENTS,""),W=new u.default().insert(K),X=new u.default().insert(q.value()),te=new u.default().retain(U).concat(W.diff(X,$));I=te.reduce(function(ue,he){return he.insert?ue.insert(he.insert,x):ue.push(he)},new u.default),this.delta=V.compose(I)}else this.delta=this.getDelta(),(!I||!(0,A.default)(V.compose(I),this.delta))&&(I=V.diff(this.delta,$));return I}}]),j}();function B(j,L){return Object.keys(L).reduce(function(I,P){return j[P]==null||(L[P]===j[P]?I[P]=L[P]:Array.isArray(L[P])?L[P].indexOf(j[P])<0&&(I[P]=L[P].concat([j[P]])):I[P]=[L[P],j[P]]),I},{})}function H(j){return j.reduce(function(L,I){if(I.insert===1){var P=(0,T.default)(I.attributes);return delete P.image,L.insert({image:I.attributes.image},P)}if(I.attributes!=null&&(I.attributes.list===!0||I.attributes.bullet===!0)&&(I=(0,T.default)(I),I.attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),typeof I.insert=="string"){var $=I.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert($,I.attributes)}return L.push(I)},new u.default)}r.default=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function b(A,k){var S=[],N=!0,C=!1,R=void 0;try{for(var F=A[Symbol.iterator](),z;!(N=(z=F.next()).done)&&(S.push(z.value),!(k&&S.length===k));N=!0);}catch(B){C=!0,R=B}finally{try{!N&&F.return&&F.return()}finally{if(C)throw R}}return S}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return b(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(A,k){for(var S=0;S<k.length;S++){var N=k[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,k,S){return k&&b(A.prototype,k),S&&b(A,S),A}}(),a=i(0),l=m(a),u=i(21),f=m(u),h=i(11),c=m(h),d=i(8),w=m(d),v=i(10),E=m(v);function m(b){return b&&b.__esModule?b:{default:b}}function p(b){if(Array.isArray(b)){for(var A=0,k=Array(b.length);A<b.length;A++)k[A]=b[A];return k}else return Array.from(b)}function y(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}var g=(0,E.default)("quill:selection"),_=function b(A){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;y(this,b),this.index=A,this.length=k},O=function(){function b(A,k){var S=this;y(this,b),this.emitter=k,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new _(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(N,C){N===w.default.events.TEXT_CHANGE&&C.length()>0&&S.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var N=S.getNativeRange();N!=null&&N.start.node!==S.cursor.textNode&&S.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(N,C){if(C.range){var R=C.range,F=R.startNode,z=R.startOffset,B=R.endNode,H=R.endOffset;S.setNativeRange(F,z,B,H)}}),this.update(w.default.sources.SILENT)}return s(b,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var S=k.cursor.restore();if(!S)return;setTimeout(function(){k.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var N=this.getNativeRange();if(!(N==null||!N.native.collapsed||l.default.query(k,l.default.Scope.BLOCK))){if(N.start.node!==this.cursor.textNode){var C=l.default.find(N.start.node,!1);if(C==null)return;if(C instanceof l.default.Leaf){var R=C.split(N.start.offset);C.parent.insertBefore(this.cursor,R)}else C.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(k,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();k=Math.min(k,N-1),S=Math.min(k+S,N-1)-k;var C=void 0,R=this.scroll.leaf(k),F=o(R,2),z=F[0],B=F[1];if(z==null)return null;var H=z.position(B,!0),j=o(H,2);C=j[0],B=j[1];var L=document.createRange();if(S>0){L.setStart(C,B);var I=this.scroll.leaf(k+S),P=o(I,2);if(z=P[0],B=P[1],z==null)return null;var $=z.position(B,!0),V=o($,2);return C=V[0],B=V[1],L.setEnd(C,B),L.getBoundingClientRect()}else{var q="left",x=void 0;return C instanceof Text?(B<C.data.length?(L.setStart(C,B),L.setEnd(C,B+1)):(L.setStart(C,B-1),L.setEnd(C,B),q="right"),x=L.getBoundingClientRect()):(x=z.domNode.getBoundingClientRect(),B>0&&(q="right")),{bottom:x.top+x.height,height:x.height,left:x[q],right:x[q],top:x.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var S=k.getRangeAt(0);if(S==null)return null;var N=this.normalizeNative(S);return g.info("getNativeRange",N),N}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var S=this.normalizedToRange(k);return[S,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var S=this,N=[[k.start.node,k.start.offset]];k.native.collapsed||N.push([k.end.node,k.end.offset]);var C=N.map(function(z){var B=o(z,2),H=B[0],j=B[1],L=l.default.find(H,!0),I=L.offset(S.scroll);return j===0?I:L instanceof l.default.Container?I+L.length():I+L.index(H,j)}),R=Math.min(Math.max.apply(Math,p(C)),this.scroll.length()-1),F=Math.min.apply(Math,[R].concat(p(C)));return new _(F,R-F)}},{key:"normalizeNative",value:function(k){if(!T(this.root,k.startContainer)||!k.collapsed&&!T(this.root,k.endContainer))return null;var S={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[S.start,S.end].forEach(function(N){for(var C=N.node,R=N.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>R)C=C.childNodes[R],R=0;else if(C.childNodes.length===R)C=C.lastChild,R=C instanceof Text?C.data.length:C.childNodes.length+1;else break;N.node=C,N.offset=R}),S}},{key:"rangeToNative",value:function(k){var S=this,N=k.collapsed?[k.index]:[k.index,k.index+k.length],C=[],R=this.scroll.length();return N.forEach(function(F,z){F=Math.min(R-1,F);var B=void 0,H=S.scroll.leaf(F),j=o(H,2),L=j[0],I=j[1],P=L.position(I,z!==0),$=o(P,2);B=$[0],I=$[1],C.push(B,I)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(k){var S=this.lastRange;if(S!=null){var N=this.getBounds(S.index,S.length);if(N!=null){var C=this.scroll.length()-1,R=this.scroll.line(Math.min(S.index,C)),F=o(R,1),z=F[0],B=z;if(S.length>0){var H=this.scroll.line(Math.min(S.index+S.length,C)),j=o(H,1);B=j[0]}if(!(z==null||B==null)){var L=k.getBoundingClientRect();N.top<L.top?k.scrollTop-=L.top-N.top:N.bottom>L.bottom&&(k.scrollTop+=N.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(k,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",k,S,N,C),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||N.parentNode==null))){var F=document.getSelection();if(F!=null)if(k!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||R||k!==z.startContainer||S!==z.startOffset||N!==z.endContainer||C!==z.endOffset){k.tagName=="BR"&&(S=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),N.tagName=="BR"&&(C=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var B=document.createRange();B.setStart(k,S),B.setEnd(N,C),F.removeAllRanges(),F.addRange(B)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof S=="string"&&(N=S,S=!1),g.info("setRange",k),k!=null){var C=this.rangeToNative(k);this.setNativeRange.apply(this,p(C).concat([S]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,S=this.lastRange,N=this.getRange(),C=o(N,2),R=C[0],F=C[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(S,this.lastRange)){var z;!this.composing&&F!=null&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[w.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(S),k];if((z=this.emitter).emit.apply(z,[w.default.events.EDITOR_CHANGE].concat(B)),k!==w.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,B)}}}}]),b}();function T(b,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),b.contains(A)}r.Range=_,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(0),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(m,p){m.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,m,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var w in d)d.hasOwnProperty(w)&&(c[w]=d[w])};return function(c,d){h(c,d);function w(){this.constructor=c}c.prototype=d===null?Object.create(d):(w.prototype=d.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(h){o(c,h);function c(d){var w=h.call(this,d)||this;return w.build(),w}return c.prototype.appendChild=function(d){this.insertBefore(d)},c.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},c.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var v=f(w);d.insertBefore(v,d.children.head||void 0)}catch(E){if(E instanceof l.ParchmentError)return;throw E}})},c.prototype.deleteAt=function(d,w){if(d===0&&w===this.length())return this.remove();this.children.forEachAt(d,w,function(v,E,m){v.deleteAt(E,m)})},c.prototype.descendant=function(d,w){var v=this.children.find(w),E=v[0],m=v[1];return d.blotName==null&&d(E)||d.blotName!=null&&E instanceof d?[E,m]:E instanceof c?E.descendant(d,m):[null,-1]},c.prototype.descendants=function(d,w,v){w===void 0&&(w=0),v===void 0&&(v=Number.MAX_VALUE);var E=[],m=v;return this.children.forEachAt(w,v,function(p,y,g){(d.blotName==null&&d(p)||d.blotName!=null&&p instanceof d)&&E.push(p),p instanceof c&&(E=E.concat(p.descendants(d,y,m))),m-=g}),E},c.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),h.prototype.detach.call(this)},c.prototype.formatAt=function(d,w,v,E){this.children.forEachAt(d,w,function(m,p,y){m.formatAt(p,y,v,E)})},c.prototype.insertAt=function(d,w,v){var E=this.children.find(d),m=E[0],p=E[1];if(m)m.insertAt(p,w,v);else{var y=v==null?l.create("text",w):l.create(w,v);this.appendChild(y)}},c.prototype.insertBefore=function(d,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return d instanceof v}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,w)},c.prototype.length=function(){return this.children.reduce(function(d,w){return d+w.length()},0)},c.prototype.moveChildren=function(d,w){this.children.forEach(function(v){d.insertBefore(v,w)})},c.prototype.optimize=function(d){if(h.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var w=l.create(this.statics.defaultChild);this.appendChild(w),w.optimize(d)}else this.remove()},c.prototype.path=function(d,w){w===void 0&&(w=!1);var v=this.children.find(d,w),E=v[0],m=v[1],p=[[this,d]];return E instanceof c?p.concat(E.path(m,w)):(E!=null&&p.push([E,m]),p)},c.prototype.removeChild=function(d){this.children.remove(d)},c.prototype.replace=function(d){d instanceof c&&d.moveChildren(this),h.prototype.replace.call(this,d)},c.prototype.split=function(d,w){if(w===void 0&&(w=!1),!w){if(d===0)return this;if(d===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(d,this.length(),function(E,m,p){E=E.split(m,w),v.appendChild(E)}),v},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(d,w){var v=this,E=[],m=[];d.forEach(function(p){p.target===v.domNode&&p.type==="childList"&&(E.push.apply(E,p.addedNodes),m.push.apply(m,p.removedNodes))}),m.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var y=l.find(p);y!=null&&(y.domNode.parentNode==null||y.domNode.parentNode===v.domNode)&&y.detach()}}),E.filter(function(p){return p.parentNode==v.domNode}).sort(function(p,y){return p===y?0:p.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var y=null;p.nextSibling!=null&&(y=l.find(p.nextSibling));var g=f(p);(g.next!=y||g.next==null)&&(g.parent!=null&&g.parent.removeChild(v),v.insertBefore(g,y||void 0))})},c}(a.default);function f(h){var c=l.find(h);if(c==null)try{c=l.create(h)}catch{c=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(w){c.domNode.appendChild(w)}),h.parentNode&&h.parentNode.replaceChild(c.domNode,h),c.attach()}return c}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var w in d)d.hasOwnProperty(w)&&(c[w]=d[w])};return function(c,d){h(c,d);function w(){this.constructor=c}c.prototype=d===null?Object.create(d):(w.prototype=d.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),f=function(h){o(c,h);function c(d){var w=h.call(this,d)||this;return w.attributes=new a.default(w.domNode),w}return c.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},c.prototype.format=function(d,w){var v=u.query(d);v instanceof s.default?this.attributes.attribute(v,w):w&&v!=null&&(d!==this.statics.blotName||this.formats()[d]!==w)&&this.replaceWith(d,w)},c.prototype.formats=function(){var d=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(d[this.statics.blotName]=w),d},c.prototype.replaceWith=function(d,w){var v=h.prototype.replaceWith.call(this,d,w);return this.attributes.copy(v),v},c.prototype.update=function(d,w){var v=this;h.prototype.update.call(this,d,w),d.some(function(E){return E.target===v.domNode&&E.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(d,w){var v=h.prototype.wrap.call(this,d,w);return v instanceof c&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},c}(l.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.value=function(h){return!0},f.prototype.index=function(h,c){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},f.prototype.position=function(h,c){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(d+=1),[this.parent.domNode,d]},f.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},f.scope=a.Scope.INLINE_BLOT,f}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,f,h){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var c=s(!0,{},f);h||(c=Object.keys(c).reduce(function(w,v){return c[v]!=null&&(w[v]=c[v]),w},{}));for(var d in u)u[d]!==void 0&&f[d]===void 0&&(c[d]=u[d]);return Object.keys(c).length>0?c:void 0},diff:function(u,f){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var h=Object.keys(u).concat(Object.keys(f)).reduce(function(c,d){return o(u[d],f[d])||(c[d]=f[d]===void 0?null:f[d]),c},{});return Object.keys(h).length>0?h:void 0},transform:function(u,f,h){if(typeof u!="object")return f;if(typeof f=="object"){if(!h)return f;var c=Object.keys(f).reduce(function(d,w){return u[w]===void 0&&(d[w]=f[w]),d},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var f=this.ops[this.index];if(f){var h=this.offset,c=a.length(f);if(u>=c-h?(u=c-h,this.index+=1,this.offset=0):this.offset+=u,typeof f.delete=="number")return{delete:u};var d={};return f.attributes&&(d.attributes=f.attributes),typeof f.retain=="number"?d.retain=u:typeof f.insert=="string"?d.insert=f.insert.substr(h,u):d.insert=f.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,f=this.index,h=this.next(),c=this.ops.slice(this.index);return this.offset=u,this.index=f,[h].concat(c)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,E){return E!=null&&v instanceof E}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,E,m,p,y){typeof E=="object"&&(m=E.depth,p=E.prototype,y=E.includeNonEnumerable,E=E.circular);var g=[],_=[],O=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof m>"u"&&(m=1/0);function T(b,A){if(b===null)return null;if(A===0)return b;var k,S;if(typeof b!="object")return b;if(o(b,s))k=new s;else if(o(b,a))k=new a;else if(o(b,l))k=new l(function(L,I){b.then(function(P){L(T(P,A-1))},function(P){I(T(P,A-1))})});else if(u.__isArray(b))k=[];else if(u.__isRegExp(b))k=new RegExp(b.source,w(b)),b.lastIndex&&(k.lastIndex=b.lastIndex);else if(u.__isDate(b))k=new Date(b.getTime());else{if(O&&Buffer.isBuffer(b))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(b.length):k=new Buffer(b.length),b.copy(k),k;o(b,Error)?k=Object.create(b):typeof p>"u"?(S=Object.getPrototypeOf(b),k=Object.create(S)):(k=Object.create(p),S=p)}if(E){var N=g.indexOf(b);if(N!=-1)return _[N];g.push(b),_.push(k)}o(b,s)&&b.forEach(function(L,I){var P=T(I,A-1),$=T(L,A-1);k.set(P,$)}),o(b,a)&&b.forEach(function(L){var I=T(L,A-1);k.add(I)});for(var C in b){var R;S&&(R=Object.getOwnPropertyDescriptor(S,C)),!(R&&R.set==null)&&(k[C]=T(b[C],A-1))}if(Object.getOwnPropertySymbols)for(var F=Object.getOwnPropertySymbols(b),C=0;C<F.length;C++){var z=F[C],B=Object.getOwnPropertyDescriptor(b,z);B&&!B.enumerable&&!y||(k[z]=T(b[z],A-1),B.enumerable||Object.defineProperty(k,z,{enumerable:!1}))}if(y)for(var H=Object.getOwnPropertyNames(b),C=0;C<H.length;C++){var j=H[C],B=Object.getOwnPropertyDescriptor(b,j);B&&B.enumerable||(k[j]=T(b[j],A-1),Object.defineProperty(k,j,{enumerable:!1}))}return k}return T(v,m)}u.clonePrototype=function(E){if(E===null)return null;var m=function(){};return m.prototype=E,new m};function f(v){return Object.prototype.toString.call(v)}u.__objToStr=f;function h(v){return typeof v=="object"&&f(v)==="[object Date]"}u.__isDate=h;function c(v){return typeof v=="object"&&f(v)==="[object Array]"}u.__isArray=c;function d(v){return typeof v=="object"&&f(v)==="[object RegExp]"}u.__isRegExp=d;function w(v){var E="";return v.global&&(E+="g"),v.ignoreCase&&(E+="i"),v.multiline&&(E+="m"),E}return u.__getRegExpFlags=w,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function k(S,N){var C=[],R=!0,F=!1,z=void 0;try{for(var B=S[Symbol.iterator](),H;!(R=(H=B.next()).done)&&(C.push(H.value),!(N&&C.length===N));R=!0);}catch(j){F=!0,z=j}finally{try{!R&&B.return&&B.return()}finally{if(F)throw z}}return C}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return k(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(S,N){for(var C=0;C<N.length;C++){var R=N[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,N,C){return N&&k(S.prototype,N),C&&k(S,C),S}}(),a=function k(S,N,C){S===null&&(S=Function.prototype);var R=Object.getOwnPropertyDescriptor(S,N);if(R===void 0){var F=Object.getPrototypeOf(S);return F===null?void 0:k(F,N,C)}else{if("value"in R)return R.value;var z=R.get;return z===void 0?void 0:z.call(C)}},l=i(0),u=g(l),f=i(8),h=g(f),c=i(4),d=g(c),w=i(16),v=g(w),E=i(13),m=g(E),p=i(25),y=g(p);function g(k){return k&&k.__esModule?k:{default:k}}function _(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function O(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function T(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}function b(k){return k instanceof d.default||k instanceof c.BlockEmbed}var A=function(k){T(S,k);function S(N,C){_(this,S);var R=O(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N));return R.emitter=C.emitter,Array.isArray(C.whitelist)&&(R.whitelist=C.whitelist.reduce(function(F,z){return F[z]=!0,F},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,R){var F=this.line(C),z=o(F,2),B=z[0],H=z[1],j=this.line(C+R),L=o(j,1),I=L[0];if(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,C,R),I!=null&&B!==I&&H>0){if(B instanceof c.BlockEmbed||I instanceof c.BlockEmbed){this.optimize();return}if(B instanceof m.default){var P=B.newlineIndex(B.length(),!0);if(P>-1&&(B=B.split(P+1),B===I)){this.optimize();return}}else if(I instanceof m.default){var $=I.newlineIndex(0);$>-1&&I.split($+1)}var V=I.children.head instanceof v.default?null:I.children.head;B.moveChildren(I,V),B.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,R,F,z){this.whitelist!=null&&!this.whitelist[F]||(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,C,R,F,z),this.optimize())}},{key:"insertAt",value:function(C,R,F){if(!(F!=null&&this.whitelist!=null&&!this.whitelist[R])){if(C>=this.length())if(F==null||u.default.query(R,u.default.Scope.BLOCK)==null){var z=u.default.create(this.statics.defaultChild);this.appendChild(z),F==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),z.insertAt(0,R,F)}else{var B=u.default.create(R,F);this.appendChild(B)}else a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,C,R,F);this.optimize()}}},{key:"insertBefore",value:function(C,R){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var F=u.default.create(this.statics.defaultChild);F.appendChild(C),C=F}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,C,R)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(b,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,F=function z(B,H,j){var L=[],I=j;return B.children.forEachAt(H,j,function(P,$,V){b(P)?L.push(P):P instanceof u.default.Container&&(L=L.concat(z(P,$,I))),I-=V}),L};return F(this,C,R)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,C,R),C.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,C,R))}},{key:"path",value:function(C){return a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var R=h.default.sources.USER;typeof C=="string"&&(R=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,R,C),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,R,C)}}}]),S}(u.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[d.default,c.BlockEmbed,y.default],r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s=function(){function x(U,K){var W=[],X=!0,te=!1,ue=void 0;try{for(var he=U[Symbol.iterator](),le;!(X=(le=he.next()).done)&&(W.push(le.value),!(K&&W.length===K));X=!0);}catch(Te){te=!0,ue=Te}finally{try{!X&&he.return&&he.return()}finally{if(te)throw ue}}return W}return function(U,K){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return x(U,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function x(U,K){for(var W=0;W<K.length;W++){var X=K[W];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(U,X.key,X)}}return function(U,K,W){return K&&x(U.prototype,K),W&&x(U,W),U}}(),l=i(21),u=k(l),f=i(11),h=k(f),c=i(3),d=k(c),w=i(2),v=k(w),E=i(20),m=k(E),p=i(0),y=k(p),g=i(5),_=k(g),O=i(10),T=k(O),b=i(9),A=k(b);function k(x){return x&&x.__esModule?x:{default:x}}function S(x,U,K){return U in x?Object.defineProperty(x,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):x[U]=K,x}function N(x,U){if(!(x instanceof U))throw new TypeError("Cannot call a class as a function")}function C(x,U){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:x}function R(x,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);x.prototype=Object.create(U&&U.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(x,U):x.__proto__=U)}var F=(0,T.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(x){R(U,x),a(U,null,[{key:"match",value:function(W,X){return X=q(X),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!X[te]!==W[te]&&X[te]!==null})?!1:X.key===(W.which||W.keyCode)}}]);function U(K,W){N(this,U);var X=C(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,W));return X.bindings={},Object.keys(X.options.bindings).forEach(function(te){te==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||X.options.bindings[te]&&X.addBinding(X.options.bindings[te])}),X.addBinding({key:U.keys.ENTER,shiftKey:null},P),X.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(X.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},j),X.addBinding({key:U.keys.DELETE},{collapsed:!0},L)):(X.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),X.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),X.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},I),X.addBinding({key:U.keys.DELETE},{collapsed:!1},I),X.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),X.listen(),X}return a(U,[{key:"addBinding",value:function(W){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ue=q(W);if(ue==null||ue.key==null)return F.warn("Attempted to add invalid keyboard binding",ue);typeof X=="function"&&(X={handler:X}),typeof te=="function"&&(te={handler:te}),ue=(0,d.default)(ue,X,te),this.bindings[ue.key]=this.bindings[ue.key]||[],this.bindings[ue.key].push(ue)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(X){if(!X.defaultPrevented){var te=X.which||X.keyCode,ue=(W.bindings[te]||[]).filter(function(Ue){return U.match(X,Ue)});if(ue.length!==0){var he=W.quill.getSelection();if(!(he==null||!W.quill.hasFocus())){var le=W.quill.getLine(he.index),Te=s(le,2),yt=Te[0],Ye=Te[1],G=W.quill.getLeaf(he.index),Q=s(G,2),ne=Q[0],ie=Q[1],J=he.length===0?[ne,ie]:W.quill.getLeaf(he.index+he.length),Ee=s(J,2),ve=Ee[0],_e=Ee[1],$t=ne instanceof y.default.Text?ne.value().slice(0,ie):"",hn=ve instanceof y.default.Text?ve.value().slice(_e):"",Le={collapsed:he.length===0,empty:he.length===0&&yt.length()<=1,format:W.quill.getFormat(he),offset:Ye,prefix:$t,suffix:hn},Ya=ue.some(function(Ue){if(Ue.collapsed!=null&&Ue.collapsed!==Le.collapsed||Ue.empty!=null&&Ue.empty!==Le.empty||Ue.offset!=null&&Ue.offset!==Le.offset)return!1;if(Array.isArray(Ue.format)){if(Ue.format.every(function(dn){return Le.format[dn]==null}))return!1}else if(o(Ue.format)==="object"&&!Object.keys(Ue.format).every(function(dn){return Ue.format[dn]===!0?Le.format[dn]!=null:Ue.format[dn]===!1?Le.format[dn]==null:(0,h.default)(Ue.format[dn],Le.format[dn])}))return!1;return Ue.prefix!=null&&!Ue.prefix.test(Le.prefix)||Ue.suffix!=null&&!Ue.suffix.test(Le.suffix)?!1:Ue.handler.call(W,he,Le)!==!0});Ya&&X.preventDefault()}}}})}}]),U}(A.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",_.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",_.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,K){K.format.indent!=null?this.quill.format("indent","-1",_.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,_.default.sources.USER)}},"indent code-block":$(!0),"outdent code-block":$(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,_.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(U){this.quill.history.cutoff();var K=new v.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(K,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,_.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,K){this.quill.format("list",!1,_.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,_.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var K=this.quill.getLine(U.index),W=s(K,2),X=W[0],te=W[1],ue=(0,d.default)({},X.formats(),{list:"checked"}),he=new v.default().retain(U.index).insert(`
`,ue).retain(X.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(he,_.default.sources.USER),this.quill.setSelection(U.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,K){var W=this.quill.getLine(U.index),X=s(W,2),te=X[0],ue=X[1],he=new v.default().retain(U.index).insert(`
`,K.format).retain(te.length()-ue-1).retain(1,{header:null});this.quill.updateContents(he,_.default.sources.USER),this.quill.setSelection(U.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,K){var W=K.prefix.length,X=this.quill.getLine(U.index),te=s(X,2),ue=te[0],he=te[1];if(he>W)return!0;var le=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(U.index," ",_.default.sources.USER),this.quill.history.cutoff();var Te=new v.default().retain(U.index-he).delete(W+1).retain(ue.length()-2-he).retain(1,{list:le});this.quill.updateContents(Te,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-W,_.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var K=this.quill.getLine(U.index),W=s(K,2),X=W[0],te=W[1],ue=new v.default().retain(U.index+X.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ue,_.default.sources.USER)}},"embed left":H(B.keys.LEFT,!1),"embed left shift":H(B.keys.LEFT,!0),"embed right":H(B.keys.RIGHT,!1),"embed right shift":H(B.keys.RIGHT,!0)}};function H(x,U){var K,W=x===B.keys.LEFT?"prefix":"suffix";return K={key:x,shiftKey:U,altKey:null},S(K,W,/^$/),S(K,"handler",function(te){var ue=te.index;x===B.keys.RIGHT&&(ue+=te.length+1);var he=this.quill.getLeaf(ue),le=s(he,1),Te=le[0];return Te instanceof y.default.Embed?(x===B.keys.LEFT?U?this.quill.setSelection(te.index-1,te.length+1,_.default.sources.USER):this.quill.setSelection(te.index-1,_.default.sources.USER):U?this.quill.setSelection(te.index,te.length+1,_.default.sources.USER):this.quill.setSelection(te.index+te.length+1,_.default.sources.USER),!1):!0}),K}function j(x,U){if(!(x.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(x.index),W=s(K,1),X=W[0],te={};if(U.offset===0){var ue=this.quill.getLine(x.index-1),he=s(ue,1),le=he[0];if(le!=null&&le.length()>1){var Te=X.formats(),yt=this.quill.getFormat(x.index-1,1);te=m.default.attributes.diff(Te,yt)||{}}}var Ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(x.index-Ye,Ye,_.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(x.index-Ye,Ye,te,_.default.sources.USER),this.quill.focus()}}function L(x,U){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(x.index>=this.quill.getLength()-K)){var W={},X=0,te=this.quill.getLine(x.index),ue=s(te,1),he=ue[0];if(U.offset>=he.length()-1){var le=this.quill.getLine(x.index+1),Te=s(le,1),yt=Te[0];if(yt){var Ye=he.formats(),G=this.quill.getFormat(x.index,1);W=m.default.attributes.diff(Ye,G)||{},X=yt.length()}}this.quill.deleteText(x.index,K,_.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(x.index+X-1,K,W,_.default.sources.USER)}}function I(x){var U=this.quill.getLines(x),K={};if(U.length>1){var W=U[0].formats(),X=U[U.length-1].formats();K=m.default.attributes.diff(X,W)||{}}this.quill.deleteText(x,_.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(x.index,1,K,_.default.sources.USER),this.quill.setSelection(x.index,_.default.sources.SILENT),this.quill.focus()}function P(x,U){var K=this;x.length>0&&this.quill.scroll.deleteAt(x.index,x.length);var W=Object.keys(U.format).reduce(function(X,te){return y.default.query(te,y.default.Scope.BLOCK)&&!Array.isArray(U.format[te])&&(X[te]=U.format[te]),X},{});this.quill.insertText(x.index,`
`,W,_.default.sources.USER),this.quill.setSelection(x.index+1,_.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(X){W[X]==null&&(Array.isArray(U.format[X])||X!=="link"&&K.quill.format(X,U.format[X],_.default.sources.USER))})}function $(x){return{key:B.keys.TAB,shiftKey:!x,format:{"code-block":!0},handler:function(K){var W=y.default.query("code-block"),X=K.index,te=K.length,ue=this.quill.scroll.descendant(W,X),he=s(ue,2),le=he[0],Te=he[1];if(le!=null){var yt=this.quill.getIndex(le),Ye=le.newlineIndex(Te,!0)+1,G=le.newlineIndex(yt+Te+te),Q=le.domNode.textContent.slice(Ye,G).split(`
`);Te=0,Q.forEach(function(ne,ie){x?(le.insertAt(Ye+Te,W.TAB),Te+=W.TAB.length,ie===0?X+=W.TAB.length:te+=W.TAB.length):ne.startsWith(W.TAB)&&(le.deleteAt(Ye+Te,W.TAB.length),Te-=W.TAB.length,ie===0?X-=W.TAB.length:te-=W.TAB.length),Te+=ne.length+1}),this.quill.update(_.default.sources.USER),this.quill.setSelection(X,te,_.default.sources.SILENT)}}}}function V(x){return{key:x[0].toUpperCase(),shortKey:!0,handler:function(K,W){this.quill.format(x,!W.format[x],_.default.sources.USER)}}}function q(x){if(typeof x=="string"||typeof x=="number")return q({key:x});if((typeof x>"u"?"undefined":o(x))==="object"&&(x=(0,u.default)(x,!1)),typeof x.key=="string")if(B.keys[x.key.toUpperCase()]!=null)x.key=B.keys[x.key.toUpperCase()];else if(x.key.length===1)x.key=x.key.toUpperCase().charCodeAt(0);else return null;return x.shortKey&&(x[z]=x.shortKey,delete x.shortKey),x}r.default=B,r.SHORTKEY=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,y){var g=[],_=!0,O=!1,T=void 0;try{for(var b=p[Symbol.iterator](),A;!(_=(A=b.next()).done)&&(g.push(A.value),!(y&&g.length===y));_=!0);}catch(k){O=!0,T=k}finally{try{!_&&b.return&&b.return()}finally{if(O)throw T}}return g}return function(p,y){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function m(p,y,g){p===null&&(p=Function.prototype);var _=Object.getOwnPropertyDescriptor(p,y);if(_===void 0){var O=Object.getPrototypeOf(p);return O===null?void 0:m(O,y,g)}else{if("value"in _)return _.value;var T=_.get;return T===void 0?void 0:T.call(g)}},a=function(){function m(p,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,y,g){return y&&m(p.prototype,y),g&&m(p,g),p}}(),l=i(0),u=c(l),f=i(7),h=c(f);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function w(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function v(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var E=function(m){v(p,m),a(p,null,[{key:"value",value:function(){}}]);function p(y,g){d(this,p);var _=w(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y));return _.selection=g,_.textNode=document.createTextNode(p.CONTENTS),_.domNode.appendChild(_.textNode),_._length=0,_}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,_){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,g,_);for(var O=this,T=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)T+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=p.CONTENTS.length,O.optimize(),O.formatAt(T,p.CONTENTS.length,g,_),this._length=0)}},{key:"index",value:function(g,_){return g===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,_)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,_=this.selection.getNativeRange(),O=void 0,T=void 0,b=void 0;if(_!=null&&_.start.node===g&&_.end.node===g){var A=[g,_.start.offset,_.end.offset];O=A[0],T=A[1],b=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var k=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof h.default?(O=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=p.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var S=[T,b].map(function(C){return Math.max(0,Math.min(O.data.length,C-1))}),N=o(S,2);return T=N[0],b=N[1],{startNode:O,startOffset:T,endNode:O,endOffset:b}}}}},{key:"update",value:function(g,_){var O=this;if(g.some(function(b){return b.type==="characterData"&&b.target===O.textNode})){var T=this.restore();T&&(_.range=T)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);d.allowedChildren=[l.default,a.BlockEmbed,d],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),s=function E(m,p,y){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,y)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(y)}},a=i(0),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function f(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function h(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function c(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var d=function(E){c(m,E);function m(){return f(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(y){var g=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,y);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(_){return("00"+parseInt(_).toString(16)).slice(-2)}).join("")):g}}]),m}(l.default.Attributor.Style),w=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new d("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=w,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(E,m){for(var p=0;p<m.length;p++){var y=m[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}return function(E,m,p){return m&&v(E.prototype,m),p&&v(E,p),E}}(),s=function v(E,m,p){E===null&&(E=Function.prototype);var y=Object.getOwnPropertyDescriptor(E,m);if(y===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:v(g,m,p)}else{if("value"in y)return y.value;var _=y.get;return _===void 0?void 0:_.call(p)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function h(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function c(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var d=function(v){c(E,v);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(p,y){if(p!==this.statics.blotName||!y)return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,p,y);y=this.constructor.sanitize(y),this.domNode.setAttribute("href",y)}}],[{key:"create",value:function(p){var y=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,p);return p=this.sanitize(p),y.setAttribute("href",p),y.setAttribute("rel","noopener noreferrer"),y.setAttribute("target","_blank"),y}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return w(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),E}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(v,E){var m=document.createElement("a");m.href=v;var p=m.href.slice(0,m.href.indexOf(":"));return E.indexOf(p)>-1}r.default=d,r.sanitize=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),a=i(23),l=h(a),u=i(107),f=h(u);function h(E){return E&&E.__esModule?E:{default:E}}function c(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}var d=0;function w(E,m){E.setAttribute(m,E.getAttribute(m)!=="true")}var v=function(){function E(m){var p=this;c(this,E),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(y){switch(y.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),y.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var y=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),p.hasAttribute("value")&&g.setAttribute("data-value",p.getAttribute("value")),p.textContent&&g.setAttribute("data-label",p.textContent),g.addEventListener("click",function(){y.selectItem(g,!0)}),g.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:y.selectItem(g,!0),_.preventDefault();break;case l.default.keys.ESCAPE:y.escape(),_.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=f.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,[].slice.call(this.select.options).forEach(function(g){var _=p.buildItem(g);y.appendChild(_),g.selected===!0&&p.selectItem(_)}),this.container.appendChild(y)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(y){p.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(p!==g&&(g!=null&&g.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),y))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var _=document.createEvent("Event");_.initEvent("change",!0,!0),this.select.dispatchEvent(_)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);var g=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),E}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=F(o),a=i(5),l=F(a),u=i(4),f=F(u),h=i(16),c=F(h),d=i(25),w=F(d),v=i(24),E=F(v),m=i(35),p=F(m),y=i(6),g=F(y),_=i(22),O=F(_),T=i(7),b=F(T),A=i(55),k=F(A),S=i(42),N=F(S),C=i(23),R=F(C);function F(z){return z&&z.__esModule?z:{default:z}}l.default.register({"blots/block":f.default,"blots/block/embed":u.BlockEmbed,"blots/break":c.default,"blots/container":w.default,"blots/cursor":E.default,"blots/embed":p.default,"blots/inline":g.default,"blots/scroll":O.default,"blots/text":b.default,"modules/clipboard":k.default,"modules/history":N.default,"modules/keyboard":R.default}),s.default.register(f.default,c.default,E.default,g.default,O.default,b.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var f=this.isolate(l,u);f.remove()},a.prototype.formatAt=function(l,u,f,h){var c=this.isolate(l,u);if(o.query(f,o.Scope.BLOT)!=null&&h)c.wrap(f,h);else if(o.query(f,o.Scope.ATTRIBUTE)!=null){var d=o.create(this.statics.scope);c.wrap(d),d.format(f,h)}},a.prototype.insertAt=function(l,u,f){var h=f==null?o.create("text",u):o.create(u,f),c=this.split(l);this.parent.insertBefore(h,c)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var f=null;l.children.insertBefore(this,u),u!=null&&(f=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=f)&&l.domNode.insertBefore(this.domNode,f),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var f=this.split(l);return f.split(u),f},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var f=typeof l=="string"?o.create(l,u):l;return f.replace(this),f},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var f=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function f(h){this.attributes={},this.domNode=h,this.build()}return f.prototype.attribute=function(h,c){c?h.add(this.domNode,c)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},f.prototype.build=function(){var h=this;this.attributes={};var c=o.default.keys(this.domNode),d=s.default.keys(this.domNode),w=a.default.keys(this.domNode);c.concat(d).concat(w).forEach(function(v){var E=l.query(v,l.Scope.ATTRIBUTE);E instanceof o.default&&(h.attributes[E.attrName]=E)})},f.prototype.copy=function(h){var c=this;Object.keys(this.attributes).forEach(function(d){var w=c.attributes[d].value(c.domNode);h.format(d,w)})},f.prototype.move=function(h){var c=this;this.copy(h),Object.keys(this.attributes).forEach(function(d){c.attributes[d].remove(c.domNode)}),this.attributes={}},f.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(c,d){return c[d]=h.attributes[d].value(h.domNode),c},{})},f}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,f){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(c){return c.indexOf(f+"-")===0})}var l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},f.prototype.add=function(h,c){return this.canAdd(h,c)?(this.remove(h),h.classList.add(this.keyName+"-"+c),!0):!1},f.prototype.remove=function(h){var c=a(h,this.keyName);c.forEach(function(d){h.classList.remove(d)}),h.classList.length===0&&h.removeAttribute("class")},f.prototype.value=function(h){var c=a(h,this.keyName)[0]||"",d=c.slice(this.keyName.length+1);return this.canAdd(h,d)?d:""},f}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var f=u.split("-"),h=f.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return f[0]+h}var l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(c){var d=c.split(":");return d[0].trim()})},f.prototype.add=function(h,c){return this.canAdd(h,c)?(h.style[a(this.keyName)]=c,!0):!1},f.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},f.prototype.value=function(h){var c=h.style[a(this.keyName)];return this.canAdd(h,c)?c:""},f}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,f){for(var h=0;h<f.length;h++){var c=f[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,f,h){return f&&l(u.prototype,f),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,f){s(this,l),this.quill=u,this.options=f,this.modules={}}return o(l,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(h){f.modules[h]==null&&f.addModule(h)})}},{key:"addModule",value:function(f){var h=this.quill.constructor.import("modules/"+f);return this.modules[f]=new h(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,y,g){return y&&m(p.prototype,y),g&&m(p,g),p}}(),s=function m(p,y,g){p===null&&(p=Function.prototype);var _=Object.getOwnPropertyDescriptor(p,y);if(_===void 0){var O=Object.getPrototypeOf(p);return O===null?void 0:m(O,y,g)}else{if("value"in _)return _.value;var T=_.get;return T===void 0?void 0:T.call(g)}},a=i(0),l=h(a),u=i(7),f=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function w(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var v="\uFEFF",E=function(m){w(p,m);function p(y){c(this,p);var g=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(_){g.contentNode.appendChild(_)}),g.leftGuard=document.createTextNode(v),g.rightGuard=document.createTextNode(v),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(p,[{key:"index",value:function(g,_){return g===this.leftGuard?0:g===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,_)}},{key:"restore",value:function(g){var _=void 0,O=void 0,T=g.data.split(v).join("");if(g===this.leftGuard)if(this.prev instanceof f.default){var b=this.prev.length();this.prev.insertAt(b,T),_={startNode:this.prev.domNode,startOffset:b+T.length}}else O=document.createTextNode(T),this.parent.insertBefore(l.default.create(O),this),_={startNode:O,startOffset:T.length};else g===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,T),_={startNode:this.next.domNode,startOffset:T.length}):(O=document.createTextNode(T),this.parent.insertBefore(l.default.create(O),this.next),_={startNode:O,startOffset:T.length}));return g.data=v,_}},{key:"update",value:function(g,_){var O=this;g.forEach(function(T){if(T.type==="characterData"&&(T.target===O.leftGuard||T.target===O.rightGuard)){var b=O.restore(T.target);b&&(_.range=b)}})}}]),p}(l.default.Embed);r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),f=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=f,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),f=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),f=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=f,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function m(p,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,y,g){return y&&m(p.prototype,y),g&&m(p,g),p}}(),s=function m(p,y,g){p===null&&(p=Function.prototype);var _=Object.getOwnPropertyDescriptor(p,y);if(_===void 0){var O=Object.getPrototypeOf(p);return O===null?void 0:m(O,y,g)}else{if("value"in _)return _.value;var T=_.get;return T===void 0?void 0:T.call(g)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function h(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function c(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new l.default.Attributor.Class("font","ql-font",d),v=function(m){c(p,m);function p(){return f(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(g){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),E=new v("font","font-family",d);r.FontStyle=E,r.FontClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function y(g,_){for(var O=0;O<_.length;O++){var T=_[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,_,O){return _&&y(g.prototype,_),O&&y(g,O),g}}(),s=i(0),a=c(s),l=i(5),u=c(l),f=i(9),h=c(f);function c(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function w(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function v(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var E=function(y){v(g,y);function g(_,O){d(this,g);var T=w(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,O));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(u.default.events.EDITOR_CHANGE,function(b,A,k,S){b!==u.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||S===u.default.sources.USER?T.record(A,k):T.transform(A))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return o(g,[{key:"change",value:function(O,T){if(this.stack[O].length!==0){var b=this.stack[O].pop();this.stack[T].push(b),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(b[O],u.default.sources.USER),this.ignoreChange=!1;var A=p(b[O]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,T){if(O.ops.length!==0){this.stack.redo=[];var b=this.quill.getContents().diff(T),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var k=this.stack.undo.pop();b=b.compose(k.undo),O=k.redo.compose(O)}else this.lastRecorded=A;this.stack.undo.push({redo:O,undo:b}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(T){T.undo=O.transform(T.undo,!0),T.redo=O.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=O.transform(T.undo,!0),T.redo=O.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(h.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(y){var g=y.ops[y.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(_){return a.default.query(_,a.default.Scope.BLOCK)!=null}):!1}function p(y){var g=y.reduce(function(O,T){return O+=T.delete||0,O},0),_=y.length()-g;return m(y)&&(_-=1),_}r.default=E,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function P($,V){for(var q=0;q<V.length;q++){var x=V[q];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty($,x.key,x)}}return function($,V,q){return V&&P($.prototype,V),q&&P($,q),$}}(),s=function P($,V,q){$===null&&($=Function.prototype);var x=Object.getOwnPropertyDescriptor($,V);if(x===void 0){var U=Object.getPrototypeOf($);return U===null?void 0:P(U,V,q)}else{if("value"in x)return x.value;var K=x.get;return K===void 0?void 0:K.call(q)}},a=i(3),l=A(a),u=i(2),f=A(u),h=i(8),c=A(h),d=i(23),w=A(d),v=i(34),E=A(v),m=i(59),p=A(m),y=i(60),g=A(y),_=i(28),O=A(_),T=i(61),b=A(T);function A(P){return P&&P.__esModule?P:{default:P}}function k(P,$){if(!(P instanceof $))throw new TypeError("Cannot call a class as a function")}function S(P,$){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:P}function N(P,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);P.prototype=Object.create($&&$.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(P,$):P.__proto__=$)}var C=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],z=["1","2","3",!1],B=["small",!1,"large","huge"],H=function(P){N($,P);function $(V,q){k(this,$);var x=S(this,($.__proto__||Object.getPrototypeOf($)).call(this,V,q)),U=function K(W){if(!document.body.contains(V.root))return document.body.removeEventListener("click",K);x.tooltip!=null&&!x.tooltip.root.contains(W.target)&&document.activeElement!==x.tooltip.textbox&&!x.quill.hasFocus()&&x.tooltip.hide(),x.pickers!=null&&x.pickers.forEach(function(X){X.container.contains(W.target)||X.close()})};return V.emitter.listenDOM("click",document.body,U),x}return o($,[{key:"addModule",value:function(q){var x=s($.prototype.__proto__||Object.getPrototypeOf($.prototype),"addModule",this).call(this,q);return q==="toolbar"&&this.extendToolbar(x),x}},{key:"buildButtons",value:function(q,x){q.forEach(function(U){var K=U.getAttribute("class")||"";K.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),x[W]!=null))if(W==="direction")U.innerHTML=x[W][""]+x[W].rtl;else if(typeof x[W]=="string")U.innerHTML=x[W];else{var X=U.value||"";X!=null&&x[W][X]&&(U.innerHTML=x[W][X])}})})}},{key:"buildPickers",value:function(q,x){var U=this;this.pickers=q.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&I(W,C),new g.default(W,x.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var X=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&I(W,R,X==="background"?"#ffffff":"#000000"),new p.default(W,x[X])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?I(W,F):W.classList.contains("ql-header")?I(W,z):W.classList.contains("ql-size")&&I(W,B)),new O.default(W)});var K=function(){U.pickers.forEach(function(X){X.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,K)}}]),$}(E.default);H.DEFAULTS=(0,l.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var $=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var q=new FileReader;q.onload=function(x){var U=$.quill.getSelection(!0);$.quill.updateContents(new f.default().retain(U.index).delete(U.length).insert({image:x.target.result}),c.default.sources.USER),$.quill.setSelection(U.index+1,c.default.sources.SILENT),V.value=""},q.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(P){N($,P);function $(V,q){k(this,$);var x=S(this,($.__proto__||Object.getPrototypeOf($)).call(this,V,q));return x.textbox=x.root.querySelector('input[type="text"]'),x.listen(),x}return o($,[{key:"listen",value:function(){var q=this;this.textbox.addEventListener("keydown",function(x){w.default.match(x,"enter")?(q.save(),x.preventDefault()):w.default.match(x,"escape")&&(q.cancel(),x.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),x!=null?this.textbox.value=x:q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+q)||""),this.root.setAttribute("data-mode",q)}},{key:"restoreFocus",value:function(){var q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=q}},{key:"save",value:function(){var q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var x=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,c.default.sources.USER)),this.quill.root.scrollTop=x;break}case"video":q=L(q);case"formula":{if(!q)break;var U=this.quill.getSelection(!0);if(U!=null){var K=U.index+U.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),q,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",c.default.sources.USER),this.quill.setSelection(K+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),$}(b.default);function L(P){var $=P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return $?($[1]||"https")+"://www.youtube.com/embed/"+$[2]+"?showinfo=0":($=P.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?($[1]||"https")+"://player.vimeo.com/video/"+$[2]+"/":P}function I(P,$){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;$.forEach(function(q){var x=document.createElement("option");q===V?x.setAttribute("selected","selected"):x.setAttribute("value",q),P.appendChild(x)})}r.BaseTooltip=j,r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,f=this.iterator();u=f();){var h=u.length();if(a<h||l&&a===h&&(u.next==null||u.next.length()!==0))return[u,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var f=this.find(a),h=f[0],c=f[1],d,w=a-c,v=this.iterator(h);(d=v())&&w<a+l;){var E=d.length();a>w?u(d,a-w,Math.min(l,w+E-a)):u(d,0,Math.min(E,a+l-w)),w+=E}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,f=this.iterator();u=f();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var w in d)d.hasOwnProperty(w)&&(c[w]=d[w])};return function(c,d){h(c,d);function w(){this.constructor=c}c.prototype=d===null?Object.create(d):(w.prototype=d.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,f=function(h){o(c,h);function c(d){var w=h.call(this,d)||this;return w.scroll=w,w.observer=new MutationObserver(function(v){w.update(v)}),w.observer.observe(w.domNode,l),w.attach(),w}return c.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(d,w){this.update(),d===0&&w===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,d,w)},c.prototype.formatAt=function(d,w,v,E){this.update(),h.prototype.formatAt.call(this,d,w,v,E)},c.prototype.insertAt=function(d,w,v){this.update(),h.prototype.insertAt.call(this,d,w,v)},c.prototype.optimize=function(d,w){var v=this;d===void 0&&(d=[]),w===void 0&&(w={}),h.prototype.optimize.call(this,w);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)d.push(E.pop());for(var m=function(_,O){O===void 0&&(O=!0),!(_==null||_===v)&&_.domNode.parentNode!=null&&(_.domNode[a.DATA_KEY].mutations==null&&(_.domNode[a.DATA_KEY].mutations=[]),O&&m(_.parent))},p=function(_){_.domNode[a.DATA_KEY]==null||_.domNode[a.DATA_KEY].mutations==null||(_ instanceof s.default&&_.children.forEach(p),_.optimize(w))},y=d,g=0;y.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(y.forEach(function(_){var O=a.find(_.target,!0);O!=null&&(O.domNode===_.target&&(_.type==="childList"?(m(a.find(_.previousSibling,!1)),[].forEach.call(_.addedNodes,function(T){var b=a.find(T,!1);m(b,!1),b instanceof s.default&&b.children.forEach(function(A){m(A,!1)})})):_.type==="attributes"&&m(O.prev)),m(O))}),this.children.forEach(p),y=[].slice.call(this.observer.takeRecords()),E=y.slice();E.length>0;)d.push(E.pop())}},c.prototype.update=function(d,w){var v=this;w===void 0&&(w={}),d=d||this.observer.takeRecords(),d.map(function(E){var m=a.find(E.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[E],m):(m.domNode[a.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===v||E.domNode[a.DATA_KEY]==null||E.update(E.domNode[a.DATA_KEY].mutations||[],w)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,w),this.optimize(d,w)},c.blotName="scroll",c.defaultChild="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="DIV",c}(s.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)c.hasOwnProperty(d)&&(h[d]=c[d])};return function(h,c){f(h,c);function d(){this.constructor=h}h.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(f,h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(var c in f)if(f[c]!==h[c])return!1;return!0}var u=function(f){o(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(c){if(c.tagName!==h.tagName)return f.formats.call(this,c)},h.prototype.format=function(c,d){var w=this;c===this.statics.blotName&&!d?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(h.blotName,!0)),w.attributes.copy(v)}),this.unwrap()):f.prototype.format.call(this,c,d)},h.prototype.formatAt=function(c,d,w,v){if(this.formats()[w]!=null||a.query(w,a.Scope.ATTRIBUTE)){var E=this.isolate(c,d);E.format(w,v)}else f.prototype.formatAt.call(this,c,d,w,v)},h.prototype.optimize=function(c){f.prototype.optimize.call(this,c);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var w=this.next;w instanceof h&&w.prev===this&&l(d,w.formats())&&(w.moveChildren(this),w.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){var c=a.query(f.blotName).tagName;if(h.tagName!==c)return u.formats.call(this,h)},f.prototype.format=function(h,c){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!c?this.replaceWith(f.blotName):u.prototype.format.call(this,h,c))},f.prototype.formatAt=function(h,c,d,w){a.query(d,a.Scope.BLOCK)!=null?this.format(d,w):u.prototype.formatAt.call(this,h,c,d,w)},f.prototype.insertAt=function(h,c,d){if(d==null||a.query(c,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,c,d);else{var w=this.split(h),v=a.create(c,d);w.parent.insertBefore(v,w)}},f.prototype.update=function(h,c){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,c)},f.blotName="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="P",f}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){l(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(f){},u.prototype.format=function(f,h){l.prototype.formatAt.call(this,0,this.length(),f,h)},u.prototype.formatAt=function(f,h,c,d){f===0&&h===this.length()?this.format(c,d):l.prototype.formatAt.call(this,f,h,c,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(f,u);function f(h){var c=u.call(this,h)||this;return c.text=c.statics.value(c.domNode),c}return f.create=function(h){return document.createTextNode(h)},f.value=function(h){var c=h.data;return c.normalize&&(c=c.normalize()),c},f.prototype.deleteAt=function(h,c){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+c)},f.prototype.index=function(h,c){return this.domNode===h?c:-1},f.prototype.insertAt=function(h,c,d){d==null?(this.text=this.text.slice(0,h)+c+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,c,d)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(h,c){return[this.domNode,h]},f.prototype.split=function(h,c){if(c===void 0&&(c=!1),!c){if(h===0)return this;if(h===this.length())return this.next}var d=a.create(this.domNode.splitText(h));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},f.prototype.update=function(h,c){var d=this;h.some(function(w){return w.type==="characterData"&&w.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=a.Scope.INLINE_BLOT,f}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var f=u.indexOf(a,l);return f!==-1&&f===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),f=u.length>>>0,h=arguments[1],c,d=0;d<f;d++)if(c=u[d],l.call(h,c,d,u))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,_,O){if(g==_)return g?[[s,g]]:[];(O<0||g.length<O)&&(O=null);var T=h(g,_),b=g.substring(0,T);g=g.substring(T),_=_.substring(T),T=c(g,_);var A=g.substring(g.length-T);g=g.substring(0,g.length-T),_=_.substring(0,_.length-T);var k=l(g,_);return b&&k.unshift([s,b]),A&&k.push([s,A]),w(k),O!=null&&(k=m(k,O)),k=p(k),k}function l(g,_){var O;if(!g)return[[o,_]];if(!_)return[[i,g]];var T=g.length>_.length?g:_,b=g.length>_.length?_:g,A=T.indexOf(b);if(A!=-1)return O=[[o,T.substring(0,A)],[s,b],[o,T.substring(A+b.length)]],g.length>_.length&&(O[0][0]=O[2][0]=i),O;if(b.length==1)return[[i,g],[o,_]];var k=d(g,_);if(k){var S=k[0],N=k[1],C=k[2],R=k[3],F=k[4],z=a(S,C),B=a(N,R);return z.concat([[s,F]],B)}return u(g,_)}function u(g,_){for(var O=g.length,T=_.length,b=Math.ceil((O+T)/2),A=b,k=2*b,S=new Array(k),N=new Array(k),C=0;C<k;C++)S[C]=-1,N[C]=-1;S[A+1]=0,N[A+1]=0;for(var R=O-T,F=R%2!=0,z=0,B=0,H=0,j=0,L=0;L<b;L++){for(var I=-L+z;I<=L-B;I+=2){var P=A+I,$;I==-L||I!=L&&S[P-1]<S[P+1]?$=S[P+1]:$=S[P-1]+1;for(var V=$-I;$<O&&V<T&&g.charAt($)==_.charAt(V);)$++,V++;if(S[P]=$,$>O)B+=2;else if(V>T)z+=2;else if(F){var q=A+R-I;if(q>=0&&q<k&&N[q]!=-1){var x=O-N[q];if($>=x)return f(g,_,$,V)}}}for(var U=-L+H;U<=L-j;U+=2){var q=A+U,x;U==-L||U!=L&&N[q-1]<N[q+1]?x=N[q+1]:x=N[q-1]+1;for(var K=x-U;x<O&&K<T&&g.charAt(O-x-1)==_.charAt(T-K-1);)x++,K++;if(N[q]=x,x>O)j+=2;else if(K>T)H+=2;else if(!F){var P=A+R-U;if(P>=0&&P<k&&S[P]!=-1){var $=S[P],V=A+$-P;if(x=O-x,$>=x)return f(g,_,$,V)}}}}return[[i,g],[o,_]]}function f(g,_,O,T){var b=g.substring(0,O),A=_.substring(0,T),k=g.substring(O),S=_.substring(T),N=a(b,A),C=a(k,S);return N.concat(C)}function h(g,_){if(!g||!_||g.charAt(0)!=_.charAt(0))return 0;for(var O=0,T=Math.min(g.length,_.length),b=T,A=0;O<b;)g.substring(A,b)==_.substring(A,b)?(O=b,A=O):T=b,b=Math.floor((T-O)/2+O);return b}function c(g,_){if(!g||!_||g.charAt(g.length-1)!=_.charAt(_.length-1))return 0;for(var O=0,T=Math.min(g.length,_.length),b=T,A=0;O<b;)g.substring(g.length-b,g.length-A)==_.substring(_.length-b,_.length-A)?(O=b,A=O):T=b,b=Math.floor((T-O)/2+O);return b}function d(g,_){var O=g.length>_.length?g:_,T=g.length>_.length?_:g;if(O.length<4||T.length*2<O.length)return null;function b(B,H,j){for(var L=B.substring(j,j+Math.floor(B.length/4)),I=-1,P="",$,V,q,x;(I=H.indexOf(L,I+1))!=-1;){var U=h(B.substring(j),H.substring(I)),K=c(B.substring(0,j),H.substring(0,I));P.length<K+U&&(P=H.substring(I-K,I)+H.substring(I,I+U),$=B.substring(0,j-K),V=B.substring(j+U),q=H.substring(0,I-K),x=H.substring(I+U))}return P.length*2>=B.length?[$,V,q,x,P]:null}var A=b(O,T,Math.ceil(O.length/4)),k=b(O,T,Math.ceil(O.length/2)),S;if(!A&&!k)return null;k?A?S=A[4].length>k[4].length?A:k:S=k:S=A;var N,C,R,F;g.length>_.length?(N=S[0],C=S[1],R=S[2],F=S[3]):(R=S[0],F=S[1],N=S[2],C=S[3]);var z=S[4];return[N,C,R,F,z]}function w(g){g.push([s,""]);for(var _=0,O=0,T=0,b="",A="",k;_<g.length;)switch(g[_][0]){case o:T++,A+=g[_][1],_++;break;case i:O++,b+=g[_][1],_++;break;case s:O+T>1?(O!==0&&T!==0&&(k=h(A,b),k!==0&&(_-O-T>0&&g[_-O-T-1][0]==s?g[_-O-T-1][1]+=A.substring(0,k):(g.splice(0,0,[s,A.substring(0,k)]),_++),A=A.substring(k),b=b.substring(k)),k=c(A,b),k!==0&&(g[_][1]=A.substring(A.length-k)+g[_][1],A=A.substring(0,A.length-k),b=b.substring(0,b.length-k))),O===0?g.splice(_-T,O+T,[o,A]):T===0?g.splice(_-O,O+T,[i,b]):g.splice(_-O-T,O+T,[i,b],[o,A]),_=_-O-T+(O?1:0)+(T?1:0)+1):_!==0&&g[_-1][0]==s?(g[_-1][1]+=g[_][1],g.splice(_,1)):_++,T=0,O=0,b="",A="";break}g[g.length-1][1]===""&&g.pop();var S=!1;for(_=1;_<g.length-1;)g[_-1][0]==s&&g[_+1][0]==s&&(g[_][1].substring(g[_][1].length-g[_-1][1].length)==g[_-1][1]?(g[_][1]=g[_-1][1]+g[_][1].substring(0,g[_][1].length-g[_-1][1].length),g[_+1][1]=g[_-1][1]+g[_+1][1],g.splice(_-1,1),S=!0):g[_][1].substring(0,g[_+1][1].length)==g[_+1][1]&&(g[_-1][1]+=g[_+1][1],g[_][1]=g[_][1].substring(g[_+1][1].length)+g[_+1][1],g.splice(_+1,1),S=!0)),_++;S&&w(g)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function E(g,_){if(_===0)return[s,g];for(var O=0,T=0;T<g.length;T++){var b=g[T];if(b[0]===i||b[0]===s){var A=O+b[1].length;if(_===A)return[T+1,g];if(_<A){g=g.slice();var k=_-O,S=[b[0],b[1].slice(0,k)],N=[b[0],b[1].slice(k)];return g.splice(T,1,S,N),[T+1,g]}else O=A}}throw new Error("cursor_pos is out of bounds!")}function m(g,_){var O=E(g,_),T=O[1],b=O[0],A=T[b],k=T[b+1];if(A==null)return g;if(A[0]!==s)return g;if(k!=null&&A[1]+k[1]===k[1]+A[1])return T.splice(b,2,k,A),y(T,b,2);if(k!=null&&k[1].indexOf(A[1])===0){T.splice(b,2,[k[0],A[1]],[0,A[1]]);var S=k[1].slice(A[1].length);return S.length>0&&T.splice(b+2,0,[k[0],S]),y(T,b,3)}else return g}function p(g){for(var _=!1,O=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},T=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},b=2;b<g.length;b+=1)g[b-2][0]===s&&T(g[b-2][1])&&g[b-1][0]===i&&O(g[b-1][1])&&g[b][0]===o&&O(g[b][1])&&(_=!0,g[b-1][1]=g[b-2][1].slice(-1)+g[b-1][1],g[b][1]=g[b-2][1].slice(-1)+g[b][1],g[b-2][1]=g[b-2][1].slice(0,-1));if(!_)return g;for(var A=[],b=0;b<g.length;b+=1)g[b][1].length>0&&A.push(g[b]);return A}function y(g,_,O){for(var T=_+O-1;T>=0&&T>=_-1;T--)if(T+1<g.length){var b=g[T],A=g[T+1];b[0]===A[1]&&g.splice(T,2,[b[0],b[1]+A[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,c;if(this._eventsCount===0)return f;for(c in h=this._events)i.call(h,c)&&f.push(o?c.slice(1):c);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f,h){var c=o?o+f:f,d=this._events[c];if(h)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var w=0,v=d.length,E=new Array(v);w<v;w++)E[w]=d[w].fn;return E},l.prototype.emit=function(f,h,c,d,w,v){var E=o?o+f:f;if(!this._events[E])return!1;var m=this._events[E],p=arguments.length,y,g;if(m.fn){switch(m.once&&this.removeListener(f,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,c),!0;case 4:return m.fn.call(m.context,h,c,d),!0;case 5:return m.fn.call(m.context,h,c,d,w),!0;case 6:return m.fn.call(m.context,h,c,d,w,v),!0}for(g=1,y=new Array(p-1);g<p;g++)y[g-1]=arguments[g];m.fn.apply(m.context,y)}else{var _=m.length,O;for(g=0;g<_;g++)switch(m[g].once&&this.removeListener(f,m[g].fn,void 0,!0),p){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,h);break;case 3:m[g].fn.call(m[g].context,h,c);break;case 4:m[g].fn.call(m[g].context,h,c,d);break;default:if(!y)for(O=1,y=new Array(p-1);O<p;O++)y[O-1]=arguments[O];m[g].fn.apply(m[g].context,y)}}return!0},l.prototype.on=function(f,h,c){var d=new a(h,c||this),w=o?o+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],d]:this._events[w].push(d):(this._events[w]=d,this._eventsCount++),this},l.prototype.once=function(f,h,c){var d=new a(h,c||this,!0),w=o?o+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],d]:this._events[w].push(d):(this._events[w]=d,this._eventsCount++),this},l.prototype.removeListener=function(f,h,c,d){var w=o?o+f:f;if(!this._events[w])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[w],this;var v=this._events[w];if(v.fn)v.fn===h&&(!d||v.once)&&(!c||v.context===c)&&(--this._eventsCount===0?this._events=new s:delete this._events[w]);else{for(var E=0,m=[],p=v.length;E<p;E++)(v[E].fn!==h||d&&!v[E].once||c&&v[E].context!==c)&&m.push(v[E]);m.length?this._events[w]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new s:delete this._events[w]}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=o?o+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},s=function(){function G(Q,ne){var ie=[],J=!0,Ee=!1,ve=void 0;try{for(var _e=Q[Symbol.iterator](),$t;!(J=($t=_e.next()).done)&&(ie.push($t.value),!(ne&&ie.length===ne));J=!0);}catch(hn){Ee=!0,ve=hn}finally{try{!J&&_e.return&&_e.return()}finally{if(Ee)throw ve}}return ie}return function(Q,ne){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return G(Q,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function G(Q,ne){for(var ie=0;ie<ne.length;ie++){var J=ne[ie];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,J.key,J)}}return function(Q,ne,ie){return ne&&G(Q.prototype,ne),ie&&G(Q,ie),Q}}(),l=i(3),u=N(l),f=i(2),h=N(f),c=i(0),d=N(c),w=i(5),v=N(w),E=i(10),m=N(E),p=i(9),y=N(p),g=i(36),_=i(37),O=i(13),T=N(O),b=i(26),A=i(38),k=i(39),S=i(40);function N(G){return G&&G.__esModule?G:{default:G}}function C(G,Q,ne){return Q in G?Object.defineProperty(G,Q,{value:ne,enumerable:!0,configurable:!0,writable:!0}):G[Q]=ne,G}function R(G,Q){if(!(G instanceof Q))throw new TypeError("Cannot call a class as a function")}function F(G,Q){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:G}function z(G,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);G.prototype=Object.create(Q&&Q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Q):G.__proto__=Q)}var B=(0,m.default)("quill:clipboard"),H="__ql-matcher",j=[[Node.TEXT_NODE,Ye],[Node.TEXT_NODE,le],["br",te],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,Te],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,yt],["li",he],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",ue]],L=[g.AlignAttribute,A.DirectionAttribute].reduce(function(G,Q){return G[Q.keyName]=Q,G},{}),I=[g.AlignStyle,_.BackgroundStyle,b.ColorStyle,A.DirectionStyle,k.FontStyle,S.SizeStyle].reduce(function(G,Q){return G[Q.keyName]=Q,G},{}),P=function(G){z(Q,G);function Q(ne,ie){R(this,Q);var J=F(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ne,ie));return J.quill.root.addEventListener("paste",J.onPaste.bind(J)),J.container=J.quill.addContainer("ql-clipboard"),J.container.setAttribute("contenteditable",!0),J.container.setAttribute("tabindex",-1),J.matchers=[],j.concat(J.options.matchers).forEach(function(Ee){var ve=s(Ee,2),_e=ve[0],$t=ve[1];!ie.matchVisual&&$t===Te||J.addMatcher(_e,$t)}),J}return a(Q,[{key:"addMatcher",value:function(ie,J){this.matchers.push([ie,J])}},{key:"convert",value:function(ie){if(typeof ie=="string")return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var J=this.quill.getFormat(this.quill.selection.savedRange.index);if(J[T.default.blotName]){var Ee=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Ee,C({},T.default.blotName,J[T.default.blotName]))}var ve=this.prepareMatching(),_e=s(ve,2),$t=_e[0],hn=_e[1],Le=U(this.container,$t,hn);return q(Le,`
`)&&Le.ops[Le.ops.length-1].attributes==null&&(Le=Le.compose(new h.default().retain(Le.length()-1).delete(1))),B.log("convert",this.container.innerHTML,Le),this.container.innerHTML="",Le}},{key:"dangerouslyPasteHTML",value:function(ie,J){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof ie=="string")this.quill.setContents(this.convert(ie),J),this.quill.setSelection(0,v.default.sources.SILENT);else{var ve=this.convert(J);this.quill.updateContents(new h.default().retain(ie).concat(ve),Ee),this.quill.setSelection(ie+ve.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var J=this;if(!(ie.defaultPrevented||!this.quill.isEnabled())){var Ee=this.quill.getSelection(),ve=new h.default().retain(Ee.index),_e=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){ve=ve.concat(J.convert()).delete(Ee.length),J.quill.updateContents(ve,v.default.sources.USER),J.quill.setSelection(ve.length()-Ee.length,v.default.sources.SILENT),J.quill.scrollingContainer.scrollTop=_e,J.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,J=[],Ee=[];return this.matchers.forEach(function(ve){var _e=s(ve,2),$t=_e[0],hn=_e[1];switch($t){case Node.TEXT_NODE:Ee.push(hn);break;case Node.ELEMENT_NODE:J.push(hn);break;default:[].forEach.call(ie.container.querySelectorAll($t),function(Le){Le[H]=Le[H]||[],Le[H].push(hn)});break}}),[J,Ee]}}]),Q}(y.default);P.DEFAULTS={matchers:[],matchVisual:!0};function $(G,Q,ne){return(typeof Q>"u"?"undefined":o(Q))==="object"?Object.keys(Q).reduce(function(ie,J){return $(ie,J,Q[J])},G):G.reduce(function(ie,J){return J.attributes&&J.attributes[Q]?ie.push(J):ie.insert(J.insert,(0,u.default)({},C({},Q,ne),J.attributes))},new h.default)}function V(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var Q="__ql-computed-style";return G[Q]||(G[Q]=window.getComputedStyle(G))}function q(G,Q){for(var ne="",ie=G.ops.length-1;ie>=0&&ne.length<Q.length;--ie){var J=G.ops[ie];if(typeof J.insert!="string")break;ne=J.insert+ne}return ne.slice(-1*Q.length)===Q}function x(G){if(G.childNodes.length===0)return!1;var Q=V(G);return["block","list-item"].indexOf(Q.display)>-1}function U(G,Q,ne){return G.nodeType===G.TEXT_NODE?ne.reduce(function(ie,J){return J(G,ie)},new h.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(ie,J){var Ee=U(J,Q,ne);return J.nodeType===G.ELEMENT_NODE&&(Ee=Q.reduce(function(ve,_e){return _e(J,ve)},Ee),Ee=(J[H]||[]).reduce(function(ve,_e){return _e(J,ve)},Ee)),ie.concat(Ee)},new h.default):new h.default}function K(G,Q,ne){return $(ne,G,!0)}function W(G,Q){var ne=d.default.Attributor.Attribute.keys(G),ie=d.default.Attributor.Class.keys(G),J=d.default.Attributor.Style.keys(G),Ee={};return ne.concat(ie).concat(J).forEach(function(ve){var _e=d.default.query(ve,d.default.Scope.ATTRIBUTE);_e!=null&&(Ee[_e.attrName]=_e.value(G),Ee[_e.attrName])||(_e=L[ve],_e!=null&&(_e.attrName===ve||_e.keyName===ve)&&(Ee[_e.attrName]=_e.value(G)||void 0),_e=I[ve],_e!=null&&(_e.attrName===ve||_e.keyName===ve)&&(_e=I[ve],Ee[_e.attrName]=_e.value(G)||void 0))}),Object.keys(Ee).length>0&&(Q=$(Q,Ee)),Q}function X(G,Q){var ne=d.default.query(G);if(ne==null)return Q;if(ne.prototype instanceof d.default.Embed){var ie={},J=ne.value(G);J!=null&&(ie[ne.blotName]=J,Q=new h.default().insert(ie,ne.formats(G)))}else typeof ne.formats=="function"&&(Q=$(Q,ne.blotName,ne.formats(G)));return Q}function te(G,Q){return q(Q,`
`)||Q.insert(`
`),Q}function ue(){return new h.default}function he(G,Q){var ne=d.default.query(G);if(ne==null||ne.blotName!=="list-item"||!q(Q,`
`))return Q;for(var ie=-1,J=G.parentNode;!J.classList.contains("ql-clipboard");)(d.default.query(J)||{}).blotName==="list"&&(ie+=1),J=J.parentNode;return ie<=0?Q:Q.compose(new h.default().retain(Q.length()-1).retain(1,{indent:ie}))}function le(G,Q){return q(Q,`
`)||(x(G)||Q.length()>0&&G.nextSibling&&x(G.nextSibling))&&Q.insert(`
`),Q}function Te(G,Q){if(x(G)&&G.nextElementSibling!=null&&!q(Q,`

`)){var ne=G.offsetHeight+parseFloat(V(G).marginTop)+parseFloat(V(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+ne*1.5&&Q.insert(`
`)}return Q}function yt(G,Q){var ne={},ie=G.style||{};return ie.fontStyle&&V(G).fontStyle==="italic"&&(ne.italic=!0),ie.fontWeight&&(V(G).fontWeight.startsWith("bold")||parseInt(V(G).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(Q=$(Q,ne)),parseFloat(ie.textIndent||0)>0&&(Q=new h.default().insert("	").concat(Q)),Q}function Ye(G,Q){var ne=G.data;if(G.parentNode.tagName==="O:P")return Q.insert(ne.trim());if(ne.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return Q;if(!V(G.parentNode).whiteSpace.startsWith("pre")){var ie=function(Ee,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&Ee?" ":ve};ne=ne.replace(/\r\n/g," ").replace(/\n/g," "),ne=ne.replace(/\s\s+/g,ie.bind(ie,!0)),(G.previousSibling==null&&x(G.parentNode)||G.previousSibling!=null&&x(G.previousSibling))&&(ne=ne.replace(/^\s+/,ie.bind(ie,!1))),(G.nextSibling==null&&x(G.parentNode)||G.nextSibling!=null&&x(G.nextSibling))&&(ne=ne.replace(/\s+$/,ie.bind(ie,!1)))}return Q.insert(ne)}r.default=P,r.matchAttributor=W,r.matchBlot=X,r.matchNewline=le,r.matchSpacing=Te,r.matchText=Ye},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(m){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function S(N,C){var R=[],F=!0,z=!1,B=void 0;try{for(var H=N[Symbol.iterator](),j;!(F=(j=H.next()).done)&&(R.push(j.value),!(C&&R.length===C));F=!0);}catch(L){z=!0,B=L}finally{try{!F&&H.return&&H.return()}finally{if(z)throw B}}return R}return function(N,C){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return S(N,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(N,C){for(var R=0;R<C.length;R++){var F=C[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(N,F.key,F)}}return function(N,C,R){return C&&S(N.prototype,C),R&&S(N,R),N}}(),a=i(2),l=m(a),u=i(0),f=m(u),h=i(5),c=m(h),d=i(10),w=m(d),v=i(9),E=m(v);function m(S){return S&&S.__esModule?S:{default:S}}function p(S,N,C){return N in S?Object.defineProperty(S,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[N]=C,S}function y(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function g(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function _(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var O=(0,w.default)("quill:toolbar"),T=function(S){_(N,S);function N(C,R){y(this,N);var F=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C,R));if(Array.isArray(F.options.container)){var z=document.createElement("div");A(z,F.options.container),C.container.parentNode.insertBefore(z,C.container),F.container=z}else typeof F.options.container=="string"?F.container=document.querySelector(F.options.container):F.container=F.options.container;if(!(F.container instanceof HTMLElement)){var B;return B=O.error("Container required for toolbar",F.options),g(F,B)}return F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function(H){F.addHandler(H,F.options.handlers[H])}),[].forEach.call(F.container.querySelectorAll("button, select"),function(H){F.attach(H)}),F.quill.on(c.default.events.EDITOR_CHANGE,function(H,j){H===c.default.events.SELECTION_CHANGE&&F.update(j)}),F.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var H=F.quill.selection.getRange(),j=o(H,1),L=j[0];F.update(L)}),F}return s(N,[{key:"addHandler",value:function(R,F){this.handlers[R]=F}},{key:"attach",value:function(R){var F=this,z=[].find.call(R.classList,function(H){return H.indexOf("ql-")===0});if(z){if(z=z.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null){O.warn("ignoring attaching to disabled format",z,R);return}if(f.default.query(z)==null){O.warn("ignoring attaching to nonexistent format",z,R);return}}var B=R.tagName==="SELECT"?"change":"click";R.addEventListener(B,function(H){var j=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var L=R.options[R.selectedIndex];L.hasAttribute("selected")?j=!1:j=L.value||!1}else R.classList.contains("ql-active")?j=!1:j=R.value||!R.hasAttribute("value"),H.preventDefault();F.quill.focus();var I=F.quill.selection.getRange(),P=o(I,1),$=P[0];if(F.handlers[z]!=null)F.handlers[z].call(F,j);else if(f.default.query(z).prototype instanceof f.default.Embed){if(j=prompt("Enter "+z),!j)return;F.quill.updateContents(new l.default().retain($.index).delete($.length).insert(p({},z,j)),c.default.sources.USER)}else F.quill.format(z,j,c.default.sources.USER);F.update($)}),this.controls.push([z,R])}}},{key:"update",value:function(R){var F=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(z){var B=o(z,2),H=B[0],j=B[1];if(j.tagName==="SELECT"){var L=void 0;if(R==null)L=null;else if(F[H]==null)L=j.querySelector("option[selected]");else if(!Array.isArray(F[H])){var I=F[H];typeof I=="string"&&(I=I.replace(/\"/g,'\\"')),L=j.querySelector('option[value="'+I+'"]')}L==null?(j.value="",j.selectedIndex=-1):L.selected=!0}else if(R==null)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var P=F[H]===j.getAttribute("value")||F[H]!=null&&F[H].toString()===j.getAttribute("value")||F[H]==null&&!j.getAttribute("value");j.classList.toggle("ql-active",P)}else j.classList.toggle("ql-active",F[H]!=null)})}}]),N}(E.default);T.DEFAULTS={};function b(S,N,C){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+N),C!=null&&(R.value=C),S.appendChild(R)}function A(S,N){Array.isArray(N[0])||(N=[N]),N.forEach(function(C){var R=document.createElement("span");R.classList.add("ql-formats"),C.forEach(function(F){if(typeof F=="string")b(R,F);else{var z=Object.keys(F)[0],B=F[z];Array.isArray(B)?k(R,z,B):b(R,z,B)}}),S.appendChild(R)})}function k(S,N,C){var R=document.createElement("select");R.classList.add("ql-"+N),C.forEach(function(F){var z=document.createElement("option");F!==!1?z.setAttribute("value",F):z.setAttribute("selected","selected"),R.appendChild(z)}),S.appendChild(R)}T.DEFAULTS={container:null,handlers:{clean:function(){var N=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function(F){f.default.query(F,f.default.Scope.INLINE)!=null&&N.quill.format(F,!1)})}else this.quill.removeFormat(C,c.default.sources.USER)},direction:function(N){var C=this.quill.getFormat().align;N==="rtl"&&C==null?this.quill.format("align","right",c.default.sources.USER):!N&&C==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",N,c.default.sources.USER)},indent:function(N){var C=this.quill.getSelection(),R=this.quill.getFormat(C),F=parseInt(R.indent||0);if(N==="+1"||N==="-1"){var z=N==="+1"?1:-1;R.direction==="rtl"&&(z*=-1),this.quill.format("indent",F+z,c.default.sources.USER)}},link:function(N){N===!0&&(N=prompt("Enter link URL:")),this.quill.format("link",N,c.default.sources.USER)},list:function(N){var C=this.quill.getSelection(),R=this.quill.getFormat(C);N==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",N,c.default.sources.USER)}}},r.default=T,r.addControls=A},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(E,m){f(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return p.label.innerHTML=m,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(y){y.classList.add("ql-primary")}),p}return o(v,[{key:"buildItem",value:function(m){var p=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,m);return p.style.backgroundColor=m.getAttribute("value")||"",p}},{key:"selectItem",value:function(m,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,p);var y=this.label.querySelector(".ql-color-label"),g=m&&m.getAttribute("data-value")||"";y&&(y.tagName==="line"?y.style.stroke=g:y.style.fill=g)}}]),v}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(E,m){f(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(y){y.innerHTML=m[y.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(v,[{key:"selectItem",value:function(m,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,p),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),v}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,f){for(var h=0;h<f.length;h++){var c=f[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,f,h){return f&&l(u.prototype,f),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,f){var h=this;s(this,l),this.quill=u,this.boundsContainer=f||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var h=f.left+f.width/2-this.root.offsetWidth/2,c=f.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),v=0;if(w.right>d.right&&(v=d.right-w.right,this.root.style.left=h+v+"px"),w.left<d.left&&(v=d.left-w.left,this.root.style.left=h+v+"px"),w.bottom>d.bottom){var E=w.bottom-w.top,m=f.bottom-f.top+E;this.root.style.top=c-m+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function k(S,N){var C=[],R=!0,F=!1,z=void 0;try{for(var B=S[Symbol.iterator](),H;!(R=(H=B.next()).done)&&(C.push(H.value),!(N&&C.length===N));R=!0);}catch(j){F=!0,z=j}finally{try{!R&&B.return&&B.return()}finally{if(F)throw z}}return C}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return k(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function k(S,N,C){S===null&&(S=Function.prototype);var R=Object.getOwnPropertyDescriptor(S,N);if(R===void 0){var F=Object.getPrototypeOf(S);return F===null?void 0:k(F,N,C)}else{if("value"in R)return R.value;var z=R.get;return z===void 0?void 0:z.call(C)}},a=function(){function k(S,N){for(var C=0;C<N.length;C++){var R=N[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,N,C){return N&&k(S.prototype,N),C&&k(S,C),S}}(),l=i(3),u=y(l),f=i(8),h=y(f),c=i(43),d=y(c),w=i(27),v=y(w),E=i(15),m=i(41),p=y(m);function y(k){return k&&k.__esModule?k:{default:k}}function g(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function _(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function O(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(k){O(S,k);function S(N,C){g(this,S),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=T);var R=_(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,C));return R.quill.container.classList.add("ql-snow"),R}return a(S,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),p.default),this.tooltip=new A(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,F){C.handlers.link.call(C,!F.format.link)})}}]),S}(d.default);b.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var N=this.quill.getSelection();if(N==null||N.length==0)return;var C=this.quill.getText(N);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var R=this.quill.theme.tooltip;R.edit("link",C)}else this.quill.format("link",!1)}}}}});var A=function(k){O(S,k);function S(N,C){g(this,S);var R=_(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,C));return R.preview=R.root.querySelector("a.ql-preview"),R}return a(S,[{key:"listen",value:function(){var C=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(C.linkRange!=null){var F=C.linkRange;C.restoreFocus(),C.quill.formatText(F,"link",!1,h.default.sources.USER),delete C.linkRange}R.preventDefault(),C.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(R,F,z){if(R!=null){if(R.length===0&&z===h.default.sources.USER){var B=C.quill.scroll.descendant(v.default,R.index),H=o(B,2),j=H[0],L=H[1];if(j!=null){C.linkRange=new E.Range(R.index-L,j.length());var I=v.default.formats(j.domNode);C.preview.textContent=I,C.preview.setAttribute("href",I),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(c.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=J(o),a=i(36),l=i(38),u=i(64),f=i(65),h=J(f),c=i(66),d=J(c),w=i(67),v=J(w),E=i(37),m=i(26),p=i(39),y=i(40),g=i(56),_=J(g),O=i(68),T=J(O),b=i(27),A=J(b),k=i(69),S=J(k),N=i(70),C=J(N),R=i(71),F=J(R),z=i(72),B=J(z),H=i(73),j=J(H),L=i(13),I=J(L),P=i(74),$=J(P),V=i(75),q=J(V),x=i(57),U=J(x),K=i(41),W=J(K),X=i(28),te=J(X),ue=i(59),he=J(ue),le=i(60),Te=J(le),yt=i(61),Ye=J(yt),G=i(108),Q=J(G),ne=i(62),ie=J(ne);function J(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":y.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":p.FontClass,"formats/size":y.SizeClass,"formats/blockquote":h.default,"formats/code-block":I.default,"formats/header":d.default,"formats/list":v.default,"formats/bold":_.default,"formats/code":L.Code,"formats/italic":T.default,"formats/link":A.default,"formats/script":S.default,"formats/strike":C.default,"formats/underline":F.default,"formats/image":B.default,"formats/video":j.default,"formats/list/item":w.ListItem,"modules/formula":$.default,"modules/syntax":q.default,"modules/toolbar":U.default,"themes/bubble":Q.default,"themes/snow":ie.default,"ui/icons":W.default,"ui/picker":te.default,"ui/icon-picker":Te.default,"ui/color-picker":he.default,"ui/tooltip":Ye.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(E,m){for(var p=0;p<m.length;p++){var y=m[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}return function(E,m,p){return m&&v(E.prototype,m),p&&v(E,p),E}}(),s=function v(E,m,p){E===null&&(E=Function.prototype);var y=Object.getOwnPropertyDescriptor(E,m);if(y===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:v(g,m,p)}else{if("value"in y)return y.value;var _=y.get;return _===void 0?void 0:_.call(p)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function h(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function c(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var d=function(v){c(E,v);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"add",value:function(p,y){if(y==="+1"||y==="-1"){var g=this.value(p)||0;y=y==="+1"?g+1:g-1}return y===0?(this.remove(p),!0):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,p,y)}},{key:"canAdd",value:function(p,y){return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,y)||s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,parseInt(y))}},{key:"value",value:function(p){return parseInt(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,p))||void 0}}]),E}(l.default.Attributor.Class),w=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(w,v){for(var E=0;E<v.length;E++){var m=v[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}return function(w,v,E){return v&&d(w.prototype,v),E&&d(w,E),w}}(),s=i(4),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}function u(d,w){if(!(d instanceof w))throw new TypeError("Cannot call a class as a function")}function f(d,w){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:d}function h(d,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);d.prototype=Object.create(w&&w.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(d,w):d.__proto__=w)}var c=function(d){h(w,d);function w(){return u(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),w}(a.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(_,O){for(var T=0;T<O.length;T++){var b=O[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,O,T){return O&&g(_.prototype,O),T&&g(_,T),_}}(),s=function g(_,O,T){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,O);if(b===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:g(A,O,T)}else{if("value"in b)return b.value;var k=b.get;return k===void 0?void 0:k.call(T)}},a=i(0),l=d(a),u=i(4),f=d(u),h=i(25),c=d(h);function d(g){return g&&g.__esModule?g:{default:g}}function w(g,_,O){return _ in g?Object.defineProperty(g,_,{value:O,enumerable:!0,configurable:!0,writable:!0}):g[_]=O,g}function v(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function E(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function m(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var p=function(g){m(_,g);function _(){return v(this,_),E(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(T,b){T===y.blotName&&!b?this.replaceWith(l.default.create(this.statics.scope)):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,T,b)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,b){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,b),this):(this.parent.unwrap(),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,T,b))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:s(_.__proto__||Object.getPrototypeOf(_),"formats",this).call(this,T)}}]),_}(f.default);p.blotName="list-item",p.tagName="LI";var y=function(g){m(_,g),o(_,null,[{key:"create",value:function(T){var b=T==="ordered"?"OL":"UL",A=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,b);return(T==="checked"||T==="unchecked")&&A.setAttribute("data-checked",T==="checked"),A}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function _(O){v(this,_);var T=E(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O)),b=function(k){if(k.target.parentNode===O){var S=T.statics.formats(O),N=l.default.find(k.target);S==="checked"?N.format("list","unchecked"):S==="unchecked"&&N.format("list","checked")}};return O.addEventListener("touchstart",b),O.addEventListener("mousedown",b),T}return o(_,[{key:"format",value:function(T,b){this.children.length>0&&this.children.tail.format(T,b)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,b){if(T instanceof p)s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,T,b);else{var A=b==null?this.length():b.offset(this),k=this.split(A);k.parent.insertBefore(T,k)}}},{key:"optimize",value:function(T){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,T);var b=this.next;b!=null&&b.prev===this&&b.statics.blotName===this.statics.blotName&&b.domNode.tagName===this.domNode.tagName&&b.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(b.moveChildren(this),b.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var b=l.default.create(this.statics.defaultChild);T.moveChildren(b),this.appendChild(b)}s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replace",this).call(this,T)}}]),_}(c.default);y.blotName="list",y.scope=l.default.Scope.BLOCK_BLOT,y.tagName=["OL","UL"],y.defaultChild="list-item",y.allowedChildren=[p],r.ListItem=p,r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),v}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),s=function E(m,p,y){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,y)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(y)}},a=i(0),l=f(a),u=i(27);function f(E){return E&&E.__esModule?E:{default:E}}function h(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function c(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function d(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var w=["alt","height","width"],v=function(E){d(m,E);function m(){return h(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(y,g){w.indexOf(y)>-1?g?this.domNode.setAttribute(y,g):this.domNode.removeAttribute(y):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,g)}}],[{key:"create",value:function(y){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,y);return typeof y=="string"&&g.setAttribute("src",this.sanitize(y)),g}},{key:"formats",value:function(y){return w.reduce(function(g,_){return y.hasAttribute(_)&&(g[_]=y.getAttribute(_)),g},{})}},{key:"match",value:function(y){return/\.(jpe?g|gif|png)$/.test(y)||/^data:image\/.+;base64/.test(y)}},{key:"sanitize",value:function(y){return(0,u.sanitize)(y,["http","https","data"])?y:"//:0"}},{key:"value",value:function(y){return y.getAttribute("src")}}]),m}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),s=function E(m,p,y){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,y)}else{if("value"in g)return g.value;var O=g.get;return O===void 0?void 0:O.call(y)}},a=i(4),l=i(27),u=f(l);function f(E){return E&&E.__esModule?E:{default:E}}function h(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function c(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function d(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var w=["height","width"],v=function(E){d(m,E);function m(){return h(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(y,g){w.indexOf(y)>-1?g?this.domNode.setAttribute(y,g):this.domNode.removeAttribute(y):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,g)}}],[{key:"create",value:function(y){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,y);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(y)),g}},{key:"formats",value:function(y){return w.reduce(function(g,_){return y.hasAttribute(_)&&(g[_]=y.getAttribute(_)),g},{})}},{key:"sanitize",value:function(y){return u.default.sanitize(y)}},{key:"value",value:function(y){return y.getAttribute("src")}}]),m}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function y(g,_){for(var O=0;O<_.length;O++){var T=_[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,_,O){return _&&y(g.prototype,_),O&&y(g,O),g}}(),s=function y(g,_,O){g===null&&(g=Function.prototype);var T=Object.getOwnPropertyDescriptor(g,_);if(T===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:y(b,_,O)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(O)}},a=i(35),l=d(a),u=i(5),f=d(u),h=i(9),c=d(h);function d(y){return y&&y.__esModule?y:{default:y}}function w(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function v(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function E(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var m=function(y){E(g,y);function g(){return w(this,g),v(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(O){var T=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",O)),T}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),g}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var p=function(y){E(g,y),o(g,null,[{key:"register",value:function(){f.default.register(m,!0)}}]);function g(){w(this,g);var _=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return _}return g}(c.default);r.FormulaBlot=m,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function O(T,b){for(var A=0;A<b.length;A++){var k=b[A];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(T,k.key,k)}}return function(T,b,A){return b&&O(T.prototype,b),A&&O(T,A),T}}(),s=function O(T,b,A){T===null&&(T=Function.prototype);var k=Object.getOwnPropertyDescriptor(T,b);if(k===void 0){var S=Object.getPrototypeOf(T);return S===null?void 0:O(S,b,A)}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(A)}},a=i(0),l=v(a),u=i(5),f=v(u),h=i(9),c=v(h),d=i(13),w=v(d);function v(O){return O&&O.__esModule?O:{default:O}}function E(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}function m(O,T){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:O}function p(O,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);O.prototype=Object.create(T&&T.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(O,T):O.__proto__=T)}var y=function(O){p(T,O);function T(){return E(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),T}(w.default);y.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),_=function(O){p(T,O),o(T,null,[{key:"register",value:function(){f.default.register(g,!0),f.default.register(y,!0)}}]);function T(b,A){E(this,T);var k=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,b,A));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return k.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){k.highlight(),S=null},k.options.interval)}),k.highlight(),k}return o(T,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(y).forEach(function(S){S.highlight(A.options.highlight)}),this.quill.update(f.default.sources.SILENT),k!=null&&this.quill.setSelection(k,f.default.sources.SILENT)}}}]),T}(c.default);_.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var T=window.hljs.highlightAuto(O);return T.value}}(),interval:1e3},r.CodeBlock=y,r.CodeToken=g,r.default=_},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function T(b,A,k){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,A);if(S===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:T(N,A,k)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(k)}},s=function(){function T(b,A){for(var k=0;k<A.length;k++){var S=A[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,A,k){return A&&T(b.prototype,A),k&&T(b,k),b}}(),a=i(3),l=E(a),u=i(8),f=E(u),h=i(43),c=E(h),d=i(15),w=i(41),v=E(w);function E(T){return T&&T.__esModule?T:{default:T}}function m(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function p(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function y(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],_=function(T){y(b,T);function b(A,k){m(this,b),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=g);var S=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,A,k));return S.quill.container.classList.add("ql-bubble"),S}return s(b,[{key:"extendToolbar",value:function(k){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),v.default)}}]),b}(c.default);_.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){b?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(T){y(b,T);function b(A,k){m(this,b);var S=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,A,k));return S.quill.on(f.default.events.EDITOR_CHANGE,function(N,C,R,F){if(N===f.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&F===f.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var z=S.quill.getLines(C.index,C.length);if(z.length===1)S.position(S.quill.getBounds(C));else{var B=z[z.length-1],H=S.quill.getIndex(B),j=Math.min(B.length()-1,C.index+C.length-H),L=S.quill.getBounds(new d.Range(H,j));S.position(L)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(b,[{key:"listen",value:function(){var k=this;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var S=k.quill.getSelection();S!=null&&k.position(k.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var S=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"position",this).call(this,k),N=this.root.querySelector(".ql-tooltip-arrow");if(N.style.marginLeft="",S===0)return S;N.style.marginLeft=-1*S-N.offsetWidth/2+"px"}}]),b}(h.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=O,r.default=_},function(n,r,i){n.exports=i(63)}]).default})})(lk);var R6=lk.exports,P6=Wt&&Wt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xu=Wt&&Wt.__assign||function(){return Xu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xu.apply(this,arguments)},L6=Wt&&Wt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},cf=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Nn=cf(D),D6=cf(em),ds=cf(x6),l1=cf(R6),M6=function(t){P6(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,f,h,c;o==="text-change"?(f=(u=r).onEditorChangeText)===null||f===void 0||f.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((c=(h=r).onEditorChangeSelection)===null||c===void 0||c.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Nn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Nn.default.Children.count(n.children)){var i=Nn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),L6(this.cleanProps,this.dirtyProps).some(function(l){return!ds.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!ds.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),u1(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new l1.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?ds.default(n.ops,r.ops):ds.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),u1(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=D6.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return Nn.default.Children.count(i)?Nn.default.cloneElement(Nn.default.Children.only(i),a):o?Nn.default.createElement("pre",Xu({},a)):Nn.default.createElement("div",Xu({},a))},e.prototype.render=function(){var n;return Nn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,f;if(this.editor){var h=this.getEditorSelection(),c=!h&&n,d=h&&!n;ds.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),c?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):d&&((f=(u=this.props).onBlur)===null||f===void 0||f.call(u,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=l1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Nn.default.Component);function u1(t){Promise.resolve().then(t)}var $6=M6;const uk=wa($6);const ck=()=>{const t=Oa(),[e,n]=D.useState(""),[r,i]=D.useState(""),[o,s]=D.useState(""),a=async()=>{if(e.trim()===""){s("Title field is required.");return}const l={title:e,postText:r,createdAt:new Date().toISOString(),author:{name:"Your Name"}};await zD(Yc(Ii,"posts"),l),t("/lokman/blog")};return oe("div",{className:"createPostPage",children:[M("h1",{children:"Create Post"}),oe("div",{className:"cpContainer",children:[oe(on,{children:[oe(on.Group,{controlId:"formTitle",children:[M(on.Label,{children:"Title:"}),M(on.Control,{type:"text",placeholder:"Title...",value:e,onChange:l=>n(l.target.value),required:!0}),o&&M("div",{className:"text-danger",children:o})]}),oe(on.Group,{controlId:"formPost",children:[M(on.Label,{children:"Post:"}),M(uk,{className:"react-quill",theme:"snow",value:r,onChange:i})]})]}),M(zE,{variant:"primary",onClick:a,children:"Create Post"})]})]})},fk=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(!0);return D.useEffect(()=>{const i=MM(xg,o=>{o?(e(o.email),localStorage.setItem("email",o.email)):(e(""),localStorage.removeItem("email")),r(!1)});return()=>i()},[]),[t,n]},F6=()=>{const{id:t}=CE(),[e,n]=D.useState(null);return fk(),D.useEffect(()=>{(async()=>{try{const i=Xc(Ii,"posts",t),o=await lb(i);o.exists()?(console.log("Post data:",o.data()),n({...o.data(),id:o.id})):console.error("No post found with the given id:",t)}catch(i){console.error("Error fetching the post:",i)}})()},[t]),e?M($n,{children:oe("div",{className:"post-page",children:[M("p",{children:new Date(e.createdAt).toLocaleString()}),M("h1",{children:e.title}),M("div",{dangerouslySetInnerHTML:{__html:e.postText}})]})}):M("div",{children:"Loading..."})},j6=({isAuth:t,setIsAuth:e})=>{let n=Oa();const r=()=>{$M(xg).then(()=>{localStorage.clear(),e(!1),n("/lokman/blog")}).catch(i=>{console.error("Sign out error:",i)})};return t?M($n,{children:M("button",{onClick:r,children:"Log Out"})}):null},U6=({isOpen:t,onClose:e,onConfirm:n})=>t?M("div",{className:"modal",children:oe("div",{className:"modal-content",children:[M("h2",{children:"Are you sure?"}),M("p",{children:"Do you want to delete this post?"}),oe("div",{className:"modal-actions",children:[M("button",{onClick:e,children:"Cancel"}),M("button",{onClick:n,children:"Delete"})]})]})}):null,B6=()=>{const[t,e]=fk(),[n,r]=D.useState([]),i=Yc(Ii,"posts"),o=async()=>{const m=(await qu(i)).docs.map(p=>({...p.data(),id:p.id})).sort((p,y)=>new Date(y.createdAt)-new Date(p.createdAt));r(m)};D.useEffect(()=>{(async()=>{const p=(await qu(i)).docs.map(y=>({...y.data(),id:y.id})).sort((y,g)=>new Date(g.createdAt)-new Date(y.createdAt));console.log(p),r(p)})()},[]);const s=async v=>{const E=Xc(Ii,"posts",v);await VD(E)},[a,l]=D.useState(!1),[u,f]=D.useState(null),h=v=>{f(v),l(!0)},c=()=>{l(!1)},d=async()=>{u&&await s(u),c()},w=t==="ramdani.lokman@gmail.com";return oe($n,{children:[M(Wb,{isAuth:!!t}),M(j6,{isAuth:!!t}),M("div",{children:M("h1",{children:"Blog"})}),w&&M(ck,{onPostCreated:o}),M("div",{children:n.map(v=>oe("div",{className:"post",children:[M(sn,{to:`/post/${v.id}`,children:M("h1",{children:v.title})}),oe("h3",{children:["@",v.author.name]}),M("p",{children:new Date(v.createdAt).toLocaleString()}),w&&oe($n,{children:[M(sn,{to:`/edit/${v.id}`,children:M("button",{children:"Edit"})}),M("button",{onClick:()=>h(v.id),children:"Delete"})]}),M("hr",{})]},v.id))}),M(U6,{isOpen:a,onClose:c,onConfirm:d})]})};const q6=()=>{const{postId:t}=CE(),e=Oa(),[n,r]=D.useState(""),[i,o]=D.useState(""),[s,a]=D.useState(""),l=Xc(Ii,"posts",t);D.useEffect(()=>{(async()=>{const h=await lb(l);if(h.exists()){const c=h.data();r(c.title),o(c.postText)}else e("/not-found")})()},[t,e]);const u=async()=>{if(n.trim()===""){a("Title field is required.");return}await qD(l,{title:n,postText:i}),e(`/post/${t}`)};return oe("div",{className:"editPostPage",children:[M("h1",{children:"Edit Post"}),oe("div",{className:"epContainer",children:[oe(on,{children:[oe(on.Group,{controlId:"formTitle",children:[M(on.Label,{children:"Title:"}),M(on.Control,{type:"text",placeholder:"Title...",value:n,onChange:f=>r(f.target.value),required:!0}),s&&M("div",{className:"text-danger",children:s})]}),oe(on.Group,{controlId:"formPost",children:[M(on.Label,{children:"Post:"}),M(uk,{className:"react-quill",theme:"snow",value:i,onChange:o})]})]}),M(zE,{variant:"primary",onClick:u,children:"Save Changes"})]})]})},V6=()=>oe("div",{className:"social-media-links-container",children:[M("h1",{className:"social-media-links-title",children:"Connect with me"}),oe("ul",{className:"social-media-links-list",children:[M("li",{children:M("a",{className:"social-media-link",href:"https://github.com/your-username",children:"Github"})}),M("li",{children:M("a",{className:"social-media-link",href:"https://www.twitch.tv/your-username",children:"Twitch"})}),M("li",{children:M("a",{className:"social-media-link",href:"https://www.instagram.com/your-username/",children:"Instagram"})}),M("li",{children:M("a",{className:"social-media-link",href:"https://twitter.com/your-username",children:"Twitter"})}),M("li",{children:M("a",{className:"social-media-link",href:"https://www.youtube.com/user/your-username",children:"Youtube"})}),M("li",{children:M("a",{className:"social-media-link",href:"https://www.linkedin.com/in/your-username",children:"LinkedIn"})}),M("li",{children:M("a",{className:"social-media-link",href:"https://www.fiverr.com/users/your-username",children:"Fiverr"})})]})]}),z6=()=>M("div",{className:"post_list",children:oe("div",{className:"container",children:[M("h1",{children:"Projects"}),M("hr",{}),M("p",{children:"Sorry, this page is currently under construction. Check back later for updates on my projects!"})]})});function H6(){const[t,e]=D.useState(!1);return oe("div",{className:"App",children:[M(II,{children:M("div",{className:"table-container",children:M("table",{children:oe("tbody",{children:[M("tr",{children:M("td",{children:M(t2,{})})}),M("tr",{children:M("td",{className:"main_content",children:oe(SI,{children:[M(tn,{path:"/",element:M(L0,{})}),M(tn,{path:"/introduction",element:M(L0,{})}),M(tn,{path:"/contact",element:M(r4,{})}),M(tn,{path:"/blog",element:M(i4,{})}),M(tn,{path:"/createpost",element:M(ck,{})}),M(tn,{path:"/login",element:M(Wb,{setIsAuth:e})}),M(tn,{path:"/post/:id",element:M(F6,{})}),M(tn,{path:"/edit/:postId",element:M(q6,{})}),M(tn,{path:"/moderator",element:M(B6,{})}),M(tn,{path:"/links",element:M(V6,{})}),M(tn,{path:"/projects",element:M(z6,{})})]})})})]})})})}),M("div",{className:"copyrights",children:M("p",{children:"2023 Lokman RAMDANI"})}),M("div",{}),M("div",{className:"nixie_clock",children:M(n2,{})})]})}ph.createRoot(document.getElementById("root")).render(M(wn.StrictMode,{children:M(H6,{})}));
