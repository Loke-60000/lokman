(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ta(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u1={exports:{}},tc={},c1={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=Symbol.for("react.element"),Tk=Symbol.for("react.portal"),Sk=Symbol.for("react.fragment"),bk=Symbol.for("react.strict_mode"),kk=Symbol.for("react.profiler"),Ok=Symbol.for("react.provider"),Nk=Symbol.for("react.context"),Ik=Symbol.for("react.forward_ref"),Ck=Symbol.for("react.suspense"),Ak=Symbol.for("react.memo"),xk=Symbol.for("react.lazy"),Lg=Symbol.iterator;function Rk(t){return t===null||typeof t!="object"?null:(t=Lg&&t[Lg]||t["@@iterator"],typeof t=="function"?t:null)}var f1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h1=Object.assign,d1={};function Lo(t,e,n){this.props=t,this.context=e,this.refs=d1,this.updater=n||f1}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p1(){}p1.prototype=Lo.prototype;function sp(t,e,n){this.props=t,this.context=e,this.refs=d1,this.updater=n||f1}var ap=sp.prototype=new p1;ap.constructor=sp;h1(ap,Lo.prototype);ap.isPureReactComponent=!0;var Dg=Array.isArray,m1=Object.prototype.hasOwnProperty,lp={current:null},g1={key:!0,ref:!0,__self:!0,__source:!0};function v1(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)m1.call(e,r)&&!g1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sa,type:t,key:o,ref:s,props:i,_owner:lp.current}}function Pk(t,e){return{$$typeof:Sa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function up(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sa}function Lk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mg=/\/+/g;function ff(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lk(""+t.key):e.toString(36)}function Al(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Sa:case Tk:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ff(s,0):r,Dg(i)?(n="",t!=null&&(n=t.replace(Mg,"$&/")+"/"),Al(i,e,n,"",function(u){return u})):i!=null&&(up(i)&&(i=Pk(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Mg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Dg(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+ff(o,a);s+=Al(o,e,n,l,i)}else if(l=Rk(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+ff(o,a++),s+=Al(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function el(t,e,n){if(t==null)return t;var r=[],i=0;return Al(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Dk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},xl={transition:null},Mk={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:xl,ReactCurrentOwner:lp};ke.Children={map:el,forEach:function(t,e,n){el(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return el(t,function(){e++}),e},toArray:function(t){return el(t,function(e){return e})||[]},only:function(t){if(!up(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Lo;ke.Fragment=Sk;ke.Profiler=kk;ke.PureComponent=sp;ke.StrictMode=bk;ke.Suspense=Ck;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mk;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=lp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)m1.call(e,l)&&!g1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sa,type:t.type,key:i,ref:o,props:r,_owner:s}};ke.createContext=function(t){return t={$$typeof:Nk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ok,_context:t},t.Consumer=t};ke.createElement=v1;ke.createFactory=function(t){var e=v1.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:Ik,render:t}};ke.isValidElement=up;ke.lazy=function(t){return{$$typeof:xk,_payload:{_status:-1,_result:t},_init:Dk}};ke.memo=function(t,e){return{$$typeof:Ak,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=xl.transition;xl.transition={};try{t()}finally{xl.transition=e}};ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ke.useCallback=function(t,e){return Mt.current.useCallback(t,e)};ke.useContext=function(t){return Mt.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};ke.useEffect=function(t,e){return Mt.current.useEffect(t,e)};ke.useId=function(){return Mt.current.useId()};ke.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Mt.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};ke.useRef=function(t){return Mt.current.useRef(t)};ke.useState=function(t){return Mt.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return Mt.current.useTransition()};ke.version="18.2.0";c1.exports=ke;var D=c1.exports;const mn=Ta(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k=D,Fk=Symbol.for("react.element"),jk=Symbol.for("react.fragment"),Uk=Object.prototype.hasOwnProperty,Bk=$k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qk={key:!0,ref:!0,__self:!0,__source:!0};function y1(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Uk.call(e,r)&&!qk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Fk,type:t,key:o,ref:s,props:i,_owner:Bk.current}}tc.Fragment=jk;tc.jsx=y1;tc.jsxs=y1;u1.exports=tc;var cp=u1.exports;const mi=cp.Fragment,j=cp.jsx,le=cp.jsxs;var mh={},w1={exports:{}},Jt={},E1={exports:{}},_1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,F){var L=H.length;H.push(F);e:for(;0<L;){var I=L-1>>>1,R=H[I];if(0<i(R,F))H[I]=F,H[L]=R,L=I;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var F=H[0],L=H.pop();if(L!==F){H[0]=L;e:for(var I=0,R=H.length,M=R>>>1;I<M;){var V=2*(I+1)-1,q=H[V],x=V+1,U=H[x];if(0>i(q,L))x<R&&0>i(U,q)?(H[I]=U,H[x]=L,I=x):(H[I]=q,H[V]=L,I=V);else if(x<R&&0>i(U,L))H[I]=U,H[x]=L,I=x;else break e}}return F}function i(H,F){var L=H.sortIndex-F.sortIndex;return L!==0?L:H.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,h=null,c=3,d=!1,w=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(H){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=H)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function g(H){if(v=!1,y(H),!w)if(n(l)!==null)w=!0,z(_);else{var F=n(u);F!==null&&B(g,F.startTime-H)}}function _(H,F){w=!1,v&&(v=!1,m(k),k=-1),d=!0;var L=c;try{for(y(F),h=n(l);h!==null&&(!(h.expirationTime>F)||H&&!S());){var I=h.callback;if(typeof I=="function"){h.callback=null,c=h.priorityLevel;var R=I(h.expirationTime<=F);F=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(l)&&r(l),y(F)}else r(l);h=n(l)}if(h!==null)var M=!0;else{var V=n(u);V!==null&&B(g,V.startTime-F),M=!1}return M}finally{h=null,c=L,d=!1}}var b=!1,T=null,k=-1,A=5,O=-1;function S(){return!(t.unstable_now()-O<A)}function N(){if(T!==null){var H=t.unstable_now();O=H;var F=!0;try{F=T(!0,H)}finally{F?C():(b=!1,T=null)}}else b=!1}var C;if(typeof p=="function")C=function(){p(N)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=N,C=function(){$.postMessage(null)}}else C=function(){E(N,0)};function z(H){T=H,b||(b=!0,C())}function B(H,F){k=E(function(){H(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||d||(w=!0,z(_))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(c){case 1:case 2:case 3:var F=3;break;default:F=c}var L=c;c=F;try{return H()}finally{c=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,F){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var L=c;c=H;try{return F()}finally{c=L}},t.unstable_scheduleCallback=function(H,F,L){var I=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?I+L:I):L=I,H){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,H={id:f++,callback:F,priorityLevel:H,startTime:L,expirationTime:R,sortIndex:-1},L>I?(H.sortIndex=L,e(u,H),n(l)===null&&H===n(u)&&(v?(m(k),k=-1):v=!0,B(g,L-I))):(H.sortIndex=R,e(l,H),w||d||(w=!0,z(_))),H},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(H){var F=c;return function(){var L=c;c=F;try{return H.apply(this,arguments)}finally{c=L}}}})(_1);E1.exports=_1;var Vk=E1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=D,Yt=Vk;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S1=new Set,js={};function Ii(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(js[t]=e,t=0;t<e.length;t++)S1.add(e[t])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,zk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$g={},Fg={};function Hk(t){return gh.call(Fg,t)?!0:gh.call($g,t)?!1:zk.test(t)?Fg[t]=!0:($g[t]=!0,!1)}function Kk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wk(t,e,n,r){if(e===null||typeof e>"u"||Kk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var fp=/[\-:]([a-z])/g;function hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fp,hp);yt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fp,hp);yt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fp,hp);yt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function dp(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wk(e,n,i,r)&&(n=null),r||i===null?Hk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=T1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),b1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),yh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),pr=Symbol.for("react.lazy"),O1=Symbol.for("react.offscreen"),jg=Symbol.iterator;function ts(t){return t===null||typeof t!="object"?null:(t=jg&&t[jg]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,hf;function ms(t){if(hf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hf=e&&e[1]||""}return`
`+hf+t}var df=!1;function pf(t,e){if(!t||df)return"";df=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{df=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ms(t):""}function Gk(t){switch(t.tag){case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return t=pf(t.type,!1),t;case 11:return t=pf(t.type.render,!1),t;case 1:return t=pf(t.type,!0),t;default:return""}}function Eh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vi:return"Fragment";case qi:return"Portal";case vh:return"Profiler";case pp:return"StrictMode";case yh:return"Suspense";case wh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k1:return(t.displayName||"Context")+".Consumer";case b1:return(t._context.displayName||"Context")+".Provider";case mp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gp:return e=t.displayName||null,e!==null?e:Eh(t.type)||"Memo";case pr:e=t._payload,t=t._init;try{return Eh(t(e))}catch{}}return null}function Qk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eh(e);case 8:return e===pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yk(t){var e=N1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nl(t){t._valueTracker||(t._valueTracker=Yk(t))}function I1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _h(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ug(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C1(t,e){e=e.checked,e!=null&&dp(t,"checked",e,!1)}function Th(t,e){C1(t,e);var n=jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sh(t,e.type,jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sh(t,e,n){(e!=="number"||Yl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gs=Array.isArray;function ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(gs(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jr(n)}}function A1(t,e){var n=jr(e.value),r=jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rl,R1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rl=rl||document.createElement("div"),rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xk=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(t){Xk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ks[e]=ks[t]})});function P1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ks.hasOwnProperty(t)&&ks[t]?(""+e).trim():e+"px"}function L1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=P1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Jk=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oh(t,e){if(e){if(Jk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Nh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=null;function vp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ch=null,io=null,oo=null;function zg(t){if(t=Oa(t)){if(typeof Ch!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=sc(e),Ch(t.stateNode,t.type,e))}}function D1(t){io?oo?oo.push(t):oo=[t]:io=t}function M1(){if(io){var t=io,e=oo;if(oo=io=null,zg(t),e)for(t=0;t<e.length;t++)zg(e[t])}}function $1(t,e){return t(e)}function F1(){}var mf=!1;function j1(t,e,n){if(mf)return t(e,n);mf=!0;try{return $1(t,e,n)}finally{mf=!1,(io!==null||oo!==null)&&(F1(),M1())}}function Bs(t,e){var n=t.stateNode;if(n===null)return null;var r=sc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Ah=!1;if(Xn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Ah=!1}function Zk(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Os=!1,Xl=null,Jl=!1,xh=null,eO={onError:function(t){Os=!0,Xl=t}};function tO(t,e,n,r,i,o,s,a,l){Os=!1,Xl=null,Zk.apply(eO,arguments)}function nO(t,e,n,r,i,o,s,a,l){if(tO.apply(this,arguments),Os){if(Os){var u=Xl;Os=!1,Xl=null}else throw Error(Z(198));Jl||(Jl=!0,xh=u)}}function Ci(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hg(t){if(Ci(t)!==t)throw Error(Z(188))}function rO(t){var e=t.alternate;if(!e){if(e=Ci(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Hg(i),t;if(o===r)return Hg(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function B1(t){return t=rO(t),t!==null?q1(t):null}function q1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=q1(t);if(e!==null)return e;t=t.sibling}return null}var V1=Yt.unstable_scheduleCallback,Kg=Yt.unstable_cancelCallback,iO=Yt.unstable_shouldYield,oO=Yt.unstable_requestPaint,Je=Yt.unstable_now,sO=Yt.unstable_getCurrentPriorityLevel,yp=Yt.unstable_ImmediatePriority,z1=Yt.unstable_UserBlockingPriority,Zl=Yt.unstable_NormalPriority,aO=Yt.unstable_LowPriority,H1=Yt.unstable_IdlePriority,nc=null,In=null;function lO(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(nc,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:fO,uO=Math.log,cO=Math.LN2;function fO(t){return t>>>=0,t===0?32:31-(uO(t)/cO|0)|0}var il=64,ol=4194304;function vs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=vs(a):(o&=s,o!==0&&(r=vs(o)))}else s=n&~i,s!==0?r=vs(s):o!==0&&(r=vs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vn(e),i=1<<n,r|=t[n],e&=~i;return r}function hO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-vn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=hO(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Rh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K1(){var t=il;return il<<=1,!(il&4194240)&&(il=64),t}function gf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ba(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function pO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function wp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function W1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G1,Ep,Q1,Y1,X1,Ph=!1,sl=[],Or=null,Nr=null,Ir=null,qs=new Map,Vs=new Map,vr=[],mO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wg(t,e){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":qs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(e.pointerId)}}function rs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Oa(e),e!==null&&Ep(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gO(t,e,n,r,i){switch(e){case"focusin":return Or=rs(Or,t,e,n,r,i),!0;case"dragenter":return Nr=rs(Nr,t,e,n,r,i),!0;case"mouseover":return Ir=rs(Ir,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qs.set(o,rs(qs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vs.set(o,rs(Vs.get(o)||null,t,e,n,r,i)),!0}return!1}function J1(t){var e=ri(t.target);if(e!==null){var n=Ci(e);if(n!==null){if(e=n.tag,e===13){if(e=U1(n),e!==null){t.blockedOn=e,X1(t.priority,function(){Q1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ih=r,n.target.dispatchEvent(r),Ih=null}else return e=Oa(n),e!==null&&Ep(e),t.blockedOn=n,!1;e.shift()}return!0}function Gg(t,e,n){Rl(t)&&n.delete(e)}function vO(){Ph=!1,Or!==null&&Rl(Or)&&(Or=null),Nr!==null&&Rl(Nr)&&(Nr=null),Ir!==null&&Rl(Ir)&&(Ir=null),qs.forEach(Gg),Vs.forEach(Gg)}function is(t,e){t.blockedOn===e&&(t.blockedOn=null,Ph||(Ph=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,vO)))}function zs(t){function e(i){return is(i,t)}if(0<sl.length){is(sl[0],t);for(var n=1;n<sl.length;n++){var r=sl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Or!==null&&is(Or,t),Nr!==null&&is(Nr,t),Ir!==null&&is(Ir,t),qs.forEach(e),Vs.forEach(e),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)J1(n),n.blockedOn===null&&vr.shift()}var so=ar.ReactCurrentBatchConfig,tu=!0;function yO(t,e,n,r){var i=Ae,o=so.transition;so.transition=null;try{Ae=1,_p(t,e,n,r)}finally{Ae=i,so.transition=o}}function wO(t,e,n,r){var i=Ae,o=so.transition;so.transition=null;try{Ae=4,_p(t,e,n,r)}finally{Ae=i,so.transition=o}}function _p(t,e,n,r){if(tu){var i=Lh(t,e,n,r);if(i===null)Of(t,e,r,nu,n),Wg(t,r);else if(gO(i,t,e,n,r))r.stopPropagation();else if(Wg(t,r),e&4&&-1<mO.indexOf(t)){for(;i!==null;){var o=Oa(i);if(o!==null&&G1(o),o=Lh(t,e,n,r),o===null&&Of(t,e,r,nu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Of(t,e,r,null,n)}}var nu=null;function Lh(t,e,n,r){if(nu=null,t=vp(r),t=ri(t),t!==null)if(e=Ci(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nu=t,null}function Z1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sO()){case yp:return 1;case z1:return 4;case Zl:case aO:return 16;case H1:return 536870912;default:return 16}default:return 16}}var Tr=null,Tp=null,Pl=null;function ew(){if(Pl)return Pl;var t,e=Tp,n=e.length,r,i="value"in Tr?Tr.value:Tr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Pl=i.slice(t,1<r?1-r:void 0)}function Ll(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function al(){return!0}function Qg(){return!1}function Zt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?al:Qg,this.isPropagationStopped=Qg,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=Zt(Do),ka=We({},Do,{view:0,detail:0}),EO=Zt(ka),vf,yf,os,rc=We({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(vf=t.screenX-os.screenX,yf=t.screenY-os.screenY):yf=vf=0,os=t),vf)},movementY:function(t){return"movementY"in t?t.movementY:yf}}),Yg=Zt(rc),_O=We({},rc,{dataTransfer:0}),TO=Zt(_O),SO=We({},ka,{relatedTarget:0}),wf=Zt(SO),bO=We({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),kO=Zt(bO),OO=We({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NO=Zt(OO),IO=We({},Do,{data:0}),Xg=Zt(IO),CO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xO[t])?!!e[t]:!1}function bp(){return RO}var PO=We({},ka,{key:function(t){if(t.key){var e=CO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LO=Zt(PO),DO=We({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=Zt(DO),MO=We({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),$O=Zt(MO),FO=We({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),jO=Zt(FO),UO=We({},rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BO=Zt(UO),qO=[9,13,27,32],kp=Xn&&"CompositionEvent"in window,Ns=null;Xn&&"documentMode"in document&&(Ns=document.documentMode);var VO=Xn&&"TextEvent"in window&&!Ns,tw=Xn&&(!kp||Ns&&8<Ns&&11>=Ns),Zg=String.fromCharCode(32),ev=!1;function nw(t,e){switch(t){case"keyup":return qO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function zO(t,e){switch(t){case"compositionend":return rw(e);case"keypress":return e.which!==32?null:(ev=!0,Zg);case"textInput":return t=e.data,t===Zg&&ev?null:t;default:return null}}function HO(t,e){if(zi)return t==="compositionend"||!kp&&nw(t,e)?(t=ew(),Pl=Tp=Tr=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tw&&e.locale!=="ko"?null:e.data;default:return null}}var KO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KO[t.type]:e==="textarea"}function iw(t,e,n,r){D1(r),e=ru(e,"onChange"),0<e.length&&(n=new Sp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Is=null,Hs=null;function WO(t){mw(t,0)}function ic(t){var e=Wi(t);if(I1(e))return t}function GO(t,e){if(t==="change")return e}var ow=!1;if(Xn){var Ef;if(Xn){var _f="oninput"in document;if(!_f){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),_f=typeof nv.oninput=="function"}Ef=_f}else Ef=!1;ow=Ef&&(!document.documentMode||9<document.documentMode)}function rv(){Is&&(Is.detachEvent("onpropertychange",sw),Hs=Is=null)}function sw(t){if(t.propertyName==="value"&&ic(Hs)){var e=[];iw(e,Hs,t,vp(t)),j1(WO,e)}}function QO(t,e,n){t==="focusin"?(rv(),Is=e,Hs=n,Is.attachEvent("onpropertychange",sw)):t==="focusout"&&rv()}function YO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(Hs)}function XO(t,e){if(t==="click")return ic(e)}function JO(t,e){if(t==="input"||t==="change")return ic(e)}function ZO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:ZO;function Ks(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gh.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ov(t,e){var n=iv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iv(n)}}function aw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lw(){for(var t=window,e=Yl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yl(t.document)}return e}function Op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eN(t){var e=lw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aw(n.ownerDocument.documentElement,n)){if(r!==null&&Op(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ov(n,o);var s=ov(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tN=Xn&&"documentMode"in document&&11>=document.documentMode,Hi=null,Dh=null,Cs=null,Mh=!1;function sv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mh||Hi==null||Hi!==Yl(r)||(r=Hi,"selectionStart"in r&&Op(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&Ks(Cs,r)||(Cs=r,r=ru(Dh,"onSelect"),0<r.length&&(e=new Sp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hi)))}function ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ki={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},Tf={},uw={};Xn&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function oc(t){if(Tf[t])return Tf[t];if(!Ki[t])return t;var e=Ki[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uw)return Tf[t]=e[n];return t}var cw=oc("animationend"),fw=oc("animationiteration"),hw=oc("animationstart"),dw=oc("transitionend"),pw=new Map,av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,e){pw.set(t,e),Ii(e,[t])}for(var Sf=0;Sf<av.length;Sf++){var bf=av[Sf],nN=bf.toLowerCase(),rN=bf[0].toUpperCase()+bf.slice(1);zr(nN,"on"+rN)}zr(cw,"onAnimationEnd");zr(fw,"onAnimationIteration");zr(hw,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(dw,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function lv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nO(r,e,void 0,t),t.currentTarget=null}function mw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;lv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;lv(i,a,u),o=l}}}if(Jl)throw t=xh,Jl=!1,xh=null,t}function Me(t,e){var n=e[Bh];n===void 0&&(n=e[Bh]=new Set);var r=t+"__bubble";n.has(r)||(gw(e,t,2,!1),n.add(r))}function kf(t,e,n){var r=0;e&&(r|=4),gw(n,t,r,e)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[ul]){t[ul]=!0,S1.forEach(function(n){n!=="selectionchange"&&(iN.has(n)||kf(n,!1,t),kf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ul]||(e[ul]=!0,kf("selectionchange",!1,e))}}function gw(t,e,n,r){switch(Z1(e)){case 1:var i=yO;break;case 4:i=wO;break;default:i=_p}n=i.bind(null,e,n,t),i=void 0,!Ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Of(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ri(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}j1(function(){var u=o,f=vp(n),h=[];e:{var c=pw.get(t);if(c!==void 0){var d=Sp,w=t;switch(t){case"keypress":if(Ll(n)===0)break e;case"keydown":case"keyup":d=LO;break;case"focusin":w="focus",d=wf;break;case"focusout":w="blur",d=wf;break;case"beforeblur":case"afterblur":d=wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=TO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=$O;break;case cw:case fw:case hw:d=kO;break;case dw:d=jO;break;case"scroll":d=EO;break;case"wheel":d=BO;break;case"copy":case"cut":case"paste":d=NO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Jg}var v=(e&4)!==0,E=!v&&t==="scroll",m=v?c!==null?c+"Capture":null:c;v=[];for(var p=u,y;p!==null;){y=p;var g=y.stateNode;if(y.tag===5&&g!==null&&(y=g,m!==null&&(g=Bs(p,m),g!=null&&v.push(Gs(p,g,y)))),E)break;p=p.return}0<v.length&&(c=new d(c,w,null,n,f),h.push({event:c,listeners:v}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",c&&n!==Ih&&(w=n.relatedTarget||n.fromElement)&&(ri(w)||w[Jn]))break e;if((d||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,d?(w=n.relatedTarget||n.toElement,d=u,w=w?ri(w):null,w!==null&&(E=Ci(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(d=null,w=u),d!==w)){if(v=Yg,g="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Jg,g="onPointerLeave",m="onPointerEnter",p="pointer"),E=d==null?c:Wi(d),y=w==null?c:Wi(w),c=new v(g,p+"leave",d,n,f),c.target=E,c.relatedTarget=y,g=null,ri(f)===u&&(v=new v(m,p+"enter",w,n,f),v.target=y,v.relatedTarget=E,g=v),E=g,d&&w)t:{for(v=d,m=w,p=0,y=v;y;y=Di(y))p++;for(y=0,g=m;g;g=Di(g))y++;for(;0<p-y;)v=Di(v),p--;for(;0<y-p;)m=Di(m),y--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=Di(v),m=Di(m)}v=null}else v=null;d!==null&&uv(h,c,d,v,!1),w!==null&&E!==null&&uv(h,E,w,v,!0)}}e:{if(c=u?Wi(u):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var _=GO;else if(tv(c))if(ow)_=JO;else{_=YO;var b=QO}else(d=c.nodeName)&&d.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(_=XO);if(_&&(_=_(t,u))){iw(h,_,n,f);break e}b&&b(t,c,u),t==="focusout"&&(b=c._wrapperState)&&b.controlled&&c.type==="number"&&Sh(c,"number",c.value)}switch(b=u?Wi(u):window,t){case"focusin":(tv(b)||b.contentEditable==="true")&&(Hi=b,Dh=u,Cs=null);break;case"focusout":Cs=Dh=Hi=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,sv(h,n,f);break;case"selectionchange":if(tN)break;case"keydown":case"keyup":sv(h,n,f)}var T;if(kp)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zi?nw(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(tw&&n.locale!=="ko"&&(zi||k!=="onCompositionStart"?k==="onCompositionEnd"&&zi&&(T=ew()):(Tr=f,Tp="value"in Tr?Tr.value:Tr.textContent,zi=!0)),b=ru(u,k),0<b.length&&(k=new Xg(k,t,null,n,f),h.push({event:k,listeners:b}),T?k.data=T:(T=rw(n),T!==null&&(k.data=T)))),(T=VO?zO(t,n):HO(t,n))&&(u=ru(u,"onBeforeInput"),0<u.length&&(f=new Xg("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=T))}mw(h,e)})}function Gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bs(t,n),o!=null&&r.unshift(Gs(t,o,i)),o=Bs(t,e),o!=null&&r.push(Gs(t,o,i))),t=t.return}return r}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Bs(n,o),l!=null&&s.unshift(Gs(n,l,a))):i||(l=Bs(n,o),l!=null&&s.push(Gs(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var oN=/\r\n?/g,sN=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(oN,`
`).replace(sN,"")}function cl(t,e,n){if(e=cv(e),cv(t)!==e&&n)throw Error(Z(425))}function iu(){}var $h=null,Fh=null;function jh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,lN=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(t){return fv.resolve(null).then(t).catch(uN)}:Uh;function uN(t){setTimeout(function(){throw t})}function Nf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zs(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),kn="__reactFiber$"+Mo,Qs="__reactProps$"+Mo,Jn="__reactContainer$"+Mo,Bh="__reactEvents$"+Mo,cN="__reactListeners$"+Mo,fN="__reactHandles$"+Mo;function ri(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jn]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hv(t);t!==null;){if(n=t[kn])return n;t=hv(t)}return e}t=n,n=t.parentNode}return null}function Oa(t){return t=t[kn]||t[Jn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function sc(t){return t[Qs]||null}var qh=[],Gi=-1;function Hr(t){return{current:t}}function je(t){0>Gi||(t.current=qh[Gi],qh[Gi]=null,Gi--)}function Le(t,e){Gi++,qh[Gi]=t.current,t.current=e}var Ur={},At=Hr(Ur),Bt=Hr(!1),gi=Ur;function yo(t,e){var n=t.type.contextTypes;if(!n)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function ou(){je(Bt),je(At)}function dv(t,e,n){if(At.current!==Ur)throw Error(Z(168));Le(At,e),Le(Bt,n)}function vw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,Qk(t)||"Unknown",i));return We({},n,r)}function su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,gi=At.current,Le(At,t),Le(Bt,Bt.current),!0}function pv(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=vw(t,e,gi),r.__reactInternalMemoizedMergedChildContext=t,je(Bt),je(At),Le(At,t)):je(Bt),Le(Bt,n)}var Fn=null,ac=!1,If=!1;function yw(t){Fn===null?Fn=[t]:Fn.push(t)}function hN(t){ac=!0,yw(t)}function Kr(){if(!If&&Fn!==null){If=!0;var t=0,e=Ae;try{var n=Fn;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fn=null,ac=!1}catch(i){throw Fn!==null&&(Fn=Fn.slice(t+1)),V1(yp,Kr),i}finally{Ae=e,If=!1}}return null}var Qi=[],Yi=0,au=null,lu=0,en=[],tn=0,vi=null,Bn=1,qn="";function Xr(t,e){Qi[Yi++]=lu,Qi[Yi++]=au,au=t,lu=e}function ww(t,e,n){en[tn++]=Bn,en[tn++]=qn,en[tn++]=vi,vi=t;var r=Bn;t=qn;var i=32-vn(r)-1;r&=~(1<<i),n+=1;var o=32-vn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Bn=1<<32-vn(e)+i|n<<i|r,qn=o+t}else Bn=1<<o|n<<i|r,qn=t}function Np(t){t.return!==null&&(Xr(t,1),ww(t,1,0))}function Ip(t){for(;t===au;)au=Qi[--Yi],Qi[Yi]=null,lu=Qi[--Yi],Qi[Yi]=null;for(;t===vi;)vi=en[--tn],en[tn]=null,qn=en[--tn],en[tn]=null,Bn=en[--tn],en[tn]=null}var Gt=null,Wt=null,qe=!1,dn=null;function Ew(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Wt=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vi!==null?{id:Bn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,Wt=null,!0):!1;default:return!1}}function Vh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zh(t){if(qe){var e=Wt;if(e){var n=e;if(!mv(t,e)){if(Vh(t))throw Error(Z(418));e=Cr(n.nextSibling);var r=Gt;e&&mv(t,e)?Ew(r,n):(t.flags=t.flags&-4097|2,qe=!1,Gt=t)}}else{if(Vh(t))throw Error(Z(418));t.flags=t.flags&-4097|2,qe=!1,Gt=t}}}function gv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function fl(t){if(t!==Gt)return!1;if(!qe)return gv(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jh(t.type,t.memoizedProps)),e&&(e=Wt)){if(Vh(t))throw _w(),Error(Z(418));for(;e;)Ew(t,e),e=Cr(e.nextSibling)}if(gv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Gt?Cr(t.stateNode.nextSibling):null;return!0}function _w(){for(var t=Wt;t;)t=Cr(t.nextSibling)}function wo(){Wt=Gt=null,qe=!1}function Cp(t){dn===null?dn=[t]:dn.push(t)}var dN=ar.ReactCurrentBatchConfig;function fn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var uu=Hr(null),cu=null,Xi=null,Ap=null;function xp(){Ap=Xi=cu=null}function Rp(t){var e=uu.current;je(uu),t._currentValue=e}function Hh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){cu=t,Ap=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(Ap!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(cu===null)throw Error(Z(308));Xi=t,cu.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var ii=null;function Pp(t){ii===null?ii=[t]:ii.push(t)}function Tw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zn(t,r)}function Zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mr=!1;function Lp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zn(t,n)}return i=r.interleaved,i===null?(e.next=e,Pp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zn(t,n)}function Dl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wp(t,n)}}function vv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fu(t,e,n,r){var i=t.updateQueue;mr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,f=u=l=null,a=o;do{var c=a.lane,d=a.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(c=e,d=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(d,h,c);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,c=typeof w=="function"?w.call(d,h,c):w,c==null)break e;h=We({},h,c);break e;case 2:mr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else d={eventTime:d,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=d,l=h):f=f.next=d,s|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(1);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);wi|=s,t.lanes=s,t.memoizedState=h}}function yv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var bw=new T1.Component().refs;function Kh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lc={isMounted:function(t){return(t=t._reactInternals)?Ci(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=Rr(t),o=Wn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ar(t,o,i),e!==null&&(yn(e,t,i,r),Dl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=Rr(t),o=Wn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ar(t,o,i),e!==null&&(yn(e,t,i,r),Dl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=Rr(t),i=Wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ar(t,i,r),e!==null&&(yn(e,t,r,n),Dl(e,t,r))}};function wv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ks(n,r)||!Ks(i,o):!0}function kw(t,e,n){var r=!1,i=Ur,o=e.contextType;return typeof o=="object"&&o!==null?o=an(o):(i=qt(e)?gi:At.current,r=e.contextTypes,o=(r=r!=null)?yo(t,i):Ur),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ev(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lc.enqueueReplaceState(e,e.state,null)}function Wh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=bw,Lp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=an(o):(o=qt(e)?gi:At.current,i.context=yo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Kh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lc.enqueueReplaceState(i,i.state,null),fu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ss(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===bw&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function hl(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _v(t){var e=t._init;return e(t._payload)}function Ow(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Pr(m,p),m.index=0,m.sibling=null,m}function o(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,g){return p===null||p.tag!==6?(p=Df(y,m.mode,g),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,g){var _=y.type;return _===Vi?f(m,p,y.props.children,g,y.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pr&&_v(_)===p.type)?(g=i(p,y.props),g.ref=ss(m,p,y),g.return=m,g):(g=Bl(y.type,y.key,y.props,null,m.mode,g),g.ref=ss(m,p,y),g.return=m,g)}function u(m,p,y,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Mf(y,m.mode,g),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function f(m,p,y,g,_){return p===null||p.tag!==7?(p=fi(y,m.mode,g,_),p.return=m,p):(p=i(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Df(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case tl:return y=Bl(p.type,p.key,p.props,null,m.mode,y),y.ref=ss(m,null,p),y.return=m,y;case qi:return p=Mf(p,m.mode,y),p.return=m,p;case pr:var g=p._init;return h(m,g(p._payload),y)}if(gs(p)||ts(p))return p=fi(p,m.mode,y,null),p.return=m,p;hl(m,p)}return null}function c(m,p,y,g){var _=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:a(m,p,""+y,g);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tl:return y.key===_?l(m,p,y,g):null;case qi:return y.key===_?u(m,p,y,g):null;case pr:return _=y._init,c(m,p,_(y._payload),g)}if(gs(y)||ts(y))return _!==null?null:f(m,p,y,g,null);hl(m,y)}return null}function d(m,p,y,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(y)||null,a(p,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case tl:return m=m.get(g.key===null?y:g.key)||null,l(p,m,g,_);case qi:return m=m.get(g.key===null?y:g.key)||null,u(p,m,g,_);case pr:var b=g._init;return d(m,p,y,b(g._payload),_)}if(gs(g)||ts(g))return m=m.get(y)||null,f(p,m,g,_,null);hl(p,g)}return null}function w(m,p,y,g){for(var _=null,b=null,T=p,k=p=0,A=null;T!==null&&k<y.length;k++){T.index>k?(A=T,T=null):A=T.sibling;var O=c(m,T,y[k],g);if(O===null){T===null&&(T=A);break}t&&T&&O.alternate===null&&e(m,T),p=o(O,p,k),b===null?_=O:b.sibling=O,b=O,T=A}if(k===y.length)return n(m,T),qe&&Xr(m,k),_;if(T===null){for(;k<y.length;k++)T=h(m,y[k],g),T!==null&&(p=o(T,p,k),b===null?_=T:b.sibling=T,b=T);return qe&&Xr(m,k),_}for(T=r(m,T);k<y.length;k++)A=d(T,m,k,y[k],g),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?k:A.key),p=o(A,p,k),b===null?_=A:b.sibling=A,b=A);return t&&T.forEach(function(S){return e(m,S)}),qe&&Xr(m,k),_}function v(m,p,y,g){var _=ts(y);if(typeof _!="function")throw Error(Z(150));if(y=_.call(y),y==null)throw Error(Z(151));for(var b=_=null,T=p,k=p=0,A=null,O=y.next();T!==null&&!O.done;k++,O=y.next()){T.index>k?(A=T,T=null):A=T.sibling;var S=c(m,T,O.value,g);if(S===null){T===null&&(T=A);break}t&&T&&S.alternate===null&&e(m,T),p=o(S,p,k),b===null?_=S:b.sibling=S,b=S,T=A}if(O.done)return n(m,T),qe&&Xr(m,k),_;if(T===null){for(;!O.done;k++,O=y.next())O=h(m,O.value,g),O!==null&&(p=o(O,p,k),b===null?_=O:b.sibling=O,b=O);return qe&&Xr(m,k),_}for(T=r(m,T);!O.done;k++,O=y.next())O=d(T,m,k,O.value,g),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?k:O.key),p=o(O,p,k),b===null?_=O:b.sibling=O,b=O);return t&&T.forEach(function(N){return e(m,N)}),qe&&Xr(m,k),_}function E(m,p,y,g){if(typeof y=="object"&&y!==null&&y.type===Vi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case tl:e:{for(var _=y.key,b=p;b!==null;){if(b.key===_){if(_=y.type,_===Vi){if(b.tag===7){n(m,b.sibling),p=i(b,y.props.children),p.return=m,m=p;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pr&&_v(_)===b.type){n(m,b.sibling),p=i(b,y.props),p.ref=ss(m,b,y),p.return=m,m=p;break e}n(m,b);break}else e(m,b);b=b.sibling}y.type===Vi?(p=fi(y.props.children,m.mode,g,y.key),p.return=m,m=p):(g=Bl(y.type,y.key,y.props,null,m.mode,g),g.ref=ss(m,p,y),g.return=m,m=g)}return s(m);case qi:e:{for(b=y.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Mf(y,m.mode,g),p.return=m,m=p}return s(m);case pr:return b=y._init,E(m,p,b(y._payload),g)}if(gs(y))return w(m,p,y,g);if(ts(y))return v(m,p,y,g);hl(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=Df(y,m.mode,g),p.return=m,m=p),s(m)):n(m,p)}return E}var Eo=Ow(!0),Nw=Ow(!1),Na={},Cn=Hr(Na),Ys=Hr(Na),Xs=Hr(Na);function oi(t){if(t===Na)throw Error(Z(174));return t}function Dp(t,e){switch(Le(Xs,e),Le(Ys,t),Le(Cn,Na),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kh(e,t)}je(Cn),Le(Cn,e)}function _o(){je(Cn),je(Ys),je(Xs)}function Iw(t){oi(Xs.current);var e=oi(Cn.current),n=kh(e,t.type);e!==n&&(Le(Ys,t),Le(Cn,n))}function Mp(t){Ys.current===t&&(je(Cn),je(Ys))}var He=Hr(0);function hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cf=[];function $p(){for(var t=0;t<Cf.length;t++)Cf[t]._workInProgressVersionPrimary=null;Cf.length=0}var Ml=ar.ReactCurrentDispatcher,Af=ar.ReactCurrentBatchConfig,yi=0,Ke=null,it=null,ut=null,du=!1,As=!1,Js=0,pN=0;function wt(){throw Error(Z(321))}function Fp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function jp(t,e,n,r,i,o){if(yi=o,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ml.current=t===null||t.memoizedState===null?yN:wN,t=n(r,i),As){o=0;do{if(As=!1,Js=0,25<=o)throw Error(Z(301));o+=1,ut=it=null,e.updateQueue=null,Ml.current=EN,t=n(r,i)}while(As)}if(Ml.current=pu,e=it!==null&&it.next!==null,yi=0,ut=it=Ke=null,du=!1,e)throw Error(Z(300));return t}function Up(){var t=Js!==0;return Js=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ke.memoizedState=ut=t:ut=ut.next=t,ut}function ln(){if(it===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ut===null?Ke.memoizedState:ut.next;if(e!==null)ut=e,it=t;else{if(t===null)throw Error(Z(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?Ke.memoizedState=ut=t:ut=ut.next=t}return ut}function Zs(t,e){return typeof e=="function"?e(t):e}function xf(t){var e=ln(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if((yi&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Ke.lanes|=f,wi|=f}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,wn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ke.lanes|=o,wi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rf(t){var e=ln(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);wn(o,e.memoizedState)||(Ut=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Cw(){}function Aw(t,e){var n=Ke,r=ln(),i=e(),o=!wn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ut=!0),r=r.queue,Bp(Pw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,ea(9,Rw.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(Z(349));yi&30||xw(n,e,i)}return i}function xw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rw(t,e,n,r){e.value=n,e.getSnapshot=r,Lw(e)&&Dw(t)}function Pw(t,e,n){return n(function(){Lw(e)&&Dw(t)})}function Lw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function Dw(t){var e=Zn(t,1);e!==null&&yn(e,t,1,-1)}function Tv(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:t},e.queue=t,t=t.dispatch=vN.bind(null,Ke,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Mw(){return ln().memoizedState}function $l(t,e,n,r){var i=bn();Ke.flags|=t,i.memoizedState=ea(1|e,n,void 0,r===void 0?null:r)}function uc(t,e,n,r){var i=ln();r=r===void 0?null:r;var o=void 0;if(it!==null){var s=it.memoizedState;if(o=s.destroy,r!==null&&Fp(r,s.deps)){i.memoizedState=ea(e,n,o,r);return}}Ke.flags|=t,i.memoizedState=ea(1|e,n,o,r)}function Sv(t,e){return $l(8390656,8,t,e)}function Bp(t,e){return uc(2048,8,t,e)}function $w(t,e){return uc(4,2,t,e)}function Fw(t,e){return uc(4,4,t,e)}function jw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Uw(t,e,n){return n=n!=null?n.concat([t]):null,uc(4,4,jw.bind(null,e,t),n)}function qp(){}function Bw(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qw(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Vw(t,e,n){return yi&21?(wn(n,e)||(n=K1(),Ke.lanes|=n,wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function mN(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Af.transition;Af.transition={};try{t(!1),e()}finally{Ae=n,Af.transition=r}}function zw(){return ln().memoizedState}function gN(t,e,n){var r=Rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hw(t))Kw(e,n);else if(n=Tw(t,e,n,r),n!==null){var i=Dt();yn(n,t,r,i),Ww(n,e,r)}}function vN(t,e,n){var r=Rr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hw(t))Kw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,wn(a,s)){var l=e.interleaved;l===null?(i.next=i,Pp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Tw(t,e,i,r),n!==null&&(i=Dt(),yn(n,t,r,i),Ww(n,e,r))}}function Hw(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function Kw(t,e){As=du=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ww(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wp(t,n)}}var pu={readContext:an,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},yN={readContext:an,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:Sv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$l(4194308,4,jw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $l(4194308,4,t,e)},useInsertionEffect:function(t,e){return $l(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gN.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:Tv,useDebugValue:qp,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=Tv(!1),e=t[0];return t=mN.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=bn();if(qe){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),ct===null)throw Error(Z(349));yi&30||xw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Sv(Pw.bind(null,r,o,t),[t]),r.flags|=2048,ea(9,Rw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=bn(),e=ct.identifierPrefix;if(qe){var n=qn,r=Bn;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Js++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wN={readContext:an,useCallback:Bw,useContext:an,useEffect:Bp,useImperativeHandle:Uw,useInsertionEffect:$w,useLayoutEffect:Fw,useMemo:qw,useReducer:xf,useRef:Mw,useState:function(){return xf(Zs)},useDebugValue:qp,useDeferredValue:function(t){var e=ln();return Vw(e,it.memoizedState,t)},useTransition:function(){var t=xf(Zs)[0],e=ln().memoizedState;return[t,e]},useMutableSource:Cw,useSyncExternalStore:Aw,useId:zw,unstable_isNewReconciler:!1},EN={readContext:an,useCallback:Bw,useContext:an,useEffect:Bp,useImperativeHandle:Uw,useInsertionEffect:$w,useLayoutEffect:Fw,useMemo:qw,useReducer:Rf,useRef:Mw,useState:function(){return Rf(Zs)},useDebugValue:qp,useDeferredValue:function(t){var e=ln();return it===null?e.memoizedState=t:Vw(e,it.memoizedState,t)},useTransition:function(){var t=Rf(Zs)[0],e=ln().memoizedState;return[t,e]},useMutableSource:Cw,useSyncExternalStore:Aw,useId:zw,unstable_isNewReconciler:!1};function To(t,e){try{var n="",r=e;do n+=Gk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _N=typeof WeakMap=="function"?WeakMap:Map;function Gw(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gu||(gu=!0,id=r),Gh(t,e)},n}function Qw(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gh(t,e),typeof r!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function bv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _N;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DN.bind(null,t,e,n),e.then(t,t))}function kv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ov(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,Ar(n,e,1))),n.lanes|=1),t)}var TN=ar.ReactCurrentOwner,Ut=!1;function Pt(t,e,n,r){e.child=t===null?Nw(e,null,n,r):Eo(e,t.child,n,r)}function Nv(t,e,n,r,i){n=n.render;var o=e.ref;return ao(e,i),r=jp(t,e,n,r,o,i),n=Up(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,er(t,e,i)):(qe&&n&&Np(e),e.flags|=1,Pt(t,e,r,i),e.child)}function Iv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Yp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Yw(t,e,o,r,i)):(t=Bl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ks,n(s,r)&&t.ref===e.ref)return er(t,e,i)}return e.flags|=1,t=Pr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Yw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ks(o,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,er(t,e,i)}return Qh(t,e,n,r,i)}function Xw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Zi,Ht),Ht|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Zi,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le(Zi,Ht),Ht|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Le(Zi,Ht),Ht|=r;return Pt(t,e,i,n),e.child}function Jw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qh(t,e,n,r,i){var o=qt(n)?gi:At.current;return o=yo(e,o),ao(e,i),n=jp(t,e,n,r,o,i),r=Up(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,er(t,e,i)):(qe&&r&&Np(e),e.flags|=1,Pt(t,e,n,i),e.child)}function Cv(t,e,n,r,i){if(qt(n)){var o=!0;su(e)}else o=!1;if(ao(e,i),e.stateNode===null)Fl(t,e),kw(e,n,r),Wh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=an(u):(u=qt(n)?gi:At.current,u=yo(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ev(e,s,r,u),mr=!1;var c=e.memoizedState;s.state=c,fu(e,r,s,i),l=e.memoizedState,a!==r||c!==l||Bt.current||mr?(typeof f=="function"&&(Kh(e,n,f,r),l=e.memoizedState),(a=mr||wv(e,n,a,r,c,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Sw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:fn(e.type,a),s.props=u,h=e.pendingProps,c=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=an(l):(l=qt(n)?gi:At.current,l=yo(e,l));var d=n.getDerivedStateFromProps;(f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||c!==l)&&Ev(e,s,r,l),mr=!1,c=e.memoizedState,s.state=c,fu(e,r,s,i);var w=e.memoizedState;a!==h||c!==w||Bt.current||mr?(typeof d=="function"&&(Kh(e,n,d,r),w=e.memoizedState),(u=mr||wv(e,n,u,r,c,w,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return Yh(t,e,n,r,o,i)}function Yh(t,e,n,r,i,o){Jw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&pv(e,n,!1),er(t,e,o);r=e.stateNode,TN.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Eo(e,t.child,null,o),e.child=Eo(e,null,a,o)):Pt(t,e,a,o),e.memoizedState=r.state,i&&pv(e,n,!0),e.child}function Zw(t){var e=t.stateNode;e.pendingContext?dv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dv(t,e.context,!1),Dp(t,e.containerInfo)}function Av(t,e,n,r,i){return wo(),Cp(i),e.flags|=256,Pt(t,e,n,r),e.child}var Xh={dehydrated:null,treeContext:null,retryLane:0};function Jh(t){return{baseLanes:t,cachePool:null,transitions:null}}function eE(t,e,n){var r=e.pendingProps,i=He.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(He,i&1),t===null)return zh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=hc(s,r,0,null),t=fi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Jh(n),e.memoizedState=Xh,t):Vp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SN(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Pr(a,o):(o=fi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Jh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Xh,r}return o=t.child,t=o.sibling,r=Pr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vp(t,e){return e=hc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dl(t,e,n,r){return r!==null&&Cp(r),Eo(e,t.child,null,n),t=Vp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SN(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Pf(Error(Z(422))),dl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=hc({mode:"visible",children:r.children},i,0,null),o=fi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Eo(e,t.child,null,s),e.child.memoizedState=Jh(s),e.memoizedState=Xh,o);if(!(e.mode&1))return dl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Z(419)),r=Pf(o,r,void 0),dl(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ut||a){if(r=ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zn(t,i),yn(r,t,i,-1))}return Qp(),r=Pf(Error(Z(421))),dl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Wt=Cr(i.nextSibling),Gt=e,qe=!0,dn=null,t!==null&&(en[tn++]=Bn,en[tn++]=qn,en[tn++]=vi,Bn=t.id,qn=t.overflow,vi=e),e=Vp(e,r.children),e.flags|=4096,e)}function xv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hh(t.return,e,n)}function Lf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function tE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Pt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xv(t,n,e);else if(t.tag===19)xv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(He,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lf(e,!0,n,null,o);break;case"together":Lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bN(t,e,n){switch(e.tag){case 3:Zw(e),wo();break;case 5:Iw(e);break;case 1:qt(e.type)&&su(e);break;case 4:Dp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(uu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?eE(t,e,n):(Le(He,He.current&1),t=er(t,e,n),t!==null?t.sibling:null);Le(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,Xw(t,e,n)}return er(t,e,n)}var nE,Zh,rE,iE;nE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zh=function(){};rE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,oi(Cn.current);var o=null;switch(n){case"input":i=_h(t,i),r=_h(t,r),o=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),o=[];break;case"textarea":i=bh(t,i),r=bh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=iu)}Oh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(js.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(js.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Me("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};iE=function(t,e,n,r){n!==r&&(e.flags|=4)};function as(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kN(t,e,n){var r=e.pendingProps;switch(Ip(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return qt(e.type)&&ou(),Et(e),null;case 3:return r=e.stateNode,_o(),je(Bt),je(At),$p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(ad(dn),dn=null))),Zh(t,e),Et(e),null;case 5:Mp(e);var i=oi(Xs.current);if(n=e.type,t!==null&&e.stateNode!=null)rE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Et(e),null}if(t=oi(Cn.current),fl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[kn]=e,r[Qs]=o,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<ys.length;i++)Me(ys[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Ug(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":qg(r,o),Me("invalid",r)}Oh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&cl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&cl(r.textContent,a,t),i=["children",""+a]):js.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Me("scroll",r)}switch(n){case"input":nl(r),Bg(r,o,!0);break;case"textarea":nl(r),Vg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=iu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[kn]=e,t[Qs]=r,nE(t,e,!1,!1),e.stateNode=t;e:{switch(s=Nh(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<ys.length;i++)Me(ys[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":Ug(t,r),i=_h(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Me("invalid",t);break;case"textarea":qg(t,r),i=bh(t,r),Me("invalid",t);break;default:i=r}Oh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?L1(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&R1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Us(t,l):typeof l=="number"&&Us(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(js.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Me("scroll",t):l!=null&&dp(t,o,l,s))}switch(n){case"input":nl(t),Bg(t,r,!1);break;case"textarea":nl(t),Vg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ro(t,!!r.multiple,o,!1):r.defaultValue!=null&&ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)iE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=oi(Xs.current),oi(Cn.current),fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(o=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:cl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return Et(e),null;case 13:if(je(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&Wt!==null&&e.mode&1&&!(e.flags&128))_w(),wo(),e.flags|=98560,o=!1;else if(o=fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[kn]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),o=!1}else dn!==null&&(ad(dn),dn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ot===0&&(ot=3):Qp())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return _o(),Zh(t,e),t===null&&Ws(e.stateNode.containerInfo),Et(e),null;case 10:return Rp(e.type._context),Et(e),null;case 17:return qt(e.type)&&ou(),Et(e),null;case 19:if(je(He),o=e.memoizedState,o===null)return Et(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)as(o,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=hu(t),s!==null){for(e.flags|=128,as(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(He,He.current&1|2),e.child}t=t.sibling}o.tail!==null&&Je()>So&&(e.flags|=128,r=!0,as(o,!1),e.lanes=4194304)}else{if(!r)if(t=hu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),as(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!qe)return Et(e),null}else 2*Je()-o.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,as(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,n=He.current,Le(He,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Gp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function ON(t,e){switch(Ip(e),e.tag){case 1:return qt(e.type)&&ou(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),je(Bt),je(At),$p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mp(e),null;case 13:if(je(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(He),null;case 4:return _o(),null;case 10:return Rp(e.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var pl=!1,St=!1,NN=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function ed(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var Rv=!1;function IN(t,e){if($h=tu,t=lw(),Op(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,f=0,h=t,c=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)c=h,h=d;for(;;){if(h===t)break t;if(c===n&&++u===i&&(a=s),c===o&&++f===r&&(l=s),(d=h.nextSibling)!==null)break;h=c,c=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fh={focusedElem:t,selectionRange:n},tu=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,E=w.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:fn(e.type,v),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(g){Qe(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return w=Rv,Rv=!1,w}function xs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ed(e,n,o)}i=i.next}while(i!==r)}}function cc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function td(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oE(t){var e=t.alternate;e!==null&&(t.alternate=null,oE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[Qs],delete e[Bh],delete e[cN],delete e[fN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sE(t){return t.tag===5||t.tag===3||t.tag===4}function Pv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=iu));else if(r!==4&&(t=t.child,t!==null))for(nd(t,e,n),t=t.sibling;t!==null;)nd(t,e,n),t=t.sibling}function rd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rd(t,e,n),t=t.sibling;t!==null;)rd(t,e,n),t=t.sibling}var dt=null,hn=!1;function hr(t,e,n){for(n=n.child;n!==null;)aE(t,e,n),n=n.sibling}function aE(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(nc,n)}catch{}switch(n.tag){case 5:St||Ji(n,e);case 6:var r=dt,i=hn;dt=null,hr(t,e,n),dt=r,hn=i,dt!==null&&(hn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(hn?(t=dt,n=n.stateNode,t.nodeType===8?Nf(t.parentNode,n):t.nodeType===1&&Nf(t,n),zs(t)):Nf(dt,n.stateNode));break;case 4:r=dt,i=hn,dt=n.stateNode.containerInfo,hn=!0,hr(t,e,n),dt=r,hn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ed(n,e,s),i=i.next}while(i!==r)}hr(t,e,n);break;case 1:if(!St&&(Ji(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}hr(t,e,n);break;case 21:hr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,hr(t,e,n),St=r):hr(t,e,n);break;default:hr(t,e,n)}}function Lv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NN),e.forEach(function(r){var i=$N.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,hn=!1;break e;case 3:dt=a.stateNode.containerInfo,hn=!0;break e;case 4:dt=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(dt===null)throw Error(Z(160));aE(o,s,i),dt=null,hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lE(e,t),e=e.sibling}function lE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),Tn(t),r&4){try{xs(3,t,t.return),cc(3,t)}catch(v){Qe(t,t.return,v)}try{xs(5,t,t.return)}catch(v){Qe(t,t.return,v)}}break;case 1:cn(e,t),Tn(t),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(cn(e,t),Tn(t),r&512&&n!==null&&Ji(n,n.return),t.flags&32){var i=t.stateNode;try{Us(i,"")}catch(v){Qe(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&C1(i,o),Nh(a,s);var u=Nh(a,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];f==="style"?L1(i,h):f==="dangerouslySetInnerHTML"?R1(i,h):f==="children"?Us(i,h):dp(i,f,h,u)}switch(a){case"input":Th(i,o);break;case"textarea":A1(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?ro(i,!!o.multiple,d,!1):c!==!!o.multiple&&(o.defaultValue!=null?ro(i,!!o.multiple,o.defaultValue,!0):ro(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qs]=o}catch(v){Qe(t,t.return,v)}}break;case 6:if(cn(e,t),Tn(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Qe(t,t.return,v)}}break;case 3:if(cn(e,t),Tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(e.containerInfo)}catch(v){Qe(t,t.return,v)}break;case 4:cn(e,t),Tn(t);break;case 13:cn(e,t),Tn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Kp=Je())),r&4&&Lv(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(St=(u=St)||f,cn(e,t),St=u):cn(e,t),Tn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(se=t,f=t.child;f!==null;){for(h=se=f;se!==null;){switch(c=se,d=c.child,c.tag){case 0:case 11:case 14:case 15:xs(4,c,c.return);break;case 1:Ji(c,c.return);var w=c.stateNode;if(typeof w.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Qe(r,n,v)}}break;case 5:Ji(c,c.return);break;case 22:if(c.memoizedState!==null){Mv(h);continue}}d!==null?(d.return=c,se=d):Mv(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=P1("display",s))}catch(v){Qe(t,t.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Qe(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cn(e,t),Tn(t),r&4&&Lv(t);break;case 21:break;default:cn(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sE(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Us(i,""),r.flags&=-33);var o=Pv(t);rd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Pv(t);nd(t,a,s);break;default:throw Error(Z(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CN(t,e,n){se=t,uE(t)}function uE(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||pl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=pl;var u=St;if(pl=s,(St=l)&&!u)for(se=i;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?$v(i):l!==null?(l.return=s,se=l):$v(i);for(;o!==null;)se=o,uE(o),o=o.sibling;se=i,pl=a,St=u}Dv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):Dv(t)}}function Dv(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||cc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&yv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&zs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}St||e.flags&512&&td(e)}catch(c){Qe(e,e.return,c)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Mv(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function $v(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cc(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qe(e,i,l)}}var o=e.return;try{td(e)}catch(l){Qe(e,o,l)}break;case 5:var s=e.return;try{td(e)}catch(l){Qe(e,s,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var AN=Math.ceil,mu=ar.ReactCurrentDispatcher,zp=ar.ReactCurrentOwner,sn=ar.ReactCurrentBatchConfig,Ne=0,ct=null,tt=null,gt=0,Ht=0,Zi=Hr(0),ot=0,ta=null,wi=0,fc=0,Hp=0,Rs=null,jt=null,Kp=0,So=1/0,$n=null,gu=!1,id=null,xr=null,ml=!1,Sr=null,vu=0,Ps=0,od=null,jl=-1,Ul=0;function Dt(){return Ne&6?Je():jl!==-1?jl:jl=Je()}function Rr(t){return t.mode&1?Ne&2&&gt!==0?gt&-gt:dN.transition!==null?(Ul===0&&(Ul=K1()),Ul):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:Z1(t.type)),t):1}function yn(t,e,n,r){if(50<Ps)throw Ps=0,od=null,Error(Z(185));ba(t,n,r),(!(Ne&2)||t!==ct)&&(t===ct&&(!(Ne&2)&&(fc|=n),ot===4&&yr(t,gt)),Vt(t,r),n===1&&Ne===0&&!(e.mode&1)&&(So=Je()+500,ac&&Kr()))}function Vt(t,e){var n=t.callbackNode;dO(t,e);var r=eu(t,t===ct?gt:0);if(r===0)n!==null&&Kg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kg(n),e===1)t.tag===0?hN(Fv.bind(null,t)):yw(Fv.bind(null,t)),lN(function(){!(Ne&6)&&Kr()}),n=null;else{switch(W1(r)){case 1:n=yp;break;case 4:n=z1;break;case 16:n=Zl;break;case 536870912:n=H1;break;default:n=Zl}n=vE(n,cE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cE(t,e){if(jl=-1,Ul=0,Ne&6)throw Error(Z(327));var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var r=eu(t,t===ct?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yu(t,r);else{e=r;var i=Ne;Ne|=2;var o=hE();(ct!==t||gt!==e)&&($n=null,So=Je()+500,ci(t,e));do try{PN();break}catch(a){fE(t,a)}while(1);xp(),mu.current=o,Ne=i,tt!==null?e=0:(ct=null,gt=0,e=ot)}if(e!==0){if(e===2&&(i=Rh(t),i!==0&&(r=i,e=sd(t,i))),e===1)throw n=ta,ci(t,0),yr(t,r),Vt(t,Je()),n;if(e===6)yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!xN(i)&&(e=yu(t,r),e===2&&(o=Rh(t),o!==0&&(r=o,e=sd(t,o))),e===1))throw n=ta,ci(t,0),yr(t,r),Vt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Jr(t,jt,$n);break;case 3:if(yr(t,r),(r&130023424)===r&&(e=Kp+500-Je(),10<e)){if(eu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Uh(Jr.bind(null,t,jt,$n),e);break}Jr(t,jt,$n);break;case 4:if(yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-vn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AN(r/1960))-r,10<r){t.timeoutHandle=Uh(Jr.bind(null,t,jt,$n),r);break}Jr(t,jt,$n);break;case 5:Jr(t,jt,$n);break;default:throw Error(Z(329))}}}return Vt(t,Je()),t.callbackNode===n?cE.bind(null,t):null}function sd(t,e){var n=Rs;return t.current.memoizedState.isDehydrated&&(ci(t,e).flags|=256),t=yu(t,e),t!==2&&(e=jt,jt=n,e!==null&&ad(e)),t}function ad(t){jt===null?jt=t:jt.push.apply(jt,t)}function xN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yr(t,e){for(e&=~Hp,e&=~fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),r=1<<n;t[n]=-1,e&=~r}}function Fv(t){if(Ne&6)throw Error(Z(327));lo();var e=eu(t,0);if(!(e&1))return Vt(t,Je()),null;var n=yu(t,e);if(t.tag!==0&&n===2){var r=Rh(t);r!==0&&(e=r,n=sd(t,r))}if(n===1)throw n=ta,ci(t,0),yr(t,e),Vt(t,Je()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jr(t,jt,$n),Vt(t,Je()),null}function Wp(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(So=Je()+500,ac&&Kr())}}function Ei(t){Sr!==null&&Sr.tag===0&&!(Ne&6)&&lo();var e=Ne;Ne|=1;var n=sn.transition,r=Ae;try{if(sn.transition=null,Ae=1,t)return t()}finally{Ae=r,sn.transition=n,Ne=e,!(Ne&6)&&Kr()}}function Gp(){Ht=Zi.current,je(Zi)}function ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aN(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ou();break;case 3:_o(),je(Bt),je(At),$p();break;case 5:Mp(r);break;case 4:_o();break;case 13:je(He);break;case 19:je(He);break;case 10:Rp(r.type._context);break;case 22:case 23:Gp()}n=n.return}if(ct=t,tt=t=Pr(t.current,null),gt=Ht=e,ot=0,ta=null,Hp=fc=wi=0,jt=Rs=null,ii!==null){for(e=0;e<ii.length;e++)if(n=ii[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ii=null}return t}function fE(t,e){do{var n=tt;try{if(xp(),Ml.current=pu,du){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}du=!1}if(yi=0,ut=it=Ke=null,As=!1,Js=0,zp.current=null,n===null||n.return===null){ot=1,ta=e,tt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=kv(s);if(d!==null){d.flags&=-257,Ov(d,s,a,o,e),d.mode&1&&bv(o,u,e),e=d,l=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){bv(o,u,e),Qp();break e}l=Error(Z(426))}}else if(qe&&a.mode&1){var E=kv(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ov(E,s,a,o,e),Cp(To(l,a));break e}}o=l=To(l,a),ot!==4&&(ot=2),Rs===null?Rs=[o]:Rs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Gw(o,l,e);vv(o,m);break e;case 1:a=l;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xr===null||!xr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var g=Qw(o,a,e);vv(o,g);break e}}o=o.return}while(o!==null)}pE(n)}catch(_){e=_,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(1)}function hE(){var t=mu.current;return mu.current=pu,t===null?pu:t}function Qp(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||!(wi&268435455)&&!(fc&268435455)||yr(ct,gt)}function yu(t,e){var n=Ne;Ne|=2;var r=hE();(ct!==t||gt!==e)&&($n=null,ci(t,e));do try{RN();break}catch(i){fE(t,i)}while(1);if(xp(),Ne=n,mu.current=r,tt!==null)throw Error(Z(261));return ct=null,gt=0,ot}function RN(){for(;tt!==null;)dE(tt)}function PN(){for(;tt!==null&&!iO();)dE(tt)}function dE(t){var e=gE(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?pE(t):tt=e,zp.current=null}function pE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ON(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,tt=null;return}}else if(n=kN(n,e,Ht),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ot===0&&(ot=5)}function Jr(t,e,n){var r=Ae,i=sn.transition;try{sn.transition=null,Ae=1,LN(t,e,n,r)}finally{sn.transition=i,Ae=r}return null}function LN(t,e,n,r){do lo();while(Sr!==null);if(Ne&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pO(t,o),t===ct&&(tt=ct=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ml||(ml=!0,vE(Zl,function(){return lo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var s=Ae;Ae=1;var a=Ne;Ne|=4,zp.current=null,IN(t,n),lE(n,t),eN(Fh),tu=!!$h,Fh=$h=null,t.current=n,CN(n),oO(),Ne=a,Ae=s,sn.transition=o}else t.current=n;if(ml&&(ml=!1,Sr=t,vu=i),o=t.pendingLanes,o===0&&(xr=null),lO(n.stateNode),Vt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gu)throw gu=!1,t=id,id=null,t;return vu&1&&t.tag!==0&&lo(),o=t.pendingLanes,o&1?t===od?Ps++:(Ps=0,od=t):Ps=0,Kr(),null}function lo(){if(Sr!==null){var t=W1(vu),e=sn.transition,n=Ae;try{if(sn.transition=null,Ae=16>t?16:t,Sr===null)var r=!1;else{if(t=Sr,Sr=null,vu=0,Ne&6)throw Error(Z(331));var i=Ne;for(Ne|=4,se=t.current;se!==null;){var o=se,s=o.child;if(se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var f=se;switch(f.tag){case 0:case 11:case 15:xs(8,f,o)}var h=f.child;if(h!==null)h.return=f,se=h;else for(;se!==null;){f=se;var c=f.sibling,d=f.return;if(oE(f),f===u){se=null;break}if(c!==null){c.return=d,se=c;break}se=d}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,se=s;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xs(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,se=m;break e}se=o.return}}var p=t.current;for(se=p;se!==null;){s=se;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,se=y;else e:for(s=p;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cc(9,a)}}catch(_){Qe(a,a.return,_)}if(a===s){se=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,se=g;break e}se=a.return}}if(Ne=i,Kr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(nc,t)}catch{}r=!0}return r}finally{Ae=n,sn.transition=e}}return!1}function jv(t,e,n){e=To(n,e),e=Gw(t,e,1),t=Ar(t,e,1),e=Dt(),t!==null&&(ba(t,1,e),Vt(t,e))}function Qe(t,e,n){if(t.tag===3)jv(t,t,n);else for(;e!==null;){if(e.tag===3){jv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xr===null||!xr.has(r))){t=To(n,t),t=Qw(e,t,1),e=Ar(e,t,1),t=Dt(),e!==null&&(ba(e,1,t),Vt(e,t));break}}e=e.return}}function DN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(gt&n)===n&&(ot===4||ot===3&&(gt&130023424)===gt&&500>Je()-Kp?ci(t,0):Hp|=n),Vt(t,e)}function mE(t,e){e===0&&(t.mode&1?(e=ol,ol<<=1,!(ol&130023424)&&(ol=4194304)):e=1);var n=Dt();t=Zn(t,e),t!==null&&(ba(t,e,n),Vt(t,n))}function MN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mE(t,n)}function $N(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),mE(t,n)}var gE;gE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,bN(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,qe&&e.flags&1048576&&ww(e,lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fl(t,e),t=e.pendingProps;var i=yo(e,At.current);ao(e,n),i=jp(null,e,r,t,i,n);var o=Up();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(o=!0,su(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lp(e),i.updater=lc,e.stateNode=i,i._reactInternals=e,Wh(e,r,t,n),e=Yh(null,e,r,!0,o,n)):(e.tag=0,qe&&o&&Np(e),Pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jN(r),t=fn(r,t),i){case 0:e=Qh(null,e,r,t,n);break e;case 1:e=Cv(null,e,r,t,n);break e;case 11:e=Nv(null,e,r,t,n);break e;case 14:e=Iv(null,e,r,fn(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Qh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Cv(t,e,r,i,n);case 3:e:{if(Zw(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Sw(t,e),fu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=To(Error(Z(423)),e),e=Av(t,e,r,n,i);break e}else if(r!==i){i=To(Error(Z(424)),e),e=Av(t,e,r,n,i);break e}else for(Wt=Cr(e.stateNode.containerInfo.firstChild),Gt=e,qe=!0,dn=null,n=Nw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wo(),r===i){e=er(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return Iw(e),t===null&&zh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,jh(r,i)?s=null:o!==null&&jh(r,o)&&(e.flags|=32),Jw(t,e),Pt(t,e,s,n),e.child;case 6:return t===null&&zh(e),null;case 13:return eE(t,e,n);case 4:return Dp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Nv(t,e,r,i,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Le(uu,r._currentValue),r._currentValue=s,o!==null)if(wn(o.value,s)){if(o.children===i.children&&!Bt.current){e=er(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Wn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Hh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Hh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ao(e,n),i=an(i),r=r(i),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,i=fn(r,e.pendingProps),i=fn(r.type,i),Iv(t,e,r,i,n);case 15:return Yw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fn(r,i),Fl(t,e),e.tag=1,qt(r)?(t=!0,su(e)):t=!1,ao(e,n),kw(e,r,i),Wh(e,r,i,n),Yh(null,e,r,!0,t,n);case 19:return tE(t,e,n);case 22:return Xw(t,e,n)}throw Error(Z(156,e.tag))};function vE(t,e){return V1(t,e)}function FN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new FN(t,e,n,r)}function Yp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jN(t){if(typeof t=="function")return Yp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mp)return 11;if(t===gp)return 14}return 2}function Pr(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Yp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Vi:return fi(n.children,i,o,e);case pp:s=8,i|=8;break;case vh:return t=on(12,n,e,i|2),t.elementType=vh,t.lanes=o,t;case yh:return t=on(13,n,e,i),t.elementType=yh,t.lanes=o,t;case wh:return t=on(19,n,e,i),t.elementType=wh,t.lanes=o,t;case O1:return hc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b1:s=10;break e;case k1:s=9;break e;case mp:s=11;break e;case gp:s=14;break e;case pr:s=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=on(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function fi(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function hc(t,e,n,r){return t=on(22,t,r,e),t.elementType=O1,t.lanes=n,t.stateNode={isHidden:!1},t}function Df(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function Mf(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xp(t,e,n,r,i,o,s,a,l){return t=new UN(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=on(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lp(o),t}function BN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yE(t){if(!t)return Ur;t=t._reactInternals;e:{if(Ci(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(qt(n))return vw(t,n,e)}return e}function wE(t,e,n,r,i,o,s,a,l){return t=Xp(n,r,!0,t,i,o,s,a,l),t.context=yE(null),n=t.current,r=Dt(),i=Rr(n),o=Wn(r,i),o.callback=e??null,Ar(n,o,i),t.current.lanes=i,ba(t,i,r),Vt(t,r),t}function dc(t,e,n,r){var i=e.current,o=Dt(),s=Rr(i);return n=yE(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ar(i,e,s),t!==null&&(yn(t,i,s,o),Dl(t,i,s)),s}function wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jp(t,e){Uv(t,e),(t=t.alternate)&&Uv(t,e)}function qN(){return null}var EE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zp(t){this._internalRoot=t}pc.prototype.render=Zp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));dc(t,e,null,null)};pc.prototype.unmount=Zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){dc(null,t,null,null)}),e[Jn]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vr.length&&e!==0&&e<vr[n].priority;n++);vr.splice(n,0,t),n===0&&J1(t)}};function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bv(){}function VN(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=wu(s);o.call(u)}}var s=wE(e,r,t,0,null,!1,!1,"",Bv);return t._reactRootContainer=s,t[Jn]=s.current,Ws(t.nodeType===8?t.parentNode:t),Ei(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=wu(l);a.call(u)}}var l=Xp(t,0,!1,null,null,!1,!1,"",Bv);return t._reactRootContainer=l,t[Jn]=l.current,Ws(t.nodeType===8?t.parentNode:t),Ei(function(){dc(e,l,n,r)}),l}function gc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wu(s);a.call(l)}}dc(e,s,t,i)}else s=VN(n,e,t,i,r);return wu(s)}G1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vs(e.pendingLanes);n!==0&&(wp(e,n|1),Vt(e,Je()),!(Ne&6)&&(So=Je()+500,Kr()))}break;case 13:Ei(function(){var r=Zn(t,1);if(r!==null){var i=Dt();yn(r,t,1,i)}}),Jp(t,1)}};Ep=function(t){if(t.tag===13){var e=Zn(t,134217728);if(e!==null){var n=Dt();yn(e,t,134217728,n)}Jp(t,134217728)}};Q1=function(t){if(t.tag===13){var e=Rr(t),n=Zn(t,e);if(n!==null){var r=Dt();yn(n,t,e,r)}Jp(t,e)}};Y1=function(){return Ae};X1=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Ch=function(t,e,n){switch(e){case"input":if(Th(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sc(r);if(!i)throw Error(Z(90));I1(r),Th(r,i)}}}break;case"textarea":A1(t,n);break;case"select":e=n.value,e!=null&&ro(t,!!n.multiple,e,!1)}};$1=Wp;F1=Ei;var zN={usingClientEntryPoint:!1,Events:[Oa,Wi,sc,D1,M1,Wp]},ls={findFiberByHostInstance:ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HN={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B1(t),t===null?null:t.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||qN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{nc=gl.inject(HN),In=gl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zN;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!em(e))throw Error(Z(200));return BN(t,e,null,n)};Jt.createRoot=function(t,e){if(!em(t))throw Error(Z(299));var n=!1,r="",i=EE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xp(t,1,!1,null,null,n,!1,r,i),t[Jn]=e.current,Ws(t.nodeType===8?t.parentNode:t),new Zp(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=B1(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Ei(t)};Jt.hydrate=function(t,e,n){if(!mc(e))throw Error(Z(200));return gc(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!em(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=EE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=wE(e,null,t,1,n??null,i,!1,o,s),t[Jn]=e.current,Ws(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pc(e)};Jt.render=function(t,e,n){if(!mc(e))throw Error(Z(200));return gc(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!mc(t))throw Error(Z(40));return t._reactRootContainer?(Ei(function(){gc(null,null,t,!1,function(){t._reactRootContainer=null,t[Jn]=null})}),!0):!1};Jt.unstable_batchedUpdates=Wp;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mc(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return gc(t,e,n,!1,r)};Jt.version="18.2.0-next-9e3b772b8-20220608";function _E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_E)}catch(t){console.error(t)}}_E(),w1.exports=Jt;var tm=w1.exports;const eo=Ta(tm);var qv=tm;mh.createRoot=qv.createRoot,mh.hydrateRoot=qv.hydrateRoot;/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},na.apply(this,arguments)}var br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(br||(br={}));const Vv="popstate";function KN(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Ai(i.location.hash.substr(1));return ld("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Eu(o))}function r(i,o){vc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return GN(e,n,r,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WN(){return Math.random().toString(36).substr(2,8)}function zv(t,e){return{usr:t.state,key:t.key,idx:e}}function ld(t,e,n,r){return n===void 0&&(n=null),na({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ai(e):e,{state:n,key:e&&e.key||r||WN()})}function Eu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=br.Pop,l=null,u=f();u==null&&(u=0,s.replaceState(na({},s.state,{idx:u}),""));function f(){return(s.state||{idx:null}).idx}function h(){a=br.Pop;let E=f(),m=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:m})}function c(E,m){a=br.Push;let p=ld(v.location,E,m);n&&n(p,E),u=f()+1;let y=zv(p,u),g=v.createHref(p);try{s.pushState(y,"",g)}catch{i.location.assign(g)}o&&l&&l({action:a,location:v.location,delta:1})}function d(E,m){a=br.Replace;let p=ld(v.location,E,m);n&&n(p,E),u=f();let y=zv(p,u),g=v.createHref(p);s.replaceState(y,"",g),o&&l&&l({action:a,location:v.location,delta:0})}function w(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:Eu(E);return rt(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Vv,h),l=E,()=>{i.removeEventListener(Vv,h),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let m=w(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:d,go(E){return s.go(E)}};return v}var Hv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hv||(Hv={}));function QN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ai(e):e,i=nm(r.pathname||"/",n);if(i==null)return null;let o=TE(t);YN(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=oI(o[a],lI(i));return s}function TE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Lr([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(rt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TE(o.children,e,f,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:rI(u,o.index),routesMeta:f})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of SE(o.path))i(o,s,l)}),e}function SE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=SE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XN=/^:\w+$/,JN=3,ZN=2,eI=1,tI=10,nI=-2,Kv=t=>t==="*";function rI(t,e){let n=t.split("/"),r=n.length;return n.some(Kv)&&(r+=nI),e&&(r+=ZN),n.filter(i=>!Kv(i)).reduce((i,o)=>i+(XN.test(o)?JN:o===""?eI:tI),r)}function iI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oI(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=sI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!f)return null;Object.assign(r,f.params);let h=a.route;o.push({params:r,pathname:Lr([i,f.pathname]),pathnameBase:hI(Lr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Lr([i,f.pathnameBase]))}return o}function sI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,h)=>{if(f==="*"){let c=a[h]||"";s=o.slice(0,o.length-c.length).replace(/(.)\/+$/,"$1")}return u[f]=uI(a[h]||"",f),u},{}),pathname:o,pathnameBase:s,pattern:t}}function aI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lI(t){try{return decodeURI(t)}catch(e){return vc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uI(t,e){try{return decodeURIComponent(t)}catch(n){return vc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function nm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ai(t):t;return{pathname:n?n.startsWith("/")?n:fI(n,e):e,search:dI(r),hash:pI(i)}}function fI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $f(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ai(t):(i=na({},t),rt(!i.pathname||!i.pathname.includes("?"),$f("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),$f("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),$f("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let h=e.length-1;if(s.startsWith("..")){let c=s.split("/");for(;c[0]==="..";)c.shift(),h-=1;i.pathname=c.join("/")}a=h>=0?e[h]:"/"}let l=cI(i,a),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Lr=t=>t.join("/").replace(/\/\/+/g,"/"),hI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_u.apply(this,arguments)}const rm=D.createContext(null),gI=D.createContext(null),$o=D.createContext(null),yc=D.createContext(null),xi=D.createContext({outlet:null,matches:[]}),OE=D.createContext(null);function vI(t,e){let{relative:n}=e===void 0?{}:e;Ia()||rt(!1);let{basename:r,navigator:i}=D.useContext($o),{hash:o,pathname:s,search:a}=IE(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Lr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ia(){return D.useContext(yc)!=null}function wc(){return Ia()||rt(!1),D.useContext(yc).location}function NE(t){D.useContext($o).static||D.useLayoutEffect(t)}function im(){return D.useContext(rm)!=null?xI():yI()}function yI(){Ia()||rt(!1);let{basename:t,navigator:e}=D.useContext($o),{matches:n}=D.useContext(xi),{pathname:r}=wc(),i=JSON.stringify(bE(n).map(a=>a.pathnameBase)),o=D.useRef(!1);return NE(()=>{o.current=!0}),D.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=kE(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Lr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function wI(){let{matches:t}=D.useContext(xi),e=t[t.length-1];return e?e.params:{}}function IE(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=D.useContext(xi),{pathname:i}=wc(),o=JSON.stringify(bE(r).map(s=>s.pathnameBase));return D.useMemo(()=>kE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function EI(t,e){return _I(t,e)}function _I(t,e,n){Ia()||rt(!1);let{navigator:r}=D.useContext($o),{matches:i}=D.useContext(xi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=wc(),u;if(e){var f;let v=typeof e=="string"?Ai(e):e;a==="/"||(f=v.pathname)!=null&&f.startsWith(a)||rt(!1),u=v}else u=l;let h=u.pathname||"/",c=a==="/"?h:h.slice(a.length)||"/",d=QN(t,{pathname:c}),w=OI(d&&d.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Lr([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Lr([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&w?D.createElement(yc.Provider,{value:{location:_u({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:br.Pop}},w):w}function TI(){let t=AI(),e=mI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,o)}const SI=D.createElement(TI,null);class bI extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?D.createElement(xi.Provider,{value:this.props.routeContext},D.createElement(OE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kI(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(rm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(xi.Provider,{value:e},r)}function OI(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||rt(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let f=l.route.id?s==null?void 0:s[l.route.id]:null,h=null;n&&(h=l.route.errorElement||SI);let c=e.concat(o.slice(0,u+1)),d=()=>{let w;return f?w=h:l.route.element?w=l.route.element:w=a,D.createElement(kI,{match:l,routeContext:{outlet:a,matches:c},children:w})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?D.createElement(bI,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var ud;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(ud||(ud={}));var ra;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(ra||(ra={}));function NI(t){let e=D.useContext(rm);return e||rt(!1),e}function II(t){let e=D.useContext(gI);return e||rt(!1),e}function CI(t){let e=D.useContext(xi);return e||rt(!1),e}function CE(t){let e=CI(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function AI(){var t;let e=D.useContext(OE),n=II(ra.UseRouteError),r=CE(ra.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function xI(){let{router:t}=NI(ud.UseNavigateStable),e=CE(ra.UseNavigateStable),n=D.useRef(!1);return NE(()=>{n.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_u({fromRouteId:e},o)))},[t,e])}function Zr(t){rt(!1)}function RI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=br.Pop,navigator:o,static:s=!1}=t;Ia()&&rt(!1);let a=e.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Ai(r));let{pathname:u="/",search:f="",hash:h="",state:c=null,key:d="default"}=r,w=D.useMemo(()=>{let v=nm(u,a);return v==null?null:{location:{pathname:v,search:f,hash:h,state:c,key:d},navigationType:i}},[a,u,f,h,c,d,i]);return w==null?null:D.createElement($o.Provider,{value:l},D.createElement(yc.Provider,{children:n,value:w}))}function PI(t){let{children:e,location:n}=t;return EI(cd(e),n)}var Wv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Wv||(Wv={}));new Promise(()=>{});function cd(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,cd(r.props.children,o));return}r.type!==Zr&&rt(!1),!r.props.index||!r.props.children||rt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=cd(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}function LI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MI(t,e){return t.button===0&&(!e||e==="_self")&&!DI(t)}const $I=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function FI(t){let{basename:e,children:n,window:r}=t,i=D.useRef();i.current==null&&(i.current=KN({window:r,v5Compat:!0}));let o=i.current,[s,a]=D.useState({action:o.action,location:o.location});return D.useLayoutEffect(()=>o.listen(a),[o]),D.createElement(RI,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}const jI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,to=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:f}=e,h=LI(e,$I),{basename:c}=D.useContext($o),d,w=!1;if(typeof u=="string"&&UI.test(u)&&(d=u,jI))try{let p=new URL(window.location.href),y=u.startsWith("//")?new URL(p.protocol+u):new URL(u),g=nm(y.pathname,c);y.origin===p.origin&&g!=null?u=g+y.search+y.hash:w=!0}catch{}let v=vI(u,{relative:i}),E=BI(u,{replace:s,state:a,target:l,preventScrollReset:f,relative:i});function m(p){r&&r(p),p.defaultPrevented||E(p)}return D.createElement("a",fd({},h,{href:d||v,onClick:w||o?r:m,ref:n,target:l}))});var Gv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Gv||(Gv={}));var Qv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qv||(Qv={}));function BI(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=im(),l=wc(),u=IE(t,{relative:s});return D.useCallback(f=>{if(MI(f,n)){f.preventDefault();let h=r!==void 0?r:Eu(l)===Eu(u);a(t,{replace:h,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}var AE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(AE);var qI=AE.exports;const Se=Ta(qI);function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}function xE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yv(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function VI(t){var e=zI(t,"string");return typeof e=="symbol"?e:String(e)}function zI(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HI(t,e,n){var r=D.useRef(t!==void 0),i=D.useState(e),o=i[0],s=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&o!==e&&s(e),[a?t:o,D.useCallback(function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),c=1;c<f;c++)h[c-1]=arguments[c];n&&n.apply(void 0,[u].concat(h)),s(u)},[n])]}function om(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[Yv(r)],a=o[r],l=xE(o,[Yv(r),r].map(VI)),u=e[r],f=HI(a,s,t[u]),h=f[0],c=f[1];return hd({},l,(i={},i[r]=h,i[u]=c,i))},t)}function dd(t,e){return dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dd(t,e)}function KI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dd(t,e)}const WI=["xxl","xl","lg","md","sm","xs"],GI="xs",Ec=D.createContext({prefixes:{},breakpoints:WI,minBreakpoint:GI});function Re(t,e){const{prefixes:n}=D.useContext(Ec);return t||n[e]||e}function QI(){const{breakpoints:t}=D.useContext(Ec);return t}function YI(){const{minBreakpoint:t}=D.useContext(Ec);return t}function RE(){const{dir:t}=D.useContext(Ec);return t==="rtl"}function _c(t){return t&&t.ownerDocument||document}function XI(t){var e=_c(t);return e&&e.defaultView||window}function JI(t,e){return XI(t).getComputedStyle(t,e)}var ZI=/([A-Z])/g;function eC(t){return t.replace(ZI,"-$1").toLowerCase()}var tC=/^ms-/;function vl(t){return eC(t).replace(tC,"-ms-")}var nC=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rC(t){return!!(t&&nC.test(t))}function Gn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(vl(e))||JI(t).getPropertyValue(vl(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(vl(i)):rC(i)?r+=i+"("+o+") ":n+=vl(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var PE={exports:{}},iC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oC=iC,sC=oC;function LE(){}function DE(){}DE.resetWarningCache=LE;var aC=function(){function t(r,i,o,s,a,l){if(l!==sC){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:DE,resetWarningCache:LE};return n.PropTypes=n,n};PE.exports=aC();var lC=PE.exports;const Qn=Ta(lC),Xv={disabled:!1},ME=mn.createContext(null);var uC=function(e){return e.scrollTop},ws="unmounted",gr="exited",pn="entering",jn="entered",ia="exiting",lr=function(t){KI(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=gr,o.appearStatus=pn):l=jn:r.unmountOnExit||r.mountOnEnter?l=ws:l=gr,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ws?{status:gr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==pn&&s!==jn&&(o=pn):(s===pn||s===jn)&&(o=ia)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===pn){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:eo.findDOMNode(this);s&&uC(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===gr&&this.setState({status:ws})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[eo.findDOMNode(this),a],u=l[0],f=l[1],h=this.getTimeouts(),c=a?h.appear:h.enter;if(!i&&!s||Xv.disabled){this.safeSetState({status:jn},function(){o.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:pn},function(){o.props.onEntering(u,f),o.onTransitionEnd(c,function(){o.safeSetState({status:jn},function(){o.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:eo.findDOMNode(this);if(!o||Xv.disabled){this.safeSetState({status:gr},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ia},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:gr},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:eo.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],f=l[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ws)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=xE(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mn.createElement(ME.Provider,{value:null},typeof s=="function"?s(i,a):mn.cloneElement(mn.Children.only(s),a))},e}(mn.Component);lr.contextType=ME;lr.propTypes={};function Mi(){}lr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Mi,onEntering:Mi,onEntered:Mi,onExit:Mi,onExiting:Mi,onExited:Mi};lr.UNMOUNTED=ws;lr.EXITED=gr;lr.ENTERING=pn;lr.ENTERED=jn;lr.EXITING=ia;const cC=lr,Fo=!!(typeof window<"u"&&window.document&&window.document.createElement);var pd=!1,md=!1;try{var Ff={get passive(){return pd=!0},get once(){return md=pd=!0}};Fo&&(window.addEventListener("test",Ff,Ff),window.removeEventListener("test",Ff,!0))}catch{}function $E(t,e,n,r){if(r&&typeof r!="boolean"&&!md){var i=r.once,o=r.capture,s=n;!md&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,pd?r:o)}t.addEventListener(e,n,r)}function gd(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Tu(t,e,n,r){return $E(t,e,n,r),function(){gd(t,e,n,r)}}function fC(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function hC(t){var e=Gn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function dC(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||fC(t,"transitionend",!0)},e+n),o=Tu(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function FE(t,e,n,r){n==null&&(n=hC(t)||0);var i=dC(t,n,r),o=Tu(t,"transitionend",e);return function(){i(),o()}}function Jv(t,e){const n=Gn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Tc(t,e){const n=Jv(t,"transitionDuration"),r=Jv(t,"transitionDelay"),i=FE(t,o=>{o.target===t&&(i(),e(o))},n+r)}function us(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function sm(t){t.offsetHeight}var Zv=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function pC(t,e){var n=Zv(t),r=Zv(e);return function(i){n&&n(i),r&&r(i)}}function Ca(t,e){return D.useMemo(function(){return pC(t,e)},[t,e])}function mC(t){return t&&"setState"in t?eo.findDOMNode(t):t??null}const gC=mn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},f)=>{const h=D.useRef(null),c=Ca(h,l),d=b=>{c(mC(b))},w=b=>T=>{b&&h.current&&b(h.current,T)},v=D.useCallback(w(t),[t]),E=D.useCallback(w(e),[e]),m=D.useCallback(w(n),[n]),p=D.useCallback(w(r),[r]),y=D.useCallback(w(i),[i]),g=D.useCallback(w(o),[o]),_=D.useCallback(w(s),[s]);return j(cC,{ref:f,...u,onEnter:v,onEntered:m,onEntering:E,onExit:p,onExited:g,onExiting:y,addEndListener:_,nodeRef:h,children:typeof a=="function"?(b,T)=>a(b,{...T,ref:d}):mn.cloneElement(a,{ref:d})})}),Sc=gC,vC={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function yC(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=vC[t];return r+parseInt(Gn(e,i[0]),10)+parseInt(Gn(e,i[1]),10)}const wC={[gr]:"collapse",[ia]:"collapsing",[pn]:"collapsing",[jn]:"collapse show"},EC=mn.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:f=!1,unmountOnExit:h=!1,appear:c=!1,getDimensionValue:d=yC,...w},v)=>{const E=typeof a=="function"?a():a,m=D.useMemo(()=>us(b=>{b.style[E]="0"},t),[E,t]),p=D.useMemo(()=>us(b=>{const T=`scroll${E[0].toUpperCase()}${E.slice(1)}`;b.style[E]=`${b[T]}px`},e),[E,e]),y=D.useMemo(()=>us(b=>{b.style[E]=null},n),[E,n]),g=D.useMemo(()=>us(b=>{b.style[E]=`${d(E,b)}px`,sm(b)},r),[r,d,E]),_=D.useMemo(()=>us(b=>{b.style[E]=null},i),[E,i]);return j(Sc,{ref:v,addEndListener:Tc,...w,"aria-expanded":w.role?l:null,onEnter:m,onEntering:p,onEntered:y,onExit:g,onExiting:_,childRef:s.ref,in:l,timeout:u,mountOnEnter:f,unmountOnExit:h,appear:c,children:(b,T)=>mn.cloneElement(s,{...T,className:Se(o,s.props.className,wC[b],E==="width"&&"collapse-horizontal")})})}),_C=EC;function jE(t){var e=D.useRef(t);return D.useEffect(function(){e.current=t},[t]),e}function kt(t){var e=jE(t);return D.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}function TC(){return D.useState(null)}function UE(){var t=D.useRef(!0),e=D.useRef(function(){return t.current});return D.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function SC(t){var e=D.useRef(null);return D.useEffect(function(){e.current=t}),e.current}var bC=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",kC=typeof document<"u";const vd=kC||bC?D.useLayoutEffect:D.useEffect,OC=["as","disabled"];function NC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function IC(t){return!t||t.trim()==="#"}function am({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const f=c=>{if((e||t==="a"&&IC(n))&&c.preventDefault(),e){c.stopPropagation();return}s==null||s(c)},h=c=>{c.key===" "&&(c.preventDefault(),f(c))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:h},u]}const BE=D.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=NC(t,OC);const[o,{tagName:s}]=am(Object.assign({tagName:n,disabled:r},i));return j(s,Object.assign({},i,o,{ref:e}))});BE.displayName="Button";const CC=["onKeyDown"];function AC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xC(t){return!t||t.trim()==="#"}const qE=D.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=AC(t,CC);const[i]=am(Object.assign({tagName:"a"},r)),o=kt(s=>{i.onKeyDown(s),n==null||n(s)});return xC(r.href)||r.role==="button"?j("a",Object.assign({ref:e},r,i,{onKeyDown:o})):j("a",Object.assign({ref:e},r,{onKeyDown:n}))});qE.displayName="Anchor";const yd=qE,RC={[pn]:"show",[jn]:"show"},VE=D.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=D.useCallback((l,u)=>{sm(l),r==null||r(l,u)},[r]);return j(Sc,{ref:o,addEndListener:Tc,...s,onEnter:a,childRef:e.ref,children:(l,u)=>D.cloneElement(e,{...u,className:Se("fade",t,e.props.className,RC[l],n[l])})})});VE.displayName="Fade";const lm=VE,PC={"aria-label":Qn.string,onClick:Qn.func,variant:Qn.oneOf(["white"])},um=D.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>j("button",{ref:i,type:"button",className:Se("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));um.displayName="CloseButton";um.propTypes=PC;const LC=um,zE=t=>D.forwardRef((e,n)=>j("div",{...e,ref:n,className:Se(e.className,t)}));var DC=/-(.)/g;function MC(t){return t.replace(DC,function(e,n){return n.toUpperCase()})}const $C=t=>t[0].toUpperCase()+MC(t).slice(1);function ur(t,{displayName:e=$C(t),Component:n,defaultProps:r}={}){const i=D.forwardRef(({className:o,bsPrefix:s,as:a=n||"div",...l},u)=>{const f={...r,...l},h=Re(s,t);return j(a,{ref:u,className:Se(o,h),...f})});return i.displayName=e,i}const HE=D.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=Re(e,"btn"),[f,{tagName:h}]=am({tagName:t,disabled:o,...a});return j(h,{...f,...a,ref:l,disabled:o,className:Se(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});HE.displayName="Button";const jf=HE,KE=D.createContext(null);KE.displayName="CardHeaderContext";const FC=KE;function jC(t,e){var n=D.useRef(!0);D.useEffect(function(){if(n.current){n.current=!1;return}return t()},e)}function UC(t){var e=D.useRef(t);return e.current=t,e}function cm(t){var e=UC(t);D.useEffect(function(){return function(){return e.current()}},[])}var wd=Math.pow(2,31)-1;function WE(t,e,n){var r=n-Date.now();t.current=r<=wd?setTimeout(e,r):setTimeout(function(){return WE(t,e,n)},wd)}function BC(){var t=UE(),e=D.useRef();return cm(function(){return clearTimeout(e.current)}),D.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(i,o){o===void 0&&(o=0),t()&&(n(),o<=wd?e.current=setTimeout(i,o):WE(e,i,Date.now()+o))}return{set:r,clear:n}},[])}const qC=ur("carousel-caption"),GE=D.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const o=Se(n,Re(e,"carousel-item"));return j(t,{ref:i,...r,className:o})});GE.displayName="CarouselItem";const VC=GE;function ey(t,e){let n=0;return D.Children.map(t,r=>D.isValidElement(r)?e(r,n++):r)}function zC(t,e){let n=0;D.Children.forEach(t,r=>{D.isValidElement(r)&&e(r,n++)})}function HC(t,e){return D.Children.toArray(t).some(n=>D.isValidElement(n)&&n.type===e)}const KC=40;function WC(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const QE=D.forwardRef(({defaultActiveIndex:t=0,...e},n)=>{const{as:r="div",bsPrefix:i,slide:o=!0,fade:s=!1,controls:a=!0,indicators:l=!0,indicatorLabels:u=[],activeIndex:f,onSelect:h,onSlide:c,onSlid:d,interval:w=5e3,keyboard:v=!0,onKeyDown:E,pause:m="hover",onMouseOver:p,onMouseOut:y,wrap:g=!0,touch:_=!0,onTouchStart:b,onTouchMove:T,onTouchEnd:k,prevIcon:A=j("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:O="Previous",nextIcon:S=j("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:N="Next",variant:C,className:P,children:$,...z}=om({defaultActiveIndex:t,...e},{activeIndex:"onSelect"}),B=Re(i,"carousel"),H=RE(),F=D.useRef(null),[L,I]=D.useState("next"),[R,M]=D.useState(!1),[V,q]=D.useState(!1),[x,U]=D.useState(f||0);D.useEffect(()=>{!V&&f!==x&&(F.current?I(F.current):I((f||0)>x?"next":"prev"),o&&q(!0),U(f||0))},[f,V,x,o]),D.useEffect(()=>{F.current&&(F.current=null)});let K=0,W;zC($,(Ee,Pe)=>{++K,Pe===f&&(W=Ee.props.interval)});const Y=jE(W),te=D.useCallback(Ee=>{if(V)return;let Pe=x-1;if(Pe<0){if(!g)return;Pe=K-1}F.current="prev",h==null||h(Pe,Ee)},[V,x,h,g,K]),ce=kt(Ee=>{if(V)return;let Pe=x+1;if(Pe>=K){if(!g)return;Pe=0}F.current="next",h==null||h(Pe,Ee)}),de=D.useRef();D.useImperativeHandle(n,()=>({element:de.current,prev:te,next:ce}));const ue=kt(()=>{!document.hidden&&WC(de.current)&&(H?te():ce())}),Te=L==="next"?"start":"end";jC(()=>{o||(c==null||c(x,Te),d==null||d(x,Te))},[x]);const at=`${B}-item-${L}`,ze=`${B}-item-${Te}`,G=D.useCallback(Ee=>{sm(Ee),c==null||c(x,Te)},[c,x,Te]),Q=D.useCallback(()=>{q(!1),d==null||d(x,Te)},[d,x,Te]),ne=D.useCallback(Ee=>{if(v&&!/input|textarea/i.test(Ee.target.tagName))switch(Ee.key){case"ArrowLeft":Ee.preventDefault(),H?ce(Ee):te(Ee);return;case"ArrowRight":Ee.preventDefault(),H?te(Ee):ce(Ee);return}E==null||E(Ee)},[v,E,te,ce,H]),re=D.useCallback(Ee=>{m==="hover"&&M(!0),p==null||p(Ee)},[m,p]),J=D.useCallback(Ee=>{M(!1),y==null||y(Ee)},[y]),ye=D.useRef(0),me=D.useRef(0),oe=BC(),Xe=D.useCallback(Ee=>{ye.current=Ee.touches[0].clientX,me.current=0,m==="hover"&&M(!0),b==null||b(Ee)},[m,b]),Ft=D.useCallback(Ee=>{Ee.touches&&Ee.touches.length>1?me.current=0:me.current=Ee.touches[0].clientX-ye.current,T==null||T(Ee)},[T]),De=D.useCallback(Ee=>{if(_){const Pe=me.current;Math.abs(Pe)>KC&&(Pe>0?te(Ee):ce(Ee))}m==="hover"&&oe.set(()=>{M(!1)},w||void 0),k==null||k(Ee)},[_,m,te,ce,oe,w,k]),Za=w!=null&&!R&&!V,Be=D.useRef();D.useEffect(()=>{var Ee,Pe;if(!Za)return;const Mn=H?te:ce;return Be.current=window.setInterval(document.visibilityState?ue:Mn,(Ee=(Pe=Y.current)!=null?Pe:w)!=null?Ee:void 0),()=>{Be.current!==null&&clearInterval(Be.current)}},[Za,te,ce,Y,w,ue,H]);const un=D.useMemo(()=>l&&Array.from({length:K},(Ee,Pe)=>Mn=>{h==null||h(Pe,Mn)}),[l,K,h]);return le(r,{ref:de,...z,onKeyDown:ne,onMouseOver:re,onMouseOut:J,onTouchStart:Xe,onTouchMove:Ft,onTouchEnd:De,className:Se(P,B,o&&"slide",s&&`${B}-fade`,C&&`${B}-${C}`),children:[l&&j("div",{className:`${B}-indicators`,children:ey($,(Ee,Pe)=>j("button",{type:"button","data-bs-target":"","aria-label":u!=null&&u.length?u[Pe]:`Slide ${Pe+1}`,className:Pe===x?"active":void 0,onClick:un?un[Pe]:void 0,"aria-current":Pe===x},Pe))}),j("div",{className:`${B}-inner`,children:ey($,(Ee,Pe)=>{const Mn=Pe===x;return o?j(Sc,{in:Mn,onEnter:Mn?G:void 0,onEntered:Mn?Q:void 0,addEndListener:Tc,children:(es,_k)=>D.cloneElement(Ee,{..._k,className:Se(Ee.props.className,Mn&&es!=="entered"&&at,(es==="entered"||es==="exiting")&&"active",(es==="entering"||es==="exiting")&&ze)})}):D.cloneElement(Ee,{className:Se(Ee.props.className,Mn&&"active")})})}),a&&le(mi,{children:[(g||f!==0)&&le(yd,{className:`${B}-control-prev`,onClick:te,children:[A,O&&j("span",{className:"visually-hidden",children:O})]}),(g||f!==K-1)&&le(yd,{className:`${B}-control-next`,onClick:ce,children:[S,N&&j("span",{className:"visually-hidden",children:N})]})]})]})});QE.displayName="Carousel";const Uf=Object.assign(QE,{Caption:qC,Item:VC});function GC({as:t,bsPrefix:e,className:n,...r}){e=Re(e,"col");const i=QI(),o=YI(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let f,h,c;typeof u=="object"&&u!=null?{span:f,offset:h,order:c}=u:f=u;const d=l!==o?`-${l}`:"";f&&s.push(f===!0?`${e}${d}`:`${e}${d}-${f}`),c!=null&&a.push(`order${d}-${c}`),h!=null&&a.push(`offset${d}-${h}`)}),[{...r,className:Se(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}const YE=D.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=GC(t);return j(i,{...r,ref:e,className:Se(n,!s.length&&o)})});YE.displayName="Col";const QC=YE;var YC=Function.prototype.bind.call(Function.prototype.call,[].slice);function ei(t,e){return YC(t.querySelectorAll(e))}function XC(){var t=D.useReducer(function(n){return!n},!1),e=t[1];return e}function ty(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const JC=D.createContext(null),fm=(t,e=null)=>t!=null?String(t):e||null,Su=JC,XE=D.createContext(null);XE.displayName="NavContext";const JE=XE,ZC="data-rr-ui-",eA="rrUi";function bc(t){return`${ZC}${t}`}function tA(t){return`${eA}${t}`}const ZE=D.createContext(Fo?window:void 0);ZE.Provider;function e_(){return D.useContext(ZE)}const t_=D.createContext(null);t_.displayName="NavbarContext";const jo=t_,nA={type:Qn.string,tooltip:Qn.bool,as:Qn.elementType},hm=D.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>j(t,{...i,ref:o,className:Se(e,`${n}-${r?"tooltip":"feedback"}`)}));hm.displayName="Feedback";hm.propTypes=nA;const n_=hm,rA=D.createContext({}),tr=rA,r_=D.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{const{controlId:u}=D.useContext(tr);return e=Re(e,"form-check-input"),j(s,{...a,ref:l,type:r,id:t||u,className:Se(n,e,i&&"is-valid",o&&"is-invalid")})});r_.displayName="FormCheckInput";const i_=r_,o_=D.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:o}=D.useContext(tr);return t=Re(t,"form-check-label"),j("label",{...r,ref:i,htmlFor:n||o,className:Se(e,t)})});o_.displayName="FormCheckLabel";const Ed=o_,s_=D.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:f,className:h,style:c,title:d="",type:w="checkbox",label:v,children:E,as:m="input",...p},y)=>{e=Re(e,"form-check"),n=Re(n,"form-switch");const{controlId:g}=D.useContext(tr),_=D.useMemo(()=>({controlId:t||g}),[g,t]),b=!E&&v!=null&&v!==!1||HC(E,Ed),T=j(i_,{...p,type:w==="switch"?"checkbox":w,ref:y,isValid:s,isInvalid:a,disabled:o,as:m});return j(tr.Provider,{value:_,children:j("div",{style:c,className:Se(h,b&&e,r&&`${e}-inline`,i&&`${e}-reverse`,w==="switch"&&n),children:E||le(mi,{children:[T,b&&j(Ed,{title:d,children:v}),u&&j(n_,{type:f,tooltip:l,children:u})]})})})});s_.displayName="FormCheck";const bu=Object.assign(s_,{Input:i_,Label:Ed}),a_=D.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:f="input",...h},c)=>{const{controlId:d}=D.useContext(tr);t=Re(t,"form-control");let w;return l?w={[`${t}-plaintext`]:!0}:w={[t]:!0,[`${t}-${n}`]:n},j(f,{...h,type:e,size:r,ref:c,readOnly:u,id:i||d,className:Se(o,w,s&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});a_.displayName="FormControl";const iA=Object.assign(a_,{Feedback:n_}),oA=ur("form-floating"),l_=D.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=D.useMemo(()=>({controlId:t}),[t]);return j(tr.Provider,{value:i,children:j(e,{...n,ref:r})})});l_.displayName="FormGroup";const u_=l_,c_=D.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},a)=>{const{controlId:l}=D.useContext(tr);e=Re(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const f=Se(i,e,r&&"visually-hidden",n&&u);return o=o||l,n?j(QC,{ref:a,as:"label",className:f,htmlFor:o,...s}):j(t,{ref:a,className:f,htmlFor:o,...s})});c_.displayName="FormLabel";const sA=c_,f_=D.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:o}=D.useContext(tr);return t=Re(t,"form-range"),j("input",{...r,type:"range",ref:i,className:Se(e,t),id:n||o})});f_.displayName="FormRange";const aA=f_,h_=D.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{const{controlId:u}=D.useContext(tr);return t=Re(t,"form-select"),j("select",{...a,size:n,ref:l,className:Se(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});h_.displayName="FormSelect";const lA=h_,d_=D.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=Re(t,"form-text"),j(n,{...i,ref:o,className:Se(e,t,r&&"text-muted")})));d_.displayName="FormText";const uA=d_,p_=D.forwardRef((t,e)=>j(bu,{...t,ref:e,type:"switch"}));p_.displayName="Switch";const cA=Object.assign(p_,{Input:bu.Input,Label:bu.Label}),m_=D.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=Re(t,"form-floating"),le(u_,{ref:s,className:Se(e,t),controlId:r,...o,children:[n,j("label",{htmlFor:r,children:i})]})));m_.displayName="FloatingLabel";const fA=m_,hA={_ref:Qn.any,validated:Qn.bool,as:Qn.elementType},dm=D.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>j(n,{...r,ref:i,className:Se(t,e&&"was-validated")}));dm.displayName="Form";dm.propTypes=hA;const $i=Object.assign(dm,{Group:u_,Control:iA,Floating:oA,Check:bu,Switch:cA,Label:sA,Text:uA,Range:aA,Select:lA,FloatingLabel:fA}),dA=D.createContext(null),g_=dA,pA=["as","active","eventKey"];function mA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function v_({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=D.useContext(Su),a=D.useContext(JE),l=D.useContext(g_);let u=n;const f={role:i};if(a){!i&&a.role==="tablist"&&(f.role="tab");const h=a.getControllerId(t??null),c=a.getControlledId(t??null);f[bc("event-key")]=t,f.id=h||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(f["aria-controls"]=c)}return f.role==="tab"&&(f["aria-selected"]=u,u||(f.tabIndex=-1),o&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=kt(h=>{o||(e==null||e(h),t!=null&&s&&!h.isPropagationStopped()&&s(t,h))}),[f,{isActive:u}]}const y_=D.forwardRef((t,e)=>{let{as:n=BE,active:r,eventKey:i}=t,o=mA(t,pA);const[s,a]=v_(Object.assign({key:fm(i,o.href),active:r},o));return s[bc("active")]=a.isActive,j(n,Object.assign({},o,s,{ref:e}))});y_.displayName="NavItem";const gA=y_,vA=["as","onSelect","activeKey","role","onKeyDown"];function yA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const ny=()=>{},ry=bc("event-key"),w_=D.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,a=yA(t,vA);const l=XC(),u=D.useRef(!1),f=D.useContext(Su),h=D.useContext(g_);let c,d;h&&(o=o||"tablist",i=h.activeKey,c=h.getControlledId,d=h.getControllerId);const w=D.useRef(null),v=y=>{const g=w.current;if(!g)return null;const _=ei(g,`[${ry}]:not([aria-disabled=true])`),b=g.querySelector("[aria-selected=true]");if(!b||b!==document.activeElement)return null;const T=_.indexOf(b);if(T===-1)return null;let k=T+y;return k>=_.length&&(k=0),k<0&&(k=_.length-1),_[k]},E=(y,g)=>{y!=null&&(r==null||r(y,g),f==null||f(y,g))},m=y=>{if(s==null||s(y),!h)return;let g;switch(y.key){case"ArrowLeft":case"ArrowUp":g=v(-1);break;case"ArrowRight":case"ArrowDown":g=v(1);break;default:return}g&&(y.preventDefault(),E(g.dataset[tA("EventKey")]||null,y),u.current=!0,l())};D.useEffect(()=>{if(w.current&&u.current){const y=w.current.querySelector(`[${ry}][aria-selected=true]`);y==null||y.focus()}u.current=!1});const p=Ca(e,w);return j(Su.Provider,{value:E,children:j(JE.Provider,{value:{role:o,activeKey:fm(i),getControlledId:c||ny,getControllerId:d||ny},children:j(n,Object.assign({},a,{onKeyDown:m,ref:p,role:o}))})})});w_.displayName="Nav";const wA=Object.assign(w_,{Item:gA});var yl;function iy(t){if((!yl&&yl!==0||t)&&Fo){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),yl=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return yl}function Bf(t){t===void 0&&(t=_c());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function EA(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const oy=bc("modal-open");class _A{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return EA(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Gn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(oy,""),Gn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(oy),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const pm=_A,qf=(t,e)=>Fo?t==null?(e||_c()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function TA(t,e){const n=e_(),[r,i]=D.useState(()=>qf(t,n==null?void 0:n.document));if(!r){const o=qf(t);o&&i(o)}return D.useEffect(()=>{e&&r&&e(r)},[e,r]),D.useEffect(()=>{const o=qf(t);o!==r&&i(o)},[t,r]),r}function SA({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=D.useRef(null),s=D.useRef(e),a=kt(n);D.useEffect(()=>{e?s.current=!0:a(o.current)},[e,a]);const l=Ca(o,t.ref),u=D.cloneElement(t,{ref:l});return e?u:i||!s.current&&r?null:u}function bA({in:t,onTransition:e}){const n=D.useRef(null),r=D.useRef(!0),i=kt(e);return vd(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),vd(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function kA({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=D.useState(!e);e&&o&&s(!1);const a=bA({in:!!e,onTransition:u=>{const f=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(s(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(f,h=>{throw u.in||s(!0),h})}}),l=Ca(a,t.ref);return o&&!e?null:D.cloneElement(t,{ref:l})}function sy(t,e,n){return t?j(t,Object.assign({},n)):e?j(kA,Object.assign({},n,{transition:e})):j(SA,Object.assign({},n))}function OA(t){return t.code==="Escape"||t.keyCode===27}const NA=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function IA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Vf;function CA(t){return Vf||(Vf=new pm({ownerDocument:t==null?void 0:t.document})),Vf}function AA(t){const e=e_(),n=t||CA(e),r=D.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:D.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:D.useCallback(i=>{r.current.backdrop=i},[])})}const E_=D.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:f,transition:h,runTransition:c,backdropTransition:d,runBackdropTransition:w,autoFocus:v=!0,enforceFocus:E=!0,restoreFocus:m=!0,restoreFocusOptions:p,renderDialog:y,renderBackdrop:g=ue=>j("div",Object.assign({},ue)),manager:_,container:b,onShow:T,onHide:k=()=>{},onExit:A,onExited:O,onExiting:S,onEnter:N,onEntering:C,onEntered:P}=t,$=IA(t,NA);const z=TA(b),B=AA(_),H=UE(),F=SC(n),[L,I]=D.useState(!n),R=D.useRef(null);D.useImperativeHandle(e,()=>B,[B]),Fo&&!F&&n&&(R.current=Bf()),n&&L&&I(!1);const M=kt(()=>{if(B.add(),W.current=Tu(document,"keydown",U),K.current=Tu(document,"focus",()=>setTimeout(q),!0),T&&T(),v){const ue=Bf(document);B.dialog&&ue&&!ty(B.dialog,ue)&&(R.current=ue,B.dialog.focus())}}),V=kt(()=>{if(B.remove(),W.current==null||W.current(),K.current==null||K.current(),m){var ue;(ue=R.current)==null||ue.focus==null||ue.focus(p),R.current=null}});D.useEffect(()=>{!n||!z||M()},[n,z,M]),D.useEffect(()=>{L&&V()},[L,V]),cm(()=>{V()});const q=kt(()=>{if(!E||!H()||!B.isTopModal())return;const ue=Bf();B.dialog&&ue&&!ty(B.dialog,ue)&&B.dialog.focus()}),x=kt(ue=>{ue.target===ue.currentTarget&&(u==null||u(ue),a===!0&&k())}),U=kt(ue=>{l&&OA(ue)&&B.isTopModal()&&(f==null||f(ue),ue.defaultPrevented||k())}),K=D.useRef(),W=D.useRef(),Y=(...ue)=>{I(!0),O==null||O(...ue)};if(!z)return null;const te=Object.assign({role:r,ref:B.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},$,{style:o,className:i,tabIndex:-1});let ce=y?y(te):j("div",Object.assign({},te,{children:D.cloneElement(s,{role:"document"})}));ce=sy(h,c,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:A,onExiting:S,onExited:Y,onEnter:N,onEntering:C,onEntered:P,children:ce});let de=null;return a&&(de=g({ref:B.setBackdropRef,onClick:x}),de=sy(d,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:de})),j(mi,{children:eo.createPortal(le(mi,{children:[de,ce]}),z)})});E_.displayName="Modal";const __=Object.assign(E_,{Manager:pm});function xA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function RA(t,e){t.classList?t.classList.add(e):xA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ay(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function PA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ay(t.className,e):t.setAttribute("class",ay(t.className&&t.className.baseVal||"",e))}const Fi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class T_ extends pm{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Gn(n,{[e]:`${parseFloat(Gn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Gn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(RA(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ei(n,Fi.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),ei(n,Fi.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),ei(n,Fi.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();PA(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ei(n,Fi.FIXED_CONTENT).forEach(o=>this.restore(r,o)),ei(n,Fi.STICKY_CONTENT).forEach(o=>this.restore(i,o)),ei(n,Fi.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let zf;function S_(t){return zf||(zf=new T_(t)),zf}const LA=ur("modal-body"),DA=D.createContext({onHide(){}}),mm=DA,b_=D.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:o,children:s,scrollable:a,...l},u)=>{t=Re(t,"modal");const f=`${t}-dialog`,h=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return j("div",{...l,ref:u,className:Se(f,e,i&&`${t}-${i}`,r&&`${f}-centered`,a&&`${f}-scrollable`,o&&h),children:j("div",{className:Se(`${t}-content`,n),children:s})})});b_.displayName="ModalDialog";const k_=b_,MA=ur("modal-footer"),$A=D.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const a=D.useContext(mm),l=kt(()=>{a==null||a.onHide(),r==null||r()});return le("div",{ref:s,...o,children:[i,n&&j(LC,{"aria-label":t,variant:e,onClick:l})]})}),O_=$A,N_=D.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=Re(t,"modal-header"),j(O_,{ref:o,...i,className:Se(e,t),closeLabel:n,closeButton:r})));N_.displayName="ModalHeader";const FA=N_,jA=zE("h4"),UA=ur("modal-title",{Component:jA});function BA(t){return j(lm,{...t,timeout:null})}function qA(t){return j(lm,{...t,timeout:null})}const I_=D.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:o,dialogAs:s=k_,"aria-labelledby":a,"aria-describedby":l,"aria-label":u,show:f=!1,animation:h=!0,backdrop:c=!0,keyboard:d=!0,onEscapeKeyDown:w,onShow:v,onHide:E,container:m,autoFocus:p=!0,enforceFocus:y=!0,restoreFocus:g=!0,restoreFocusOptions:_,onEntered:b,onExit:T,onExiting:k,onEnter:A,onEntering:O,onExited:S,backdropClassName:N,manager:C,...P},$)=>{const[z,B]=D.useState({}),[H,F]=D.useState(!1),L=D.useRef(!1),I=D.useRef(!1),R=D.useRef(null),[M,V]=TC(),q=Ca($,V),x=kt(E),U=RE();t=Re(t,"modal");const K=D.useMemo(()=>({onHide:x}),[x]);function W(){return C||S_({isRTL:U})}function Y(oe){if(!Fo)return;const Xe=W().getScrollbarWidth()>0,Ft=oe.scrollHeight>_c(oe).documentElement.clientHeight;B({paddingRight:Xe&&!Ft?iy():void 0,paddingLeft:!Xe&&Ft?iy():void 0})}const te=kt(()=>{M&&Y(M.dialog)});cm(()=>{gd(window,"resize",te),R.current==null||R.current()});const ce=()=>{L.current=!0},de=oe=>{L.current&&M&&oe.target===M.dialog&&(I.current=!0),L.current=!1},ue=()=>{F(!0),R.current=FE(M.dialog,()=>{F(!1)})},Te=oe=>{oe.target===oe.currentTarget&&ue()},at=oe=>{if(c==="static"){Te(oe);return}if(I.current||oe.target!==oe.currentTarget){I.current=!1;return}E==null||E()},ze=oe=>{d?w==null||w(oe):(oe.preventDefault(),c==="static"&&ue())},G=(oe,Xe)=>{oe&&Y(oe),A==null||A(oe,Xe)},Q=oe=>{R.current==null||R.current(),T==null||T(oe)},ne=(oe,Xe)=>{O==null||O(oe,Xe),$E(window,"resize",te)},re=oe=>{oe&&(oe.style.display=""),S==null||S(oe),gd(window,"resize",te)},J=D.useCallback(oe=>j("div",{...oe,className:Se(`${t}-backdrop`,N,!h&&"show")}),[h,N,t]),ye={...n,...z};ye.display="block";const me=oe=>j("div",{role:"dialog",...oe,style:ye,className:Se(e,t,H&&`${t}-static`,!h&&"show"),onClick:c?at:void 0,onMouseUp:de,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,children:j(s,{...P,onMouseDown:ce,className:r,contentClassName:i,children:o})});return j(mm.Provider,{value:K,children:j(__,{show:f,ref:q,backdrop:c,container:m,keyboard:!0,autoFocus:p,enforceFocus:y,restoreFocus:g,restoreFocusOptions:_,onEscapeKeyDown:ze,onShow:v,onHide:E,onEnter:G,onEntering:ne,onEntered:b,onExit:Q,onExiting:k,onExited:re,manager:W(),transition:h?BA:void 0,backdropTransition:h?qA:void 0,renderBackdrop:J,renderDialog:me})})});I_.displayName="Modal";const cs=Object.assign(I_,{Body:LA,Header:FA,Title:UA,Footer:MA,Dialog:k_,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var ly={exports:{}},_d={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(s,a,l,u,f,h){var c=u||"<<anonymous>>",d=h||l;if(a[l]==null)return s?new Error("Required "+f+" `"+d+"` was not specified "+("in `"+c+"`.")):null;for(var w=arguments.length,v=Array(w>6?w-6:0),E=6;E<w;E++)v[E-6]=arguments[E];return r.apply(void 0,[a,l,c,f,d].concat(v))}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}t.exports=e.default})(_d,_d.exports);var VA=_d.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=VA,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];function u(){for(var f=arguments.length,h=Array(f),c=0;c<f;c++)h[c]=arguments[c];var d=null;return a.forEach(function(w){if(d==null){var v=w.apply(void 0,h);v!=null&&(d=v)}}),d}return(0,r.default)(u)}t.exports=e.default})(ly,ly.exports);const zA=ur("nav-item"),C_=D.forwardRef(({bsPrefix:t,className:e,as:n=yd,active:r,eventKey:i,disabled:o=!1,...s},a)=>{t=Re(t,"nav-link");const[l,u]=v_({key:fm(i,s.href),active:r,disabled:o,...s});return j(n,{...s,...l,ref:a,disabled:o,className:Se(e,t,o&&"disabled",u.isActive&&"active")})});C_.displayName="NavLink";const HA=C_,A_=D.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:a,navbarScroll:l,className:u,activeKey:f,...h}=om(t,{activeKey:"onSelect"}),c=Re(r,"nav");let d,w,v=!1;const E=D.useContext(jo),m=D.useContext(FC);return E?(d=E.bsPrefix,v=a??!0):m&&({cardHeaderBsPrefix:w}=m),j(wA,{as:n,ref:e,activeKey:f,className:Se(u,{[c]:!v,[`${d}-nav`]:v,[`${d}-nav-scroll`]:v&&l,[`${w}-${i}`]:!!w,[`${c}-${i}`]:!!i,[`${c}-fill`]:o,[`${c}-justified`]:s}),...h})});A_.displayName="Nav";const Yr=Object.assign(A_,{Item:zA,Link:HA}),x_=D.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Re(t,"navbar-brand");const o=n||(r.href?"a":"span");return j(o,{...r,ref:i,className:Se(e,t)})});x_.displayName="NavbarBrand";const KA=x_,R_=D.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Re(e,"navbar-collapse");const i=D.useContext(jo);return j(_C,{in:!!(i&&i.expanded),...n,children:j("div",{ref:r,className:e,children:t})})});R_.displayName="NavbarCollapse";const WA=R_,P_=D.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},a)=>{t=Re(t,"navbar-toggler");const{onToggle:l,expanded:u}=D.useContext(jo)||{},f=kt(h=>{o&&o(h),l&&l()});return i==="button"&&(s.type="button"),j(i,{...s,ref:a,onClick:f,"aria-label":r,className:Se(e,t,!u&&"collapsed"),children:n||j("span",{className:`${t}-icon`})})});P_.displayName="NavbarToggle";const GA=P_;var Td=new WeakMap,uy=function(e,n){if(!(!e||!n)){var r=Td.get(n)||new Map;Td.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function QA(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=uy(t,e),r=D.useState(function(){return n?n.matches:!1}),i=r[0],o=r[1];return vd(function(){var s=uy(t,e);if(!s)return o(!1);var a=Td.get(e),l=function(){o(s.matches)};return s.refCount++,s.addListener(l),l(),function(){s.removeListener(l),s.refCount--,s.refCount<=0&&(a==null||a.delete(s.media)),s=void 0}},[t]),i}function YA(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function o(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function s(a,l,u){var f;if(typeof a=="object")f=a,u=l,l=!0;else{var h;l=l||!0,f=(h={},h[a]=l,h)}var c=D.useMemo(function(){return Object.entries(f).reduce(function(d,w){var v=w[0],E=w[1];return(E==="up"||E===!0)&&(d=n(d,o(v))),(E==="down"||E===!0)&&(d=n(d,i(v))),d},"")},[JSON.stringify(f)]);return QA(c,u)}return s}var XA=YA({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});const JA=ur("offcanvas-body"),ZA={[pn]:"show",[jn]:"show"},L_=D.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...a},l)=>(t=Re(t,"offcanvas"),j(Sc,{ref:l,addEndListener:Tc,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...a,childRef:n.ref,children:(u,f)=>D.cloneElement(n,{...f,className:Se(e,n.props.className,(u===pn||u===ia)&&`${t}-toggling`,ZA[u])})})));L_.displayName="OffcanvasToggling";const e2=L_,D_=D.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=Re(t,"offcanvas-header"),j(O_,{ref:o,...i,className:Se(e,t),closeLabel:n,closeButton:r})));D_.displayName="OffcanvasHeader";const t2=D_,n2=zE("h5"),r2=ur("offcanvas-title",{Component:n2});function i2(t){return j(e2,{...t})}function o2(t){return j(lm,{...t})}const M_=D.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:f,onShow:h,onHide:c,container:d,autoFocus:w=!0,enforceFocus:v=!0,restoreFocus:E=!0,restoreFocusOptions:m,onEntered:p,onExit:y,onExiting:g,onEnter:_,onEntering:b,onExited:T,backdropClassName:k,manager:A,renderStaticNode:O=!1,...S},N)=>{const C=D.useRef();t=Re(t,"offcanvas");const{onToggle:P}=D.useContext(jo)||{},[$,z]=D.useState(!1),B=XA(o||"xs","up");D.useEffect(()=>{z(o?s&&!B:s)},[s,o,B]);const H=kt(()=>{P==null||P(),c==null||c()}),F=D.useMemo(()=>({onHide:H}),[H]);function L(){return A||(u?(C.current||(C.current=new T_({handleContainerOverflow:!1})),C.current):S_())}const I=(q,...x)=>{q&&(q.style.visibility="visible"),_==null||_(q,...x)},R=(q,...x)=>{q&&(q.style.visibility=""),T==null||T(...x)},M=D.useCallback(q=>j("div",{...q,className:Se(`${t}-backdrop`,k)}),[k,t]),V=q=>j("div",{...q,...S,className:Se(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return le(mi,{children:[!$&&(o||O)&&V({}),j(mm.Provider,{value:F,children:j(__,{show:$,ref:N,backdrop:a,container:d,keyboard:l,autoFocus:w,enforceFocus:v&&!u,restoreFocus:E,restoreFocusOptions:m,onEscapeKeyDown:f,onShow:h,onHide:H,onEnter:I,onEntering:b,onEntered:p,onExit:y,onExiting:g,onExited:R,manager:L(),transition:i2,backdropTransition:o2,renderBackdrop:M,renderDialog:V})})]})});M_.displayName="Offcanvas";const s2=Object.assign(M_,{Body:JA,Header:t2,Title:r2}),$_=D.forwardRef((t,e)=>{const n=D.useContext(jo);return j(s2,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});$_.displayName="NavbarOffcanvas";const a2=$_,l2=ur("navbar-text",{Component:"span"}),F_=D.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:a,className:l,as:u="nav",expanded:f,onToggle:h,onSelect:c,collapseOnSelect:d=!1,...w}=om(t,{expanded:"onToggle"}),v=Re(n,"navbar"),E=D.useCallback((...y)=>{c==null||c(...y),d&&f&&(h==null||h(!1))},[c,d,f,h]);w.role===void 0&&u!=="nav"&&(w.role="navigation");let m=`${v}-expand`;typeof r=="string"&&(m=`${m}-${r}`);const p=D.useMemo(()=>({onToggle:()=>h==null?void 0:h(!f),bsPrefix:v,expanded:!!f,expand:r}),[v,f,r,h]);return j(jo.Provider,{value:p,children:j(Su.Provider,{value:E,children:j(u,{ref:e,...w,className:Se(l,v,r&&m,i&&`${v}-${i}`,o&&`bg-${o}`,a&&`sticky-${a}`,s&&`fixed-${s}`)})})})});F_.displayName="Navbar";const Hf=Object.assign(F_,{Brand:KA,Collapse:WA,Offcanvas:a2,Text:l2,Toggle:GA});const u2=()=>le(Hf,{expand:"lg",className:"bg-transparent",children:[j(Hf.Toggle,{"aria-controls":"basic-navbar-nav",style:{color:"white"}}),j(Hf.Collapse,{id:"basic-navbar-nav",children:le(Yr,{className:"mr-auto nav-centered",children:[j(Yr.Item,{children:le(to,{className:"nav-link",to:"/",children:[j("span",{className:"japanese-text",children:"作品紹介"})," ",j("br",{})," ",j("span",{className:"english-text",children:"Introduction"})]})}),j(Yr.Item,{children:le(to,{className:"nav-link",to:"/lokman/blog",children:[j("span",{className:"japanese-text",children:"ニュース"})," ",j("br",{})," ",j("span",{className:"english-text",children:"News"})]})}),le(Yr.Link,{href:"/lokman/github",children:[j("span",{className:"japanese-text",children:"ギットハブ"})," ",j("br",{})," ",j("span",{className:"english-text",children:"Github"})]}),le(Yr.Link,{href:"/lokman/projects",children:[j("span",{className:"japanese-text",children:"プロジェクト"})," ",j("br",{})," ",j("span",{className:"english-text",children:"Projects"})]}),j(Yr.Item,{children:le(to,{className:"nav-link",to:"/lokman/links",children:[j("span",{className:"japanese-text",children:"リンクス"})," ",j("br",{})," ",j("span",{className:"english-text",children:"Links"})]})}),j(Yr.Item,{children:le(to,{className:"nav-link",to:"/lokman/contact",children:[j("span",{className:"japanese-text",children:"コンタクト"})," ",j("br",{})," ",j("span",{className:"english-text",children:"Contact"})]})})]})})]});const cy="/lokman/assets/divergence_meter_tube-eac380b4.png";function c2(){const[t,e]=D.useState(new Date),n=D.useRef(),r=()=>{e(new Date),n.current=requestAnimationFrame(r)};D.useEffect(()=>(n.current=requestAnimationFrame(r),()=>cancelAnimationFrame(n.current)),[]);const i=[t.getHours().toString().padStart(2,"0"),t.getMinutes().toString().padStart(2,"0"),t.getSeconds().toString().padStart(2,"0"),t.getMilliseconds().toString().padStart(3,"0")];return le("div",{className:"nixie__wrapper",children:[j("div",{className:"nixie__mesh"}),j("div",{className:"nixie__value",children:i.map((o,s)=>le(mn.Fragment,{children:[o.split("").map((a,l)=>le("span",{className:"nixie__digit-container",children:[j("span",{className:"nixie__digit",children:a}),j("span",{className:"nixie__number-background",style:{backgroundImage:`url(${cy})`}})]},l)),s<i.length-1&&le("span",{className:"nixie__digit-container",children:[j("span",{className:"nixie__number-background",style:{backgroundImage:`url(${cy})`}}),j("span",{className:"nixie__dot",children:"."})]})]},s))})]})}const f2=({images:t})=>j(Uf,{children:t.map((e,n)=>le(Uf.Item,{children:[j("img",{className:"d-block w-100",src:e.src,alt:e.alt}),e.caption&&j(Uf.Caption,{children:j("h3",{children:e.caption})})]},n))}),h2="/lokman/assets/amadeus-7c2c3942.jpg",d2="/lokman/assets/rakugaki-62445f69.jpg",p2="/lokman/assets/atchan-e9e860d2.jpg";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},m2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},U_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=o>>2,h=(o&3)<<4|a>>4;let c=(a&15)<<2|u>>6,d=u&63;l||(d=64,s||(c=64)),r.push(n[f],n[h],n[c],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new g2;const c=o<<2|a>>4;if(r.push(c),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v2=function(t){const e=j_(t);return U_.encodeByteArray(e,!0)},ku=function(t){return v2(t).replace(/\./g,"")},B_=function(t){try{return U_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=()=>y2().__FIREBASE_DEFAULTS__,E2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&B_(t[1]);return e&&JSON.parse(e)},gm=()=>{try{return w2()||E2()||_2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},q_=t=>{var e,n;return(n=(e=gm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},T2=t=>{const e=q_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},S2=()=>{var t;return(t=gm())===null||t===void 0?void 0:t.config},V_=t=>{var e;return(e=gm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ku(JSON.stringify(n)),ku(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function N2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function I2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C2(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function x2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R2,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Aa.prototype.create)}}class Aa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?P2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new cr(i,a,r)}}function P2(t,e){return t.replace(L2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const L2=/\{\$([^}]+)}/g;function D2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ou(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(fy(o)&&fy(s)){if(!Ou(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function M2(t,e){const n=new $2(t,e);return n.subscribe.bind(n)}class $2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kf),i.error===void 0&&(i.error=Kf),i.complete===void 0&&(i.complete=Kf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B2(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U2(t){return t===ti?void 0:t}function B2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const V2={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},z2=Ie.INFO,H2={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},K2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=z2,this._logHandler=K2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const W2=(t,e)=>e.some(n=>t instanceof n);let hy,dy;function G2(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q2(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z_=new WeakMap,Sd=new WeakMap,H_=new WeakMap,Wf=new WeakMap,ym=new WeakMap;function Y2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Dr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&z_.set(n,t)}).catch(()=>{}),ym.set(e,t),e}function X2(t){if(Sd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Sd.set(t,e)}let bd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J2(t){bd=t(bd)}function Z2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gf(this),e,...n);return H_.set(r,e.sort?e.sort():[e]),Dr(r)}:Q2().includes(t)?function(...e){return t.apply(Gf(this),e),Dr(z_.get(this))}:function(...e){return Dr(t.apply(Gf(this),e))}}function ex(t){return typeof t=="function"?Z2(t):(t instanceof IDBTransaction&&X2(t),W2(t,G2())?new Proxy(t,bd):t)}function Dr(t){if(t instanceof IDBRequest)return Y2(t);if(Wf.has(t))return Wf.get(t);const e=ex(t);return e!==t&&(Wf.set(t,e),ym.set(e,t)),e}const Gf=t=>ym.get(t);function tx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Dr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Dr(s.result),l.oldVersion,l.newVersion,Dr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const nx=["get","getKey","getAll","getAllKeys","count"],rx=["put","add","delete","clear"],Qf=new Map;function py(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nx.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qf.set(e,o),o}J2(t=>({...t,get:(e,n,r)=>py(e,n)||t.get(e,n,r),has:(e,n)=>!!py(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ox(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ox(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kd="@firebase/app",my="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new vm("@firebase/app"),sx="@firebase/app-compat",ax="@firebase/analytics-compat",lx="@firebase/analytics",ux="@firebase/app-check-compat",cx="@firebase/app-check",fx="@firebase/auth",hx="@firebase/auth-compat",dx="@firebase/database",px="@firebase/database-compat",mx="@firebase/functions",gx="@firebase/functions-compat",vx="@firebase/installations",yx="@firebase/installations-compat",wx="@firebase/messaging",Ex="@firebase/messaging-compat",_x="@firebase/performance",Tx="@firebase/performance-compat",Sx="@firebase/remote-config",bx="@firebase/remote-config-compat",kx="@firebase/storage",Ox="@firebase/storage-compat",Nx="@firebase/firestore",Ix="@firebase/firestore-compat",Cx="firebase",Ax="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]",xx={[kd]:"fire-core",[sx]:"fire-core-compat",[lx]:"fire-analytics",[ax]:"fire-analytics-compat",[cx]:"fire-app-check",[ux]:"fire-app-check-compat",[fx]:"fire-auth",[hx]:"fire-auth-compat",[dx]:"fire-rtdb",[px]:"fire-rtdb-compat",[mx]:"fire-fn",[gx]:"fire-fn-compat",[vx]:"fire-iid",[yx]:"fire-iid-compat",[wx]:"fire-fcm",[Ex]:"fire-fcm-compat",[_x]:"fire-perf",[Tx]:"fire-perf-compat",[Sx]:"fire-rc",[bx]:"fire-rc-compat",[kx]:"fire-gcs",[Ox]:"fire-gcs-compat",[Nx]:"fire-fst",[Ix]:"fire-fst-compat","fire-js":"fire-js",[Cx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Map,Nd=new Map;function Rx(t,e){try{t.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(Nd.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Nd.set(e,t);for(const n of Nu.values())Rx(n,t);return!0}function wm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Mr=new Aa("app","Firebase",Px);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=Ax;function K_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Od,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(n||(n=S2()),!n)throw Mr.create("no-options");const o=Nu.get(i);if(o){if(Ou(n,o.options)&&Ou(r,o.config))return o;throw Mr.create("duplicate-app",{appName:i})}const s=new q2(i);for(const l of Nd.values())s.addComponent(l);const a=new Lx(n,r,s);return Nu.set(i,a),a}function W_(t=Od){const e=Nu.get(t);if(!e&&t===Od)return K_();if(!e)throw Mr.create("no-app",{appName:t});return e}function $r(t,e,n){var r;let i=(r=xx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(a.join(" "));return}bo(new _i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="firebase-heartbeat-database",Mx=1,oa="firebase-heartbeat-store";let Yf=null;function G_(){return Yf||(Yf=tx(Dx,Mx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oa)}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Yf}async function $x(t){try{return(await G_()).transaction(oa).objectStore(oa).get(Q_(t))}catch(e){if(e instanceof cr)Ti.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(n.message)}}}async function gy(t,e){try{const r=(await G_()).transaction(oa,"readwrite");return await r.objectStore(oa).put(e,Q_(t)),r.done}catch(n){if(n instanceof cr)Ti.warn(n.message);else{const r=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(r.message)}}}function Q_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=1024,jx=30*24*60*60*1e3;class Ux{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=jx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vy(),{heartbeatsToSend:n,unsentEntries:r}=Bx(this._heartbeatsCache.heartbeats),i=ku(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function vy(){return new Date().toISOString().substring(0,10)}function Bx(t,e=Fx){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?x2().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $x(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yy(t){return ku(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){bo(new _i("platform-logger",e=>new ix(e),"PRIVATE")),bo(new _i("heartbeat",e=>new Ux(e),"PRIVATE")),$r(kd,my,t),$r(kd,my,"esm2017"),$r("fire-js","")}Vx("");var zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,Em=Em||{},ve=zx||self;function Iu(){}function kc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ra(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Hx(t){return Object.prototype.hasOwnProperty.call(t,Xf)&&t[Xf]||(t[Xf]=++Kx)}var Xf="closure_uid_"+(1e9*Math.random()>>>0),Kx=0;function Wx(t,e,n){return t.call.apply(t.bind,arguments)}function Gx(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nt=Wx:Nt=Gx,Nt.apply(null,arguments)}function wl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ht(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Wr(){this.s=this.s,this.o=this.o}var Qx=0;Wr.prototype.s=!1;Wr.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),Qx!=0)&&Hx(this)};Wr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y_=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function _m(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kc(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function It(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var Yx=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ve.addEventListener("test",Iu,e),ve.removeEventListener("test",Iu,e)}catch{}return t}();function Cu(t){return/^[\s\xa0]*$/.test(t)}var Ey=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Jf(t,e){return t<e?-1:t>e?1:0}function Oc(){var t=ve.navigator;return t&&(t=t.userAgent)?t:""}function On(t){return Oc().indexOf(t)!=-1}function Tm(t){return Tm[" "](t),t}Tm[" "]=Iu;function X_(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var Xx=On("Opera"),ko=On("Trident")||On("MSIE"),J_=On("Edge"),Id=J_||ko,Z_=On("Gecko")&&!(Oc().toLowerCase().indexOf("webkit")!=-1&&!On("Edge"))&&!(On("Trident")||On("MSIE"))&&!On("Edge"),Jx=Oc().toLowerCase().indexOf("webkit")!=-1&&!On("Edge");function eT(){var t=ve.document;return t?t.documentMode:void 0}var Au;e:{var Zf="",eh=function(){var t=Oc();if(Z_)return/rv:([^\);]+)(\)|;)/.exec(t);if(J_)return/Edge\/([\d\.]+)/.exec(t);if(ko)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Jx)return/WebKit\/(\S+)/.exec(t);if(Xx)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(eh&&(Zf=eh?eh[1]:""),ko){var th=eT();if(th!=null&&th>parseFloat(Zf)){Au=String(th);break e}}Au=Zf}var Zx={};function eR(){return X_(Zx,9,function(){let t=0;const e=Ey(String(Au)).split("."),n=Ey("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=Jf(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||Jf(i[2].length==0,o[2].length==0)||Jf(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var Cd;if(ve.document&&ko){var _y=eT();Cd=_y||parseInt(Au,10)||void 0}else Cd=void 0;var tR=Cd;function sa(t,e){if(It.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Z_){e:{try{Tm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:nR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&sa.$.h.call(this)}}ht(sa,It);var nR={2:"touch",3:"pen",4:"mouse"};sa.prototype.h=function(){sa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pa="closure_listenable_"+(1e6*Math.random()|0),rR=0;function iR(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++rR,this.fa=this.ia=!1}function Nc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Sm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function tT(t){const e={};for(const n in t)e[n]=t[n];return e}const Ty="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Ty.length;o++)n=Ty[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ic(t){this.src=t,this.g={},this.h=0}Ic.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=xd(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new iR(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Ad(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Y_(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Nc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function xd(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var bm="closure_lm_"+(1e6*Math.random()|0),nh={};function rT(t,e,n,r,i){if(r&&r.once)return oT(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)rT(t,e[o],n,r,i);return null}return n=Nm(n),t&&t[Pa]?t.O(e,n,Ra(r)?!!r.capture:!!r,i):iT(t,e,n,!1,r,i)}function iT(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ra(i)?!!i.capture:!!i,a=Om(t);if(a||(t[bm]=a=new Ic(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=oR(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yx||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(aT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oR(){function t(n){return e.call(t.src,t.listener,n)}const e=sR;return t}function oT(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)oT(t,e[o],n,r,i);return null}return n=Nm(n),t&&t[Pa]?t.P(e,n,Ra(r)?!!r.capture:!!r,i):iT(t,e,n,!0,r,i)}function sT(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sT(t,e[o],n,r,i);else r=Ra(r)?!!r.capture:!!r,n=Nm(n),t&&t[Pa]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=xd(o,n,r,i),-1<n&&(Nc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Om(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xd(e,n,r,i)),(n=-1<t?e[t]:null)&&km(n))}function km(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pa])Ad(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(aT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Om(e))?(Ad(n,t),n.h==0&&(n.src=null,e[bm]=null)):Nc(t)}}}function aT(t){return t in nh?nh[t]:nh[t]="on"+t}function sR(t,e){if(t.fa)t=!0;else{e=new sa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&km(t),t=n.call(r,e)}return t}function Om(t){return t=t[bm],t instanceof Ic?t:null}var rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nm(t){return typeof t=="function"?t:(t[rh]||(t[rh]=function(e){return t.handleEvent(e)}),t[rh])}function ft(){Wr.call(this),this.i=new Ic(this),this.S=this,this.J=null}ht(ft,Wr);ft.prototype[Pa]=!0;ft.prototype.removeEventListener=function(t,e,n,r){sT(this,t,e,n,r)};function vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new It(e,t);else if(e instanceof It)e.target=e.target||t;else{var i=e;e=new It(r,t),nT(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=El(s,r,!0,e)&&i}if(s=e.g=t,i=El(s,r,!0,e)&&i,i=El(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=El(s,r,!1,e)&&i}ft.prototype.N=function(){if(ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nc(n[r]);delete t.g[e],t.h--}}this.J=null};ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function El(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Ad(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Im=ve.JSON.stringify;function aR(){var t=cT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class lR{constructor(){this.h=this.g=null}add(e,n){const r=lT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var lT=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new uR,t=>t.reset());class uR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function cR(t){ve.setTimeout(()=>{throw t},0)}function uT(t,e){Rd||fR(),Pd||(Rd(),Pd=!0),cT.add(t,e)}var Rd;function fR(){var t=ve.Promise.resolve(void 0);Rd=function(){t.then(hR)}}var Pd=!1,cT=new lR;function hR(){for(var t;t=aR();){try{t.h.call(t.g)}catch(n){cR(n)}var e=lT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pd=!1}function Cc(t,e){ft.call(this),this.h=t||1,this.g=e||ve,this.j=Nt(this.qb,this),this.l=Date.now()}ht(Cc,ft);ie=Cc.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vt(this,"tick"),this.ga&&(Cm(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Cm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){Cc.$.N.call(this),Cm(this),delete this.g};function Am(t,e,n){if(typeof t=="function")n&&(t=Nt(t,n));else if(t&&typeof t.handleEvent=="function")t=Nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(t,e||0)}function fT(t){t.g=Am(()=>{t.g=null,t.i&&(t.i=!1,fT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class dR extends Wr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fT(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(t){Wr.call(this),this.h=t,this.g={}}ht(aa,Wr);var Sy=[];function hT(t,e,n,r){Array.isArray(n)||(n&&(Sy[0]=n.toString()),n=Sy);for(var i=0;i<n.length;i++){var o=rT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function dT(t){Sm(t.g,function(e,n){this.g.hasOwnProperty(n)&&km(e)},t),t.g={}}aa.prototype.N=function(){aa.$.N.call(this),dT(this)};aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ac(){this.g=!0}Ac.prototype.Ea=function(){this.g=!1};function pR(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var f=u[0];u=u[1];var h=f.split("_");s=2<=h.length&&h[1]=="type"?s+(f+"="+u+"&"):s+(f+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function mR(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function no(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+vR(t,n)+(r?" "+r:"")})}function gR(t,e){t.info(function(){return"TIMEOUT: "+e})}Ac.prototype.info=function(){};function vR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Im(n)}catch{return e}}var Ri={},by=null;function xc(){return by=by||new ft}Ri.Ta="serverreachability";function pT(t){It.call(this,Ri.Ta,t)}ht(pT,It);function la(t){const e=xc();vt(e,new pT(e))}Ri.STAT_EVENT="statevent";function mT(t,e){It.call(this,Ri.STAT_EVENT,t),this.stat=e}ht(mT,It);function Lt(t){const e=xc();vt(e,new mT(e,t))}Ri.Ua="timingevent";function gT(t,e){It.call(this,Ri.Ua,t),this.size=e}ht(gT,It);function La(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){t()},e)}var Rc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xm(){}xm.prototype.h=null;function ky(t){return t.h||(t.h=t.i())}function yT(){}var Da={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rm(){It.call(this,"d")}ht(Rm,It);function Pm(){It.call(this,"c")}ht(Pm,It);var Ld;function Pc(){}ht(Pc,xm);Pc.prototype.g=function(){return new XMLHttpRequest};Pc.prototype.i=function(){return{}};Ld=new Pc;function Ma(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new aa(this),this.P=yR,t=Id?125:void 0,this.V=new Cc(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new wT}function wT(){this.i=null,this.g="",this.h=!1}var yR=45e3,Dd={},xu={};ie=Ma.prototype;ie.setTimeout=function(t){this.P=t};function Md(t,e,n){t.L=1,t.v=Dc(nr(e)),t.s=n,t.S=!0,ET(t,null)}function ET(t,e){t.G=Date.now(),$a(t),t.A=nr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),IT(n.i,"t",r),t.C=0,n=t.l.I,t.h=new wT,t.g=QT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new dR(Nt(t.Pa,t,t.g),t.O)),hT(t.U,t.g,"readystatechange",t.nb),e=t.I?tT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),la(),pR(t.j,t.u,t.A,t.m,t.W,t.s)}ie.nb=function(t){t=t.target;const e=this.M;e&&Vn(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const f=Vn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>f)&&(f!=3||Id||this.g&&(this.h.h||this.g.ja()||Cy(this.g)))){this.J||f!=4||e==7||(e==8||0>=h?la(3):la(2)),Lc(this);var n=this.g.da();this.aa=n;t:if(_T(this)){var r=Cy(this.g);t="";var i=r.length,o=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),Ls(this);var s="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,mR(this.j,this.u,this.A,this.m,this.W,f,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cu(a)){var u=a;break t}}u=null}if(n=u)no(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$d(this,n);else{this.i=!1,this.o=3,Lt(12),si(this),Ls(this);break e}}this.S?(TT(this,f,s),Id&&this.i&&f==3&&(hT(this.U,this.V,"tick",this.mb),this.V.start())):(no(this.j,this.m,s,null),$d(this,s)),f==4&&si(this),this.i&&!this.J&&(f==4?HT(this.l,this):(this.i=!1,$a(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),si(this),Ls(this)}}}catch{}finally{}};function _T(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function TT(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=wR(t,n),i==xu){e==4&&(t.o=4,Lt(14),r=!1),no(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Dd){t.o=4,Lt(15),no(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else no(t.j,t.m,i,null),$d(t,i);_T(t)&&i!=xu&&i!=Dd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Lt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Um(e),e.L=!0,Lt(11))):(no(t.j,t.m,n,"[Invalid Chunked Response]"),si(t),Ls(t))}ie.mb=function(){if(this.g){var t=Vn(this.g),e=this.g.ja();this.C<e.length&&(Lc(this),TT(this,t,e),this.i&&t!=4&&$a(this))}};function wR(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?xu:(n=Number(e.substring(n,r)),isNaN(n)?Dd:(r+=1,r+n>e.length?xu:(e=e.substr(r,n),t.C=r+n,e)))}ie.cancel=function(){this.J=!0,si(this)};function $a(t){t.Y=Date.now()+t.P,ST(t,t.P)}function ST(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=La(Nt(t.lb,t),e)}function Lc(t){t.B&&(ve.clearTimeout(t.B),t.B=null)}ie.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(gR(this.j,this.A),this.L!=2&&(la(),Lt(17)),si(this),this.o=2,Ls(this)):ST(this,this.Y-t)};function Ls(t){t.l.H==0||t.J||HT(t.l,t)}function si(t){Lc(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,Cm(t.V),dT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function $d(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Fd(n.h,t))){if(!t.K&&Fd(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Lu(n),Fc(n);else break e;jm(n),Lt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=La(Nt(n.ib,n),6e3));if(1>=xT(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else ai(n,11)}else if((t.K||n.g==t)&&Lu(n),!Cu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const f=u[3];f!=null&&(n.qa=f,n.j.info("VER="+n.qa));const h=u[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const c=u[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const w=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=r.h;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Lm(o,o.h),o.h=null))}if(r.F){const v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ve(r.G,r.F,v))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=GT(r,r.I?r.oa:null,r.Y),s.K){RT(r.h,s);var a=s,l=r.K;l&&a.setTimeout(l),a.B&&(Lc(a),$a(a)),r.g=s}else VT(r);0<n.i.length&&jc(n)}else u[0]!="stop"&&u[0]!="close"||ai(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ai(n,7):Fm(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}la(4)}catch{}}function ER(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(kc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function _R(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function bT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(kc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=_R(t),r=ER(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var kT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function hi(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof hi){this.h=e!==void 0?e:t.h,Ru(this,t.j),this.s=t.s,this.g=t.g,Pu(this,t.m),this.l=t.l,e=t.i;var n=new ua;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Oy(this,n),this.o=t.o}else t&&(n=String(t).match(kT))?(this.h=!!e,Ru(this,n[1]||"",!0),this.s=Es(n[2]||""),this.g=Es(n[3]||"",!0),Pu(this,n[4]),this.l=Es(n[5]||"",!0),Oy(this,n[6]||"",!0),this.o=Es(n[7]||"")):(this.h=!!e,this.i=new ua(null,this.h))}hi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_s(e,Ny,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_s(e,Ny,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(_s(n,n.charAt(0)=="/"?kR:bR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_s(n,NR)),t.join("")};function nr(t){return new hi(t)}function Ru(t,e,n){t.j=n?Es(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Pu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Oy(t,e,n){e instanceof ua?(t.i=e,IR(t.i,t.h)):(n||(e=_s(e,OR)),t.i=new ua(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function Dc(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Es(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _s(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ny=/[#\/\?@]/g,bR=/[#\?:]/g,kR=/[#\?]/g,OR=/[#\?@]/g,NR=/#/g;function ua(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Gr(t){t.g||(t.g=new Map,t.h=0,t.i&&TR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=ua.prototype;ie.add=function(t,e){Gr(this),this.i=null,t=Bo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function OT(t,e){Gr(t),e=Bo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function NT(t,e){return Gr(t),e=Bo(t,e),t.g.has(e)}ie.forEach=function(t,e){Gr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ie.sa=function(){Gr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};ie.Z=function(t){Gr(this);let e=[];if(typeof t=="string")NT(this,t)&&(e=e.concat(this.g.get(Bo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return Gr(this),this.i=null,t=Bo(this,t),NT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function IT(t,e,n){OT(t,e),0<n.length&&(t.i=null,t.g.set(Bo(t,e),_m(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Bo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function IR(t,e){e&&!t.j&&(Gr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OT(this,r),IT(this,i,n))},t)),t.j=e}var CR=class{constructor(t,e){this.h=t,this.g=e}};function CT(t){this.l=t||AR,ve.PerformanceNavigationTiming?(t=ve.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var AR=10;function AT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function xT(t){return t.h?1:t.g?t.g.size:0}function Fd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Lm(t,e){t.g?t.g.add(e):t.h=e}function RT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}CT.prototype.cancel=function(){if(this.i=PT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function PT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return _m(t.i)}function Dm(){}Dm.prototype.stringify=function(t){return ve.JSON.stringify(t,void 0)};Dm.prototype.parse=function(t){return ve.JSON.parse(t,void 0)};function xR(){this.g=new Dm}function RR(t,e,n){const r=n||"";try{bT(t,function(i,o){let s=i;Ra(i)&&(s=Im(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function PR(t,e){const n=new Ac;if(ve.Image){const r=new Image;r.onload=wl(_l,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wl(_l,n,r,"TestLoadImage: error",!1,e),r.onabort=wl(_l,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wl(_l,n,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _l(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fa(t){this.l=t.fc||null,this.j=t.ob||!1}ht(Fa,xm);Fa.prototype.g=function(){return new Mc(this.l,this.j)};Fa.prototype.i=function(t){return function(){return t}}({});function Mc(t,e){ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ht(Mc,ft);var Mm=0;ie=Mc.prototype;ie.open=function(t,e){if(this.readyState!=Mm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ca(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=Mm};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function LT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ja(this):ca(this),this.readyState==3&&LT(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,ja(this))};ie.Ya=function(t){this.g&&(this.response=t,ja(this))};ie.ka=function(){this.g&&ja(this)};function ja(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ca(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ca(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var LR=ve.JSON.parse;function Ye(t){ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DT,this.L=this.M=!1}ht(Ye,ft);var DT="",DR=/^https?$/i,MR=["POST","PUT"];ie=Ye.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ld.g(),this.C=this.u?ky(this.u):ky(Ld),this.g.onreadystatechange=Nt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Iy(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ve.FormData&&t instanceof ve.FormData,!(0<=Y_(MR,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FT(this),0<this.B&&((this.L=$R(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.ua,this)):this.A=Am(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Iy(this,o)}};function $R(t){return ko&&eR()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof Em<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))};function Iy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,MT(t),$c(t)}function MT(t){t.F||(t.F=!0,vt(t,"complete"),vt(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vt(this,"complete"),vt(this,"abort"),$c(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$c(this,!0)),Ye.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?$T(this):this.kb())};ie.kb=function(){$T(this)};function $T(t){if(t.h&&typeof Em<"u"&&(!t.C[1]||Vn(t)!=4||t.da()!=2)){if(t.v&&Vn(t)==4)Am(t.La,0,t);else if(vt(t,"readystatechange"),Vn(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(kT)[1]||null;if(!i&&ve.self&&ve.self.location){var o=ve.self.location.protocol;i=o.substr(0,o.length-1)}r=!DR.test(i?i.toLowerCase():"")}n=r}if(n)vt(t,"complete"),vt(t,"success");else{t.m=6;try{var s=2<Vn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",MT(t)}}finally{$c(t)}}}}function $c(t,e){if(t.g){FT(t);const n=t.g,r=t.C[0]?Iu:null;t.g=null,t.C=null,e||vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function FT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ve.clearTimeout(t.A),t.A=null)}function Vn(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),LR(e)}};function Cy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case DT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function jT(t){let e="";return Sm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $m(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function fs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function UT(t){this.Ga=0,this.i=[],this.j=new Ac,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fs("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fs("baseRetryDelayMs",5e3,t),this.hb=fs("retryDelaySeedMs",1e4,t),this.eb=fs("forwardChannelMaxRetries",2,t),this.xa=fs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new CT(t&&t.concurrentRequestLimit),this.Ja=new xR,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}ie=UT.prototype;ie.qa=8;ie.H=1;function Fm(t){if(BT(t),t.H==3){var e=t.W++,n=nr(t.G);Ve(n,"SID",t.J),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Ua(t,n),e=new Ma(t,t.j,e,void 0),e.L=2,e.v=Dc(nr(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon&&(n=ve.navigator.sendBeacon(e.v.toString(),"")),!n&&ve.Image&&(new Image().src=e.v,n=!0),n||(e.g=QT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$a(e)}WT(t)}function Fc(t){t.g&&(Um(t),t.g.cancel(),t.g=null)}function BT(t){Fc(t),t.u&&(ve.clearTimeout(t.u),t.u=null),Lu(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ve.clearTimeout(t.m),t.m=null)}function jc(t){AT(t.h)||t.m||(t.m=!0,uT(t.Na,t),t.C=0)}function FR(t,e){return xT(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=La(Nt(t.Na,t,e),KT(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ma(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=tT(o),nT(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qT(this,i,e),n=nr(this.G),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),Ua(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(jT(o)))+"&"+e:this.o&&$m(n,this.o,o)),Lm(this.h,i),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),i.ba=!0,Md(i,n,null)):Md(i,n,e),this.H=2}}else this.H==3&&(t?Ay(this,t):this.i.length==0||AT(this.h)||Ay(this))};function Ay(t,e){var n;e?n=e.m:n=t.W++;const r=nr(t.G);Ve(r,"SID",t.J),Ve(r,"RID",n),Ve(r,"AID",t.V),Ua(t,r),t.o&&t.s&&$m(r,t.o,t.s),n=new Ma(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=qT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Lm(t.h,n),Md(n,r,e)}function Ua(t,e){t.ma&&Sm(t.ma,function(n,r){Ve(e,r,n)}),t.l&&bT({},function(n,r){Ve(e,r,n)})}function qT(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Nt(t.l.Va,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const f=i[l].g;if(u-=o,0>u)o=Math.max(0,i[l].h-100),a=!1;else try{RR(f,s,"req"+u+"_")}catch{r&&r(f)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function VT(t){t.g||t.u||(t.ba=1,uT(t.Ma,t),t.A=0)}function jm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=La(Nt(t.Ma,t),KT(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,zT(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=La(Nt(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Lt(10),Fc(this),zT(this))};function Um(t){t.B!=null&&(ve.clearTimeout(t.B),t.B=null)}function zT(t){t.g=new Ma(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=nr(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.J),Ve(e,"CI",t.M?"0":"1"),Ve(e,"AID",t.V),Ve(e,"TYPE","xmlhttp"),Ua(t,e),t.o&&t.s&&$m(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Dc(nr(e)),n.s=null,n.S=!0,ET(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,Fc(this),jm(this),Lt(19))};function Lu(t){t.v!=null&&(ve.clearTimeout(t.v),t.v=null)}function HT(t,e){var n=null;if(t.g==e){Lu(t),Um(t),t.g=null;var r=2}else if(Fd(t.h,e))n=e.F,RT(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=xc(),vt(r,new gT(r,n)),jc(t)}else VT(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&FR(t,e)||r==2&&jm(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ai(t,5);break;case 4:ai(t,10);break;case 3:ai(t,6);break;default:ai(t,2)}}}function KT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function ai(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Nt(t.pb,t);n||(n=new hi("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||Ru(n,"https"),Dc(n)),PR(n.toString(),r)}else Lt(2);t.H=0,t.l&&t.l.za(e),WT(t),BT(t)}ie.pb=function(t){t?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function WT(t){if(t.H=0,t.pa=[],t.l){const e=PT(t.h);(e.length!=0||t.i.length!=0)&&(wy(t.pa,e),wy(t.pa,t.i),t.h.i.length=0,_m(t.i),t.i.length=0),t.l.ya()}}function GT(t,e,n){var r=n instanceof hi?nr(n):new hi(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Pu(r,r.m);else{var i=ve.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new hi(null,void 0);r&&Ru(o,r),e&&(o.g=e),i&&Pu(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ve(r,n,e),Ve(r,"VER",t.qa),Ua(t,r),r}function QT(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ye(new Fa({ob:!0})):new Ye(t.va),e.Oa(t.I),e}function YT(){}ie=YT.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.Va=function(){};function Du(){if(ko&&!(10<=Number(tR)))throw Error("Environmental error: no available transport.")}Du.prototype.g=function(t,e){return new Xt(t,e)};function Xt(t,e){ft.call(this),this.g=new UT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qo(this)}ht(Xt,ft);Xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;Lt(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=GT(t,null,t.Y),jc(t)};Xt.prototype.close=function(){Fm(this.g)};Xt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Im(t),t=n);e.i.push(new CR(e.fb++,t)),e.H==3&&jc(e)};Xt.prototype.N=function(){this.g.l=null,delete this.j,Fm(this.g),delete this.g,Xt.$.N.call(this)};function XT(t){Rm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ht(XT,Rm);function JT(){Pm.call(this),this.status=1}ht(JT,Pm);function qo(t){this.g=t}ht(qo,YT);qo.prototype.Ba=function(){vt(this.g,"a")};qo.prototype.Aa=function(t){vt(this.g,new XT(t))};qo.prototype.za=function(t){vt(this.g,new JT)};qo.prototype.ya=function(){vt(this.g,"b")};function jR(){this.blockSize=-1}function En(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ht(En,jR);En.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ih(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}En.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)ih(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ih(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ih(this,r),i=0;break}}this.h=i,this.i+=e};En.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var UR={};function Bm(t){return-128<=t&&128>t?X_(UR,t,function(e){return new xe([e|0],0>e?-1:0)}):new xe([t|0],0>t?-1:0)}function Nn(t){if(isNaN(t)||!isFinite(t))return uo;if(0>t)return mt(Nn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jd;return new xe(e,0)}function ZT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return mt(ZT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nn(Math.pow(e,8)),r=uo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Nn(Math.pow(e,o)),r=r.R(o).add(Nn(s))):(r=r.R(n),r=r.add(Nn(s)))}return r}var jd=4294967296,uo=Bm(0),Ud=Bm(1),xy=Bm(16777216);ie=xe.prototype;ie.ea=function(){if(nn(this))return-mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jd+r)*e,e*=jd}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zn(this))return"0";if(nn(this))return"-"+mt(this).toString(t);for(var e=Nn(Math.pow(t,6)),n=this,r="";;){var i=$u(n,e).g;n=Mu(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,zn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function nn(t){return t.h==-1}ie.X=function(t){return t=Mu(this,t),nn(t)?-1:zn(t)?0:1};function mt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(Ud)}ie.abs=function(){return nn(this)?mt(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function Mu(t,e){return t.add(mt(e))}ie.R=function(t){if(zn(this)||zn(t))return uo;if(nn(this))return nn(t)?mt(this).R(mt(t)):mt(mt(this).R(t));if(nn(t))return mt(this.R(mt(t)));if(0>this.X(xy)&&0>t.X(xy))return Nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Tl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Tl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Tl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Tl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)};function Tl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hs(t,e){this.g=t,this.h=e}function $u(t,e){if(zn(e))throw Error("division by zero");if(zn(t))return new hs(uo,uo);if(nn(t))return e=$u(mt(t),e),new hs(mt(e.g),mt(e.h));if(nn(e))return e=$u(t,mt(e)),new hs(mt(e.g),e.h);if(30<t.g.length){if(nn(t)||nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ud,r=e;0>=r.X(t);)n=Ry(n),r=Ry(r);var i=ji(n,1),o=ji(r,1);for(r=ji(r,2),n=ji(n,2);!zn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ji(r,1),n=ji(n,1)}return e=Mu(t,i.R(e)),new hs(i,e)}for(i=uo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Nn(n),s=o.R(e);nn(s)||0<s.X(t);)n-=r,o=Nn(n),s=o.R(e);zn(o)&&(o=Ud),i=i.add(o),t=Mu(t,s)}return new hs(i,t)}ie.gb=function(t){return $u(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)};function Ry(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function ji(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new xe(i,t.h)}Du.prototype.createWebChannel=Du.prototype.g;Xt.prototype.send=Xt.prototype.u;Xt.prototype.open=Xt.prototype.m;Xt.prototype.close=Xt.prototype.close;Rc.NO_ERROR=0;Rc.TIMEOUT=8;Rc.HTTP_ERROR=6;vT.COMPLETE="complete";yT.EventType=Da;Da.OPEN="a";Da.CLOSE="b";Da.ERROR="c";Da.MESSAGE="d";ft.prototype.listen=ft.prototype.O;Ye.prototype.listenOnce=Ye.prototype.P;Ye.prototype.getLastError=Ye.prototype.Sa;Ye.prototype.getLastErrorCode=Ye.prototype.Ia;Ye.prototype.getStatus=Ye.prototype.da;Ye.prototype.getResponseJson=Ye.prototype.Wa;Ye.prototype.getResponseText=Ye.prototype.ja;Ye.prototype.send=Ye.prototype.ha;Ye.prototype.setWithCredentials=Ye.prototype.Oa;En.prototype.digest=En.prototype.l;En.prototype.reset=En.prototype.reset;En.prototype.update=En.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=Nn;xe.fromString=ZT;var BR=function(){return new Du},qR=function(){return xc()},oh=Rc,VR=vT,zR=Ri,Py={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},HR=Fa,Sl=yT,KR=Ye,WR=En,co=xe;const Ly="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new vm("@firebase/firestore");function Dy(){return Si.logLevel}function fe(t,...e){if(Si.logLevel<=Ie.DEBUG){const n=e.map(qm);Si.debug(`Firestore (${Vo}): ${t}`,...n)}}function rr(t,...e){if(Si.logLevel<=Ie.ERROR){const n=e.map(qm);Si.error(`Firestore (${Vo}): ${t}`,...n)}}function Oo(t,...e){if(Si.logLevel<=Ie.WARN){const n=e.map(qm);Si.warn(`Firestore (${Vo}): ${t}`,...n)}}function qm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw rr(e),new Error(e)}function Ue(t,e){t||pe()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class QR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YR{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new eS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Tt(e)}}class XR{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class JR{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new XR(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eP{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.T=n.token,new ZR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tP(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function No(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new st(0,0))}static max(){return new we(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends fa{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const nP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends fa{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return nP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Fe.fromString(e))}static fromName(e){return new he(Fe.fromString(e).popFirst(5))}static empty(){return new he(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Fe(e.slice()))}}function rP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Br(i,he.empty(),e)}function iP(t){return new Br(t.readTime,t.key,-1)}class Br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Br(we.min(),he.empty(),-1)}static max(){return new Br(we.max(),he.empty(),-1)}}function oP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==sP)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(f=>{s[u]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Vm.ct=-1;function Uc(t){return t==null}function Fu(t){return t===0&&1/t==-1/0}function lP(t){return typeof t=="number"&&Number.isInteger(t)&&!Fu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}}class bl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=o??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $y(this.data.getIterator())}getIteratorFrom(e){return new $y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class $y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new gn([])}unionWith(e){let n=new Ct(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rS("Invalid base64 string: "+i):i}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const uP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=uP.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bi(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hm(t){const e=t.mapValue.fields.__previous_value__;return zm(e)?Hm(e):e}function ha(t){const e=qr(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,r,i,o,s,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class da{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new da("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof da&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zm(t)?4:fP(t)?9007199254740991:10:pe()}function Ln(t,e){if(t===e)return!0;const n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ha(t).isEqual(ha(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=qr(r.timestampValue),s=qr(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return bi(r.bytesValue).isEqual(bi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return et(r.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return et(r.integerValue)===et(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=et(r.doubleValue),s=et(i.doubleValue);return o===s?Fu(o)===Fu(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return No(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(My(o)!==My(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Ln(o[a],s[a])))return!1;return!0}(t,e);default:return pe()}}function pa(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=ki(t),r=ki(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=et(i.integerValue||i.doubleValue),a=et(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return Fy(t.timestampValue,e.timestampValue);case 4:return Fy(ha(t),ha(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(i,o){const s=bi(i),a=bi(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=Ce(s[l],a[l]);if(u!==0)return u}return Ce(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Ce(et(i.latitude),et(o.latitude));return s!==0?s:Ce(et(i.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=Io(s[l],a[l]);if(u)return u}return Ce(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===kl.mapValue&&o===kl.mapValue)return 0;if(i===kl.mapValue)return 1;if(o===kl.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let f=0;f<a.length&&f<u.length;++f){const h=Ce(a[f],u[f]);if(h!==0)return h;const c=Io(s[a[f]],l[u[f]]);if(c!==0)return c}return Ce(a.length,u.length)}(t.mapValue,e.mapValue);default:throw pe()}}function Fy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=qr(t),r=qr(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function Co(t){return Bd(t)}function Bd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=qr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,he.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=Bd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${Bd(r.fields[a])}`;return o+"}"}(t.mapValue):pe();var e,n}function jy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qd(t){return!!t&&"integerValue"in t}function Km(t){return!!t&&"arrayValue"in t}function Uy(t){return!!t&&"nullValue"in t}function By(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ql(t){return!!t&&"mapValue"in t}function Ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ds(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ds(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ds(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ds(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new rn(Ds(this.value))}}function iS(t){const e=[];return zo(t.fields,(n,r)=>{const i=new Ot([n]);if(ql(r)){const o=iS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,we.min(),we.min(),we.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new bt(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new bt(e,2,n,we.min(),we.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,we.min(),we.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.position=e,this.inclusive=n}}function qy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=Io(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n="asc"){this.field=e,this.dir=n}}function hP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{}class nt extends oS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pP(e,n,r):n==="array-contains"?new vP(e,r):n==="in"?new yP(e,r):n==="not-in"?new wP(e,r):n==="array-contains-any"?new EP(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mP(e,r):new gP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Io(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends oS{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new _n(e,n)}matches(e){return sS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function sS(t){return t.op==="and"}function aS(t){return dP(t)&&sS(t)}function dP(t){for(const e of t.filters)if(e instanceof _n)return!1;return!0}function Vd(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(aS(t))return t.filters.map(e=>Vd(e)).join(",");{const e=t.filters.map(n=>Vd(n)).join(",");return`${t.op}(${e})`}}function lS(t,e){return t instanceof nt?function(n,r){return r instanceof nt&&n.op===r.op&&n.field.isEqual(r.field)&&Ln(n.value,r.value)}(t,e):t instanceof _n?function(n,r){return r instanceof _n&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&lS(o,r.filters[s]),!0):!1}(t,e):void pe()}function uS(t){return t instanceof nt?function(e){return`${e.field.canonicalString()} ${e.op} ${Co(e.value)}`}(t):t instanceof _n?function(e){return e.op.toString()+" {"+e.getFilters().map(uS).join(" ,")+"}"}(t):"Filter"}class pP extends nt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class mP extends nt{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gP extends nt{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class vP extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&pa(n.arrayValue,this.value)}}class yP extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pa(this.value.arrayValue,n)}}class wP extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pa(this.value.arrayValue,n)}}class EP extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function zy(t,e=null,n=[],r=[],i=null,o=null,s=null){return new _P(t,e,n,r,i,o,s)}function Wm(t){const e=_e(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Uc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.ft=n}return e.ft}function Gm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vy(t.startAt,e.startAt)&&Vy(t.endAt,e.endAt)}function zd(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function TP(t,e,n,r,i,o,s,a){return new Ho(t,e,n,r,i,o,s,a)}function Qm(t){return new Ho(t)}function Hy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ym(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Bc(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function fS(t){return t.collectionGroup!==null}function ho(t){const e=_e(t);if(e.dt===null){e.dt=[];const n=Bc(e),r=Ym(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new fo(n)),e.dt.push(new fo(Ot.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new fo(Ot.keyField(),o))}}}return e.dt}function ir(t){const e=_e(t);if(!e._t)if(e.limitType==="F")e._t=zy(e.path,e.collectionGroup,ho(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ho(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new fo(o.field,s))}const r=e.endAt?new ju(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ju(e.startAt.position,e.startAt.inclusive):null;e._t=zy(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Hd(t,e){e.getFirstInequalityField(),Bc(t);const n=t.filters.concat([e]);return new Ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uu(t,e,n){return new Ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qc(t,e){return Gm(ir(t),ir(e))&&t.limitType===e.limitType}function hS(t){return`${Wm(ir(t))}|lt:${t.limitType}`}function Kd(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>uS(r)).join(", ")}]`),Uc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),`Target(${n})`}(ir(t))}; limitType=${t.limitType})`}function Vc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):he.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ho(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=qy(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,ho(n),r)||n.endAt&&!function(i,o,s){const a=qy(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,ho(n),r))}(t,e)}function SP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dS(t){return(e,n)=>{let r=!1;for(const i of ho(t)){const o=bP(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bP(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?Io(a,l):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new Ge(he.comparator);function or(){return kP}const pS=new Ge(he.comparator);function Ts(...t){let e=pS;for(const n of t)e=e.insert(n.key,n);return e}function mS(t){let e=pS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function li(){return Ms()}function gS(){return Ms()}function Ms(){return new Ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const OP=new Ge(he.comparator),NP=new Ct(he.comparator);function be(...t){let e=NP;for(const n of t)e=e.add(n);return e}const IP=new Ct(Ce);function CP(){return IP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function yS(t){return{integerValue:""+t}}function AP(t,e){return lP(e)?yS(e):vS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this._=void 0}}function xP(t,e,n){return t instanceof Bu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&zm(i)&&(i=Hm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ma?ES(t,e):t instanceof ga?_S(t,e):function(r,i){const o=wS(r,i),s=Ky(o)+Ky(r.wt);return qd(o)&&qd(r.wt)?yS(s):vS(r.serializer,s)}(t,e)}function RP(t,e,n){return t instanceof ma?ES(t,e):t instanceof ga?_S(t,e):n}function wS(t,e){return t instanceof qu?qd(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Bu extends zc{}class ma extends zc{constructor(e){super(),this.elements=e}}function ES(t,e){const n=TS(e);for(const r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}class ga extends zc{constructor(e){super(),this.elements=e}}function _S(t,e){let n=TS(e);for(const r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}class qu extends zc{constructor(e,n){super(),this.serializer=e,this.wt=n}}function Ky(t){return et(t.integerValue||t.doubleValue)}function TS(t){return Km(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function PP(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ma&&r instanceof ma||n instanceof ga&&r instanceof ga?No(n.elements,r.elements,Ln):n instanceof qu&&r instanceof qu?Ln(n.wt,r.wt):n instanceof Bu&&r instanceof Bu}(t.transform,e.transform)}class LP{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hc{}function SS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xm(t.key,An.none()):new Va(t.key,t.data,An.none());{const n=t.data,r=rn.empty();let i=new Ct(Ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Pi(t.key,r,new gn(i.toArray()),An.none())}}function DP(t,e,n){t instanceof Va?function(r,i,o){const s=r.value.clone(),a=Gy(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(r,i,o){if(!Vl(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=Gy(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(bS(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $s(t,e,n,r){return t instanceof Va?function(i,o,s,a){if(!Vl(i.precondition,o))return s;const l=i.value.clone(),u=Qy(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(i,o,s,a){if(!Vl(i.precondition,o))return s;const l=Qy(i.fieldTransforms,a,o),u=o.data;return u.setAll(bS(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,s){return Vl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function MP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=wS(r.transform,i||null);o!=null&&(n===null&&(n=rn.empty()),n.set(r.field,o))}return n||null}function Wy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&No(n,r,(i,o)=>PP(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Va extends Hc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pi extends Hc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gy(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,RP(s,a,n[i]))}return r}function Qy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,xP(o,s,e))}return r}class Xm extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $P extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&DP(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$s(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$s(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=SS(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,r)=>Wy(n,r))&&No(this.baseMutations,e.baseMutations,(n,r)=>Wy(n,r))}}class Jm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=OP;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Jm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,Oe;function BP(t){switch(t){default:return pe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function kS(t){if(t===void 0)return rr("GRPC error has no .code"),X.UNKNOWN;switch(t){case Ze.OK:return X.OK;case Ze.CANCELLED:return X.CANCELLED;case Ze.UNKNOWN:return X.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return X.INTERNAL;case Ze.UNAVAILABLE:return X.UNAVAILABLE;case Ze.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ze.NOT_FOUND:return X.NOT_FOUND;case Ze.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ze.ABORTED:return X.ABORTED;case Ze.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ze.DATA_LOSS:return X.DATA_LOSS;default:return pe()}}(Oe=Ze||(Ze={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ol}static getOrCreateInstance(){return Ol===null&&(Ol=new Zm),Ol}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ol=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new co([4294967295,4294967295],0);function Yy(t){const e=qP().encode(t),n=new WR;return n.update(e),new Uint8Array(n.digest())}function Xy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new co([n,r],0),new co([i,o],0)]}class eg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ss(`Invalid padding: ${n}`);if(r<0)throw new Ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ss(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ss(`Invalid padding when bitmap length is 0: ${n}`);this.yt=8*e.length-n,this.It=co.fromNumber(this.yt)}Tt(e,n,r){let i=e.add(n.multiply(co.fromNumber(r)));return i.compare(VP)===1&&(i=new co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}At(e){if(this.yt===0)return!1;const n=Yy(e),[r,i]=Xy(n);for(let o=0;o<this.hashCount;o++){const s=this.Tt(r,i,o);if(!this.Et(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new eg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.yt===0)return;const n=Yy(e),[r,i]=Xy(n);for(let o=0;o<this.hashCount;o++){const s=this.Tt(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ss extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,za.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kc(we.min(),i,new Ge(Ce),or(),be())}}class za{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new za(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,i){this.vt=e,this.removedTargetIds=n,this.key=r,this.Pt=i}}class OS{constructor(e,n){this.targetId=e,this.bt=n}}class NS{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jy{constructor(){this.Vt=0,this.St=e0(),this.Dt=Rt.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return this.Vt!==0}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=be(),n=be(),r=be();return this.St.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new za(this.Dt,this.Ct,e,n,r)}$t(){this.xt=!1,this.St=e0()}Ft(e,n){this.xt=!0,this.St=this.St.insert(e,n)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class zP{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=or(),this.jt=Zy(),this.zt=new Ge(Ce)}Wt(e){for(const n of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(n,e.Pt):this.Jt(n,e.key,e.Pt);for(const n of e.removedTargetIds)this.Jt(n,e.key,e.Pt)}Yt(e){this.forEachTarget(e,n=>{const r=this.Xt(n);switch(e.state){case 0:this.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(n);break;case 3:this.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(n)&&(this.te(n),r.Mt(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Gt.forEach((r,i)=>{this.Zt(i)&&n(i)})}ee(e){var n;const r=e.targetId,i=e.bt.count,o=this.ne(r);if(o){const s=o.target;if(zd(s))if(i===0){const a=new he(s.path);this.Jt(r,a,bt.newNoDocument(a,we.min()))}else Ue(i===1);else{const a=this.se(r);if(a!==i){const l=this.ie(e,a);if(l!==0){this.te(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(r,u)}(n=Zm.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,f,h){var c,d,w,v,E,m;const p={localCacheCount:f,existenceFilterCount:h.count},y=h.unchangedNames;return y&&(p.bloomFilter={applied:u===0,hashCount:(c=y==null?void 0:y.hashCount)!==null&&c!==void 0?c:0,bitmapLength:(v=(w=(d=y==null?void 0:y.bits)===null||d===void 0?void 0:d.bitmap)===null||w===void 0?void 0:w.length)!==null&&v!==void 0?v:0,padding:(m=(E=y==null?void 0:y.bits)===null||E===void 0?void 0:E.padding)!==null&&m!==void 0?m:0}),p}(l,a,e.bt))}}}}ie(e,n){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=bi(o).toUint8Array()}catch(f){if(f instanceof rS)return Oo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw f}try{u=new eg(l,s,a)}catch(f){return Oo(f instanceof Ss?"BloomFilter error: ":"Applying bloom filter failed: ",f),1}return u.yt===0?1:i!==n-this.re(e.targetId,u)?2:0}re(e,n){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Kt.oe(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.At(a)||(this.Jt(e,o,null),i++)}),i}ue(e){const n=new Map;this.Gt.forEach((o,s)=>{const a=this.ne(s);if(a){if(o.current&&zd(a.target)){const l=new he(a.target.path);this.Qt.get(l)!==null||this.ce(s,l)||this.Jt(s,l,bt.newNoDocument(l,e))}o.kt&&(n.set(s,o.Ot()),o.$t())}});let r=be();this.jt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ne(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qt.forEach((o,s)=>s.setReadTime(e));const i=new Kc(e,n,this.zt,this.Qt,r);return this.Qt=or(),this.jt=Zy(),this.zt=new Ge(Ce),i}Ht(e,n){if(!this.Zt(e))return;const r=this.ce(e,n.key)?2:0;this.Xt(e).Ft(n.key,r),this.Qt=this.Qt.insert(n.key,n),this.jt=this.jt.insert(n.key,this.ae(n.key).add(e))}Jt(e,n,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,n)?i.Ft(n,1):i.Bt(n),this.jt=this.jt.insert(n,this.ae(n).delete(e)),r&&(this.Qt=this.Qt.insert(n,r))}removeTarget(e){this.Gt.delete(e)}se(e){const n=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let n=this.Gt.get(e);return n||(n=new Jy,this.Gt.set(e,n)),n}ae(e){let n=this.jt.get(e);return n||(n=new Ct(Ce),this.jt=this.jt.insert(e,n)),n}Zt(e){const n=this.ne(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ne(e){const n=this.Gt.get(e);return n&&n.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Jy),this.Kt.getRemoteKeysForTarget(e).forEach(n=>{this.Jt(e,n,null)})}ce(e,n){return this.Kt.getRemoteKeysForTarget(e).has(n)}}function Zy(){return new Ge(he.comparator)}function e0(){return new Ge(he.comparator)}const HP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),KP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),WP=(()=>({and:"AND",or:"OR"}))();class GP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wd(t,e){return t.useProto3Json||Uc(e)?e:{value:e}}function Vu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QP(t,e){return Vu(t,e.toTimestamp())}function xn(t){return Ue(!!t),we.fromTimestamp(function(e){const n=qr(e);return new st(n.seconds,n.nanos)}(t))}function tg(t,e){return function(n){return new Fe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function CS(t){const e=Fe.fromString(t);return Ue(PS(e)),e}function Gd(t,e){return tg(t.databaseId,e.path)}function sh(t,e){const n=CS(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(AS(n))}function Qd(t,e){return tg(t.databaseId,e)}function YP(t){const e=CS(t);return e.length===4?Fe.emptyPath():AS(e)}function Yd(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AS(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t0(t,e,n){return{name:Gd(t,e),fields:n.value.mapValue.fields}}function XP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Ue(u===void 0||typeof u=="string"),Rt.fromBase64String(u||"")):(Ue(u===void 0||u instanceof Uint8Array),Rt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?X.UNKNOWN:kS(l.code);return new ae(u,l.message||"")}(s);n=new NS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sh(t,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):we.min(),a=new rn({mapValue:{fields:r.document.fields}}),l=bt.newFoundDocument(i,o,s,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new zl(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sh(t,r.document),o=r.readTime?xn(r.readTime):we.min(),s=bt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new zl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sh(t,r.document),o=r.removedTargetIds||[];n=new zl([],o,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new UP(i,o),a=r.targetId;n=new OS(a,s)}}return n}function JP(t,e){let n;if(e instanceof Va)n={update:t0(t,e.key,e.value)};else if(e instanceof Xm)n={delete:Gd(t,e.key)};else if(e instanceof Pi)n={update:t0(t,e.key,e.data),updateMask:aL(e.fieldMask)};else{if(!(e instanceof $P))return pe();n={verify:Gd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Bu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof ma)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ga)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof qu)return{fieldPath:o.field.canonicalString(),increment:s.wt};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:QP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:pe()}(t,e.precondition)),n}function ZP(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?xn(r.updateTime):xn(i);return o.isEqual(we.min())&&(o=xn(i)),new LP(o,r.transformResults||[])}(n,e))):[]}function eL(t,e){return{documents:[Qd(t,e.path)]}}function tL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Qd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return RS(_n.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Ui(f.field),direction:iL(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Wd(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function nL(t){let e=YP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(f){const h=xS(f);return h instanceof _n&&aS(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>function(h){return new fo(Bi(h.field),function(c){switch(c){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Uc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,c=f.values||[];return new ju(c,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,c=f.values||[];return new ju(c,h)}(n.endAt)),TP(e,i,s,o,a,"F",l,u)}function rL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xS(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Bi(e.unaryFilter.field);return nt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Bi(e.unaryFilter.field);return nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bi(e.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bi(e.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(e){return nt.create(Bi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return _n.create(e.compositeFilter.filters.map(n=>xS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return pe()}}(e.compositeFilter.op))}(t):pe()}function iL(t){return HP[t]}function oL(t){return KP[t]}function sL(t){return WP[t]}function Ui(t){return{fieldPath:t.canonicalString()}}function Bi(t){return Ot.fromServerFormat(t.fieldPath)}function RS(t){return t instanceof nt?function(e){if(e.op==="=="){if(By(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NAN"}};if(Uy(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(By(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NOT_NAN"}};if(Uy(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(e.field),op:oL(e.op),value:e.value}}}(t):t instanceof _n?function(e){const n=e.getFilters().map(r=>RS(r));return n.length===1?n[0]:{compositeFilter:{op:sL(e.op),filters:n}}}(t):pe()}function aL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,i,o=we.min(),s=we.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.le=e}}function uL(t){const e=nL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.sn=new fL}addToCollectionParentIndex(e,n){return this.sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Br.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class fL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ao(0)}static kn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this.changes=new Ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$s(r.mutation,i,gn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ts();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=or();const s=Ms(),a=Ms();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Pi)?o=o.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),$s(f.mutation,u,f.mutation.getFieldMask(),st.now())):s.set(u.key,gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,f)=>s.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new dL(f,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ms();let i=new Ge((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||gn.empty();f=a.applyToLocalView(u,f),r.set(l,f);const h=(i.get(a.batchId)||be()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,h=gS();f.forEach(c=>{if(!o.has(c)){const d=SS(n.get(c),r.get(c));d!==null&&h.set(c,d),o=o.add(c)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(li());let a=-1,l=o;return s.next(u=>ee.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?ee.resolve():this.remoteDocumentCache.getEntry(e,f).next(c=>{l=l.insert(f,c)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,be())).next(f=>({batchId:a,changes:mS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Ts();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Ts();return this.indexManager.getCollectionParents(e,i).next(s=>ee.forEach(s,a=>{const l=function(u,f){return new Ho(f,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,bt.newInvalidDocument(u)))});let s=Ts();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&$s(u.mutation,l,gn.empty(),st.now()),Vc(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,n){return ee.resolve(this.us.get(n))}saveBundleMetadata(e,n){var r;return this.us.set(n.id,{id:(r=n).id,version:r.version,createTime:xn(r.createTime)}),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.cs.get(n))}saveNamedQuery(e,n){return this.cs.set(n.name,function(r){return{name:r.name,query:uL(r.bundledQuery),readTime:xn(r.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.overlays=new Ge(he.comparator),this.hs=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=li();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.de(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hs.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=li(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ge((u,f)=>u-f);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=li(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=li(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return ee.resolve(a)}de(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jP(n,r));let o=this.hs.get(n);o===void 0&&(o=be(),this.hs.set(n,o)),this.hs.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.ls=new Ct(lt.fs),this.ds=new Ct(lt._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,n){const r=new lt(e,n);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gs(new lt(e,n))}ys(e,n){e.forEach(r=>this.removeReference(r,n))}ps(e){const n=new he(new Fe([])),r=new lt(n,e),i=new lt(n,e+1),o=[];return this.ds.forEachInRange([r,i],s=>{this.gs(s),o.push(s.key)}),o}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const n=new he(new Fe([])),r=new lt(n,e),i=new lt(n,e+1);let o=be();return this.ds.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new lt(e,0),r=this.ls.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.Es=n}static fs(e,n){return he.comparator(e.key,n.key)||Ce(e.Es,n.Es)}static _s(e,n){return Ce(e.Es,n.Es)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new Ct(lt.fs)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new FP(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(e,n){return ee.resolve(this.vs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ps(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.vs(s.Es);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Ce);return n.forEach(i=>{const o=new lt(i,0),s=new lt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.Es)})}),ee.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new lt(new he(o),0);let a=new Ct(Ce);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Es)),!0)},s),ee.resolve(this.bs(a))}bs(e){const n=[];return e.forEach(r=>{const i=this.vs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Vs(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(n.mutations,i=>{const o=new lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,n){const r=new lt(n,0),i=this.Rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Vs(e,n){return this.Ps(e)}Ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}vs(e){const n=this.Ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.Ss=e,this.docs=new Ge(he.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ss(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bt.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=or();const s=n.path,a=new he(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||oP(iP(f),r)<=0||(i.has(f.key)||Vc(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){pe()}Ds(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wL(this)}getSize(e){return ee.resolve(this.size)}}class wL extends hL{constructor(e){super(),this.rs=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.rs.getEntry(e,n)}getAllFromCache(e,n){return this.rs.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.persistence=e,this.Cs=new Ko(n=>Wm(n),Gm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.xs=0,this.Ns=new ng,this.targetCount=0,this.ks=Ao.Nn()}forEachTarget(e,n){return this.Cs.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.xs&&(this.xs=n),ee.resolve()}$n(e){this.Cs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ks=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,n){return this.$n(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.$n(n),ee.resolve()}removeTargetData(e,n){return this.Cs.delete(n.target),this.Ns.ps(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Cs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cs.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Ns.ws(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Ns.ys(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ns.ps(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ns.Ts(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Ns.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.Ms={},this.overlays={},this.Os=new Vm(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new EL(this),this.indexManager=new cL,this.remoteDocumentCache=function(r){return new yL(r)}(r=>this.referenceDelegate.Bs(r)),this.serializer=new lL(n),this.Ls=new mL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ms[e.toKey()];return r||(r=new vL(n,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new TL(this.Os.next());return this.referenceDelegate.qs(),r(i).next(o=>this.referenceDelegate.Us(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ks(e,n){return ee.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,n)))}}class TL extends aP{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Gs=new ng,this.Qs=null}static js(e){return new rg(e)}get zs(){if(this.Qs)return this.Qs;throw pe()}addReference(e,n,r){return this.Gs.addReference(r,n),this.zs.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Gs.removeReference(r,n),this.zs.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.zs.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Gs.ps(n.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.zs.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}qs(){this.Qs=new Set}Us(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.zs,r=>{const i=he.fromPath(r);return this.Ws(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.Qs=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ws(e,n).next(r=>{r?this.zs.delete(n.toString()):this.zs.add(n.toString())})}Bs(e){return 0}Ws(e,n){return ee.or([()=>ee.resolve(this.Gs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ks(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Fi=i}static Bi(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ig(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.Li=!1}initialize(e,n){this.qi=e,this.indexManager=n,this.Li=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ui(e,n).next(o=>o||this.Ki(e,n,i,r)).next(o=>o||this.Gi(e,n))}Ui(e,n){if(Hy(n))return ee.resolve(null);let r=ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Uu(n,null,"F"),r=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.qi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Qi(n,a);return this.ji(n,u,s,l.readTime)?this.Ui(e,Uu(n,null,"F")):this.zi(e,u,n,l)}))})))}Ki(e,n,r,i){return Hy(n)||i.isEqual(we.min())?this.Gi(e,n):this.qi.getDocuments(e,r).next(o=>{const s=this.Qi(n,o);return this.ji(n,s,r,i)?this.Gi(e,n):(Dy()<=Ie.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kd(n)),this.zi(e,s,n,rP(i,-1)))})}Qi(e,n){let r=new Ct(dS(e));return n.forEach((i,o)=>{Vc(e,o)&&(r=r.add(o))}),r}ji(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Gi(e,n){return Dy()<=Ie.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Kd(n)),this.qi.getDocumentsMatchingQuery(e,n,Br.min())}zi(e,n,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r,i){this.persistence=e,this.Wi=n,this.serializer=i,this.Hi=new Ge(Ce),this.Ji=new Ko(o=>Wm(o),Gm),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pL(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Hi))}}function kL(t,e,n,r){return new bL(t,e,n,r)}async function LS(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Zi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=be();for(const u of i){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of o){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({tr:u,removedBatchIds:s,addedBatchIds:a}))})})}function OL(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const f=l.batch,h=f.keys();let c=ee.resolve();return h.forEach(d=>{c=c.next(()=>u.getEntry(a,d)).next(w=>{const v=l.docVersions.get(d);Ue(v!==null),w.version.compareTo(v)<0&&(f.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),c.next(()=>s.mutationQueue.removeMutationBatch(a,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=be();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DS(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Fs.getLastRemoteSnapshotVersion(n))}function NL(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;const a=[];e.targetChanges.forEach((f,h)=>{const c=i.get(h);if(!c)return;a.push(n.Fs.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Fs.addMatchingKeys(o,f.addedDocuments,h)));let d=c.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(Rt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):f.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(f.resumeToken,r)),i=i.insert(h,d),function(w,v,E){return w.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(c,d,f)&&a.push(n.Fs.updateTargetData(o,d))});let l=or(),u=be();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(IL(o,s,e.documentUpdates).next(f=>{l=f.er,u=f.nr})),!r.isEqual(we.min())){const f=n.Fs.getLastRemoteSnapshotVersion(o).next(h=>n.Fs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Hi=i,o))}function IL(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=or();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{er:s,nr:i}})}function CL(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AL(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Fs.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Fs.allocateTargetId(r).next(s=>(i=new kr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Hi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(r.targetId,r),n.Ji.set(e,r.targetId)),r})}async function Xd(t,e,n){const r=_e(t),i=r.Hi.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!qa(s))throw s;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}function n0(t,e,n){const r=_e(t);let i=we.min(),o=be();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const f=_e(a),h=f.Ji.get(u);return h!==void 0?ee.resolve(f.Hi.get(h)):f.Fs.getTargetData(l,u)}(r,s,ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Wi.getDocumentsMatchingQuery(s,e,n?i:we.min(),n?o:be())).next(a=>(xL(r,SP(e),a),{documents:a,sr:o})))}function xL(t,e,n){let r=t.Yi.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Yi.set(e,r)}class r0{constructor(){this.activeTargetIds=CP()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RL{constructor(){this.Wr=new r0,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,n,r){this.Hr[e]=n}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new r0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{Jr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl=null;function ah(){return Nl===null?Nl=268435456+Math.round(2147483648*Math.random()):Nl++,"0x"+Nl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class ML extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.wo=n+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,n,r,i,o){const s=ah(),a=this.Io(e,n);fe("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.To(l,i,o),this.Eo(e,a,l,r).then(u=>(fe("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Oo("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}Ao(e,n,r,i,o,s){return this.po(e,n,r,i,o)}To(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Io(e,n){const r=LL[e];return`${this.wo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,n,r,i){const o=ah();return new Promise((s,a)=>{const l=new KR;l.setWithCredentials(!0),l.listenOnce(VR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case oh.NO_ERROR:const f=l.getResponseJson();fe(_t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case oh.TIMEOUT:fe(_t,`RPC '${e}' ${o} timed out`),a(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const h=l.getStatus();if(fe(_t,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let c=l.getResponseJson();Array.isArray(c)&&(c=c[0]);const d=c==null?void 0:c.error;if(d&&d.status&&d.message){const w=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(E)>=0?E:X.UNKNOWN}(d.status);a(new ae(w,d.message))}else a(new ae(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(X.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{fe(_t,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);fe(_t,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=ah(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=BR(),a=qR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new HR({})),this.To(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");fe(_t,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,c=!1;const d=new DL({io:v=>{c?fe(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(fe(_t,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),fe(_t,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},ro:()=>f.close()}),w=(v,E,m)=>{v.listen(E,p=>{try{m(p)}catch(y){setTimeout(()=>{throw y},0)}})};return w(f,Sl.EventType.OPEN,()=>{c||fe(_t,`RPC '${e}' stream ${i} transport opened.`)}),w(f,Sl.EventType.CLOSE,()=>{c||(c=!0,fe(_t,`RPC '${e}' stream ${i} transport closed`),d.fo())}),w(f,Sl.EventType.ERROR,v=>{c||(c=!0,Oo(_t,`RPC '${e}' stream ${i} transport errored:`,v),d.fo(new ae(X.UNAVAILABLE,"The operation could not be completed")))}),w(f,Sl.EventType.MESSAGE,v=>{var E;if(!c){const m=v.data[0];Ue(!!m);const p=m,y=p.error||((E=p[0])===null||E===void 0?void 0:E.error);if(y){fe(_t,`RPC '${e}' stream ${i} received error:`,y);const g=y.status;let _=function(T){const k=Ze[T];if(k!==void 0)return kS(k)}(g),b=y.message;_===void 0&&(_=X.INTERNAL,b="Unknown error status: "+g+" with message "+y.message),c=!0,d.fo(new ae(_,b)),f.close()}else fe(_t,`RPC '${e}' stream ${i} received:`,m),d._o(m)}}),w(a,zR.STAT_EVENT,v=>{v.stat===Py.PROXY?fe(_t,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Py.NOPROXY&&fe(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.lo()},0),d}}function lh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){return new GP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.vo=r,this.Po=i,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Mo=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new MS(e,n)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,n){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,e!==4?this.Lo.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===n&&this.Xo(r,i)},r=>{e(()=>{const i=new ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,n){const r=this.Yo(this.$o);this.stream=this.tu(e,n),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return n=>{this.si.enqueueAndForget(()=>this.$o===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $L extends $S{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}tu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.Lo.reset();const n=XP(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?xn(o.readTime):we.min()}(e);return this.listener.eu(n,r)}nu(e){const n={};n.database=Yd(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=zd(a)?{documents:eL(i,a)}:{query:tL(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=IS(i,o.resumeToken);const l=Wd(i,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(we.min())>0){s.readTime=Vu(i,o.snapshotVersion.toTimestamp());const l=Wd(i,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=rL(this.serializer,e);r&&(n.labels=r),this.zo(n)}su(e){const n={};n.database=Yd(this.serializer),n.removeTarget=e,this.zo(n)}}class FL extends $S{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const n=ZP(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.uu(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Yd(this.serializer),this.zo(e)}ou(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JP(this.serializer,r))};this.zo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.po(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(X.UNKNOWN,i.toString())})}Ao(e,n,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Ao(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(X.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class UL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,e==="Online"&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(rr(n),this.wu=!1):fe("OnlineStateTracker",n)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(s=>{r.enqueueAndForget(async()=>{Li(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=_e(a);l.Au.add(4),await Ha(l),l.Pu.set("Unknown"),l.Au.delete(4),await Gc(l)}(this))})}),this.Pu=new UL(r,i)}}async function Gc(t){if(Li(t))for(const e of t.Ru)await e(!0)}async function Ha(t){for(const e of t.Ru)await e(!1)}function FS(t,e){const n=_e(t);n.Eu.has(e.targetId)||(n.Eu.set(e.targetId,e),ag(n)?sg(n):Wo(n).Uo()&&og(n,e))}function jS(t,e){const n=_e(t),r=Wo(n);n.Eu.delete(e),r.Uo()&&US(n,e),n.Eu.size===0&&(r.Uo()?r.Qo():Li(n)&&n.Pu.set("Unknown"))}function og(t,e){if(t.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(t).nu(e)}function US(t,e){t.bu.Lt(e),Wo(t).su(e)}function sg(t){t.bu=new zP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),he:e=>t.Eu.get(e)||null,oe:()=>t.datastore.serializer.databaseId}),Wo(t).start(),t.Pu.mu()}function ag(t){return Li(t)&&!Wo(t).qo()&&t.Eu.size>0}function Li(t){return _e(t).Au.size===0}function BS(t){t.bu=void 0}async function qL(t){t.Eu.forEach((e,n)=>{og(t,e)})}async function VL(t,e){BS(t),ag(t)?(t.Pu.pu(e),sg(t)):t.Pu.set("Unknown")}async function zL(t,e,n){if(t.Pu.set("Online"),e instanceof NS&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Eu.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Eu.delete(s),r.bu.removeTarget(s))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zu(t,r)}else if(e instanceof zl?t.bu.Wt(e):e instanceof OS?t.bu.ee(e):t.bu.Yt(e),!n.isEqual(we.min()))try{const r=await DS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.bu.ue(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Eu.get(l);u&&i.Eu.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const u=i.Eu.get(a);if(!u)return;i.Eu.set(a,u.withResumeToken(Rt.EMPTY_BYTE_STRING,u.snapshotVersion)),US(i,a);const f=new kr(u.target,a,l,u.sequenceNumber);og(i,f)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await zu(t,r)}}async function zu(t,e,n){if(!qa(e))throw e;t.Au.add(1),await Ha(t),t.Pu.set("Offline"),n||(n=()=>DS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.Au.delete(1),await Gc(t)})}function qS(t,e){return e().catch(n=>zu(t,n,e))}async function Qc(t){const e=_e(t),n=Vr(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;HL(e);)try{const i=await CL(e.localStore,r);if(i===null){e.Tu.length===0&&n.Qo();break}r=i.batchId,KL(e,i)}catch(i){await zu(e,i)}VS(e)&&zS(e)}function HL(t){return Li(t)&&t.Tu.length<10}function KL(t,e){t.Tu.push(e);const n=Vr(t);n.Uo()&&n.ru&&n.ou(e.mutations)}function VS(t){return Li(t)&&!Vr(t).qo()&&t.Tu.length>0}function zS(t){Vr(t).start()}async function WL(t){Vr(t).au()}async function GL(t){const e=Vr(t);for(const n of t.Tu)e.ou(n.mutations)}async function QL(t,e,n){const r=t.Tu.shift(),i=Jm.from(r,e,n);await qS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qc(t)}async function YL(t,e){e&&Vr(t).ru&&await async function(n,r){if(i=r.code,BP(i)&&i!==X.ABORTED){const o=n.Tu.shift();Vr(n).Go(),await qS(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Qc(n)}var i}(t,e),VS(t)&&zS(t)}async function o0(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=Li(n);n.Au.add(3),await Ha(n),r&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Au.delete(3),await Gc(n)}async function XL(t,e){const n=_e(t);e?(n.Au.delete(2),await Gc(n)):e||(n.Au.add(2),await Ha(n),n.Pu.set("Unknown"))}function Wo(t){return t.Vu||(t.Vu=function(e,n,r){const i=_e(e);return i.lu(),new $L(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:qL.bind(null,t),co:VL.bind(null,t),eu:zL.bind(null,t)}),t.Ru.push(async e=>{e?(t.Vu.Go(),ag(t)?sg(t):t.Pu.set("Unknown")):(await t.Vu.stop(),BS(t))})),t.Vu}function Vr(t){return t.Su||(t.Su=function(e,n,r){const i=_e(e);return i.lu(),new FL(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:WL.bind(null,t),co:YL.bind(null,t),cu:GL.bind(null,t),uu:QL.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Go(),await Qc(t)):(await t.Su.stop(),t.Tu.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.Tu.length} pending writes`),t.Tu=[]))})),t.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new lg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(t,e){if(rr("AsyncQueue",`${e}: ${t}`),qa(t))return new ae(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Ts(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.Du=new Ge(he.comparator)}track(e){const n=e.doc.key,r=this.Du.get(n);r?e.type!==0&&r.type===3?this.Du=this.Du.insert(n,e):e.type===3&&r.type!==1?this.Du=this.Du.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Du=this.Du.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Du=this.Du.remove(n):e.type===1&&r.type===2?this.Du=this.Du.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):pe():this.Du=this.Du.insert(n,e)}Cu(){const e=[];return this.Du.inorderTraversal((n,r)=>{e.push(r)}),e}}class xo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new xo(e,n,po.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.xu=void 0,this.listeners=[]}}class ZL{constructor(){this.queries=new Ko(e=>hS(e),qc),this.onlineState="Unknown",this.Nu=new Set}}async function HS(t,e){const n=_e(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new JL),i)try{o.xu=await n.onListen(r)}catch(s){const a=ug(s,`Initialization of query '${Kd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.ku(n.onlineState),o.xu&&e.Mu(o.xu)&&cg(n)}async function KS(t,e){const n=_e(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function eD(t,e){const n=_e(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.Mu(i)&&(r=!0);s.xu=i}}r&&cg(n)}function tD(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function cg(t){t.Nu.forEach(e=>{e.next()})}class WS{constructor(e,n,r){this.query=e,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),n=!0):this.Lu(e,this.onlineState)&&(this.qu(e),n=!0),this.Fu=e,n}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let n=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),n=!0),n}Lu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Uu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Bu(e){if(e.docChanges.length>0)return!0;const n=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qu(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class nD{constructor(e,n){this.query=e,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=be(),this.mutatedKeys=be(),this.Zu=dS(e),this.tc=new po(this.Zu)}get ec(){return this.Ju}nc(e,n){const r=n?n.sc:new s0,i=n?n.tc:this.tc;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const c=i.get(f),d=Vc(this.query,h)?h:null,w=!!c&&this.mutatedKeys.has(c.key),v=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let E=!1;c&&d?c.data.isEqual(d.data)?w!==v&&(r.track({type:3,doc:d}),E=!0):this.ic(c,d)||(r.track({type:2,doc:d}),E=!0,(l&&this.Zu(d,l)>0||u&&this.Zu(d,u)<0)&&(a=!0)):!c&&d?(r.track({type:0,doc:d}),E=!0):c&&!d&&(r.track({type:1,doc:c}),E=!0,(l||u)&&(a=!0)),E&&(d?(s=s.add(d),o=v?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tc:s,sc:r,ji:a,mutatedKeys:o}}ic(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const o=e.sc.Cu();o.sort((u,f)=>function(h,c){const d=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return d(h)-d(c)}(u.type,f.type)||this.Zu(u.doc,f.doc)),this.rc(r);const s=n?this.oc():[],a=this.Xu.size===0&&this.current?1:0,l=a!==this.Yu;return this.Yu=a,o.length!==0||l?{snapshot:new xo(this.query,e.tc,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:s}:{uc:s}}ku(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tc:this.tc,sc:new s0,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(n=>this.Ju=this.Ju.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ju=this.Ju.delete(n)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=be(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const n=[];return e.forEach(r=>{this.Xu.has(r)||n.push(new QS(r))}),this.Xu.forEach(r=>{e.has(r)||n.push(new GS(r))}),n}ac(e){this.Ju=e.sr,this.Xu=be();const n=this.nc(e.documents);return this.applyChanges(n,!0)}hc(){return xo.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,this.Yu===0,this.hasCachedResults)}}class rD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iD{constructor(e){this.key=e,this.lc=!1}}class oD{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fc={},this.dc=new Ko(a=>hS(a),qc),this._c=new Map,this.wc=new Set,this.mc=new Ge(he.comparator),this.gc=new Map,this.yc=new ng,this.Ic={},this.Tc=new Map,this.Ec=Ao.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function sD(t,e){const n=gD(t);let r,i;const o=n.dc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.hc();else{const s=await AL(n.localStore,ir(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await aD(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&FS(n.remoteStore,s)}return i}async function aD(t,e,n,r,i){t.Rc=(h,c,d)=>async function(w,v,E,m){let p=v.view.nc(E);p.ji&&(p=await n0(w.localStore,v.query,!1).then(({documents:_})=>v.view.nc(_,p)));const y=m&&m.targetChanges.get(v.targetId),g=v.view.applyChanges(p,w.isPrimaryClient,y);return l0(w,v.targetId,g.uc),g.snapshot}(t,h,c,d);const o=await n0(t.localStore,e,!0),s=new nD(e,o.sr),a=s.nc(o.documents),l=za.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);l0(t,n,u.uc);const f=new rD(e,n,s);return t.dc.set(e,f),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function lD(t,e){const n=_e(t),r=n.dc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!qc(o,e))),void n.dc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Xd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),jS(n.remoteStore,r.targetId),Jd(n,r.targetId)}).catch(Ba)):(Jd(n,r.targetId),await Xd(n.localStore,r.targetId,!0))}async function uD(t,e,n){const r=vD(t);try{const i=await function(o,s){const a=_e(o),l=st.now(),u=s.reduce((c,d)=>c.add(d.key),be());let f,h;return a.persistence.runTransaction("Locally write mutations","readwrite",c=>{let d=or(),w=be();return a.Xi.getEntries(c,u).next(v=>{d=v,d.forEach((E,m)=>{m.isValidDocument()||(w=w.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(c,d)).next(v=>{f=v;const E=[];for(const m of s){const p=MP(m,f.get(m.key).overlayedDocument);p!=null&&E.push(new Pi(m.key,p,iS(p.value.mapValue),An.exists(!0)))}return a.mutationQueue.addMutationBatch(c,l,E,s)}).next(v=>{h=v;const E=v.applyToLocalDocumentSet(f,w);return a.documentOverlayCache.saveOverlays(c,v.batchId,E)})}).then(()=>({batchId:h.batchId,changes:mS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Ic[o.currentUser.toKey()];l||(l=new Ge(Ce)),l=l.insert(s,a),o.Ic[o.currentUser.toKey()]=l}(r,i.batchId,n),await Ka(r,i.changes),await Qc(r.remoteStore)}catch(i){const o=ug(i,"Failed to persist write");n.reject(o)}}async function YS(t,e){const n=_e(t);try{const r=await NL(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.gc.get(o);s&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.lc=!0:i.modifiedDocuments.size>0?Ue(s.lc):i.removedDocuments.size>0&&(Ue(s.lc),s.lc=!1))}),await Ka(n,r,e)}catch(r){await Ba(r)}}function a0(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.dc.forEach((o,s)=>{const a=s.view.ku(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=_e(o);a.onlineState=s;let l=!1;a.queries.forEach((u,f)=>{for(const h of f.listeners)h.ku(s)&&(l=!0)}),l&&cg(a)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cD(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.gc.get(e),o=i&&i.key;if(o){let s=new Ge(he.comparator);s=s.insert(o,bt.newNoDocument(o,we.min()));const a=be().add(o),l=new Kc(we.min(),new Map,new Ge(Ce),s,a);await YS(r,l),r.mc=r.mc.remove(o),r.gc.delete(e),fg(r)}else await Xd(r.localStore,e,!1).then(()=>Jd(r,e,n)).catch(Ba)}async function fD(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await OL(n.localStore,e);JS(n,r,null),XS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ka(n,i)}catch(i){await Ba(i)}}async function hD(t,e,n){const r=_e(t);try{const i=await function(o,s){const a=_e(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(f=>(Ue(f!==null),u=f.keys(),a.mutationQueue.removeMutationBatch(l,f))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);JS(r,e,n),XS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ka(r,i)}catch(i){await Ba(i)}}function XS(t,e){(t.Tc.get(e)||[]).forEach(n=>{n.resolve()}),t.Tc.delete(e)}function JS(t,e,n){const r=_e(t);let i=r.Ic[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function Jd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.dc.delete(r),n&&t.fc.vc(r,n);t._c.delete(e),t.isPrimaryClient&&t.yc.ps(e).forEach(r=>{t.yc.containsKey(r)||ZS(t,r)})}function ZS(t,e){t.wc.delete(e.path.canonicalString());const n=t.mc.get(e);n!==null&&(jS(t.remoteStore,n),t.mc=t.mc.remove(e),t.gc.delete(n),fg(t))}function l0(t,e,n){for(const r of n)r instanceof GS?(t.yc.addReference(r.key,e),dD(t,r)):r instanceof QS?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.yc.removeReference(r.key,e),t.yc.containsKey(r.key)||ZS(t,r.key)):pe()}function dD(t,e){const n=e.key,r=n.path.canonicalString();t.mc.get(n)||t.wc.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.wc.add(r),fg(t))}function fg(t){for(;t.wc.size>0&&t.mc.size<t.maxConcurrentLimboResolutions;){const e=t.wc.values().next().value;t.wc.delete(e);const n=new he(Fe.fromString(e)),r=t.Ec.next();t.gc.set(r,new iD(n)),t.mc=t.mc.insert(n,r),FS(t.remoteStore,new kr(ir(Qm(n.path)),r,"TargetPurposeLimboResolution",Vm.ct))}}async function Ka(t,e,n){const r=_e(t),i=[],o=[],s=[];r.dc.isEmpty()||(r.dc.forEach((a,l)=>{s.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const f=ig.Bi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.fc.eu(i),await async function(a,l){const u=_e(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ee.forEach(l,h=>ee.forEach(h.$i,c=>u.persistence.referenceDelegate.addReference(f,h.targetId,c)).next(()=>ee.forEach(h.Fi,c=>u.persistence.referenceDelegate.removeReference(f,h.targetId,c)))))}catch(f){if(!qa(f))throw f;fe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const h=f.targetId;if(!f.fromCache){const c=u.Hi.get(h),d=c.snapshotVersion,w=c.withLastLimboFreeSnapshotVersion(d);u.Hi=u.Hi.insert(h,w)}}}(r.localStore,o))}async function pD(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await LS(n.localStore,e);n.currentUser=e,function(i,o){i.Tc.forEach(s=>{s.forEach(a=>{a.reject(new ae(X.CANCELLED,o))})}),i.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ka(n,r.tr)}}function mD(t,e){const n=_e(t),r=n.gc.get(e);if(r&&r.lc)return be().add(r.key);{let i=be();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.dc.get(s);i=i.unionWith(a.view.ec)}return i}}function gD(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cD.bind(null,e),e.fc.eu=eD.bind(null,e.eventManager),e.fc.vc=tD.bind(null,e.eventManager),e}function vD(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,e),e}class u0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Wc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kL(this.persistence,new SL,e.initialUser,this.serializer)}createPersistence(e){return new _L(rg.js,this.serializer)}createSharedClientState(e){return new RL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pD.bind(null,this.syncEngine),await XL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ZL}createDatastore(e){const n=Wc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new ML(i));var i;return function(o,s,a,l){return new jL(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>a0(this.syncEngine,a,0),s=i0.D()?new i0:new PL,new BL(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,u){const f=new oD(r,i,o,s,a,l);return u&&(f.Ac=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=_e(e);fe("RemoteStore","RemoteStore shutting down."),n.Au.add(5),await Ha(n),n.vu.shutdown(),n.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=tS.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ug(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function uh(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await LS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function c0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _D(t);fe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>o0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>o0(e.remoteStore,o)),t._onlineComponents=e}function ED(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _D(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await uh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ED(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await uh(t,new u0)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await uh(t,new u0);return t._offlineComponents}async function tb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await c0(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await c0(t,new yD))),t._onlineComponents}function TD(t){return tb(t).then(e=>e.syncEngine)}async function nb(t){const e=await tb(t),n=e.eventManager;return n.onListen=sD.bind(null,e.syncEngine),n.onUnlisten=lD.bind(null,e.syncEngine),n}function SD(t,e,n={}){const r=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new eb({next:h=>{o.enqueueAndForget(()=>KS(i,f));const c=h.docs.has(s);!c&&h.fromCache?l.reject(new ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&h.fromCache&&a&&a.source==="server"?l.reject(new ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new WS(Qm(s.path),u,{includeMetadataChanges:!0,Uu:!0});return HS(i,f)}(await nb(t),t.asyncQueue,e,n,r)),r.promise}function bD(t,e,n={}){const r=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new eb({next:h=>{o.enqueueAndForget(()=>KS(i,f)),h.fromCache&&a.source==="server"?l.reject(new ae(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),f=new WS(s,u,{includeMetadataChanges:!0,Uu:!0});return HS(i,f)}(await nb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t,e,n){if(!n)throw new ae(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kD(t,e,n,r){if(e===!0&&r===!0)throw new ae(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h0(t){if(!he.isDocumentKey(t))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function d0(t){if(he.isDocumentKey(t))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function Oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yc(t);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function OD(t,e){if(e<=0)throw new ae(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new GR;switch(n.type){case"firstParty":return new JR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=f0.get(e);n&&(fe("ComponentProvider","Removing Datastore"),f0.delete(e),n.terminate())}(this),Promise.resolve()}}function ND(t,e,n,r={}){var i;const o=(t=Oi(t,Xc))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&Oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=Tt.MOCK_USER;else{s=k2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Tt(l)}t._authCredentials=new QR(new eS(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class Qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qr(this.firestore,e,this._query)}}class Fr extends Qr{constructor(e,n,r){super(e,n,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new he(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function va(t,e,...n){if(t=zt(t),rb("collection","path",e),t instanceof Xc){const r=Fe.fromString(e,...n);return d0(r),new Fr(t,null,r)}{if(!(t instanceof Qt||t instanceof Fr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return d0(r),new Fr(t.firestore,null,r)}}function hg(t,e,...n){if(t=zt(t),arguments.length===1&&(e=tS.A()),rb("doc","path",e),t instanceof Xc){const r=Fe.fromString(e,...n);return h0(r),new Qt(t,null,new he(r))}{if(!(t instanceof Qt||t instanceof Fr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return h0(r),new Qt(t.firestore,t instanceof Fr?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new MS(this,"async_queue_retry"),this.Yc=()=>{const n=lh();n&&fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Lo.ko()};const e=lh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const n=lh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const n=new Yn;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!qa(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(e){const n=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{this.zc=r,this.Wc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Wc=!1,r))));return this.Kc=n,n}enqueueAfterDelay(e,n,r){this.Xc(),this.Jc.indexOf(e)>-1&&(n=0);const i=lg.createAndSchedule(this,e,n,r,o=>this.ea(o));return this.jc.push(i),i}Xc(){this.zc&&pe()}verifyOperationInProgress(){}async na(){let e;do e=this.Kc,await e;while(e!==this.Kc)}sa(e){for(const n of this.jc)if(n.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.jc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const n=this.jc.indexOf(e);this.jc.splice(n,1)}}class Wa extends Xc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ID,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ib(this),this._firestoreClient.terminate()}}function CD(t,e){const n=typeof t=="object"?t:W_(),r=typeof t=="string"?t:e||"(default)",i=wm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=T2("firestore");o&&ND(i,...o)}return i}function dg(t){return t._firestoreClient||ib(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ib(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,u){return new cP(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new wD(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Rt.fromBase64String(e))}catch(n){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=/^__.*__$/;class xD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Va(e,this.data,n,this.fieldTransforms)}}function sb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class gg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Hu(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(e.length===0)throw this._a("Document fields must not be empty");if(sb(this.ua)&&AD.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class RD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wc(e)}ga(e,n,r,i=!1){return new gg({ua:e,methodName:n,ma:r,path:Ot.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ab(t){const e=t._freezeSettings(),n=Wc(t._databaseId);return new RD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PD(t,e,n,r,i,o={}){const s=t.ga(o.merge||o.mergeFields?2:0,e,n,i);cb("Data must be an object, but it was:",s,r);const a=lb(r,s);let l,u;if(o.merge)l=new gn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const c=DD(e,h,n);if(!s.contains(c))throw new ae(X.INVALID_ARGUMENT,`Field '${c}' is specified in your field mask but missing from your input data.`);$D(f,c)||f.push(c)}l=new gn(f),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new xD(new rn(a),l,u)}function LD(t,e,n,r=!1){return vg(n,t.ga(r?4:3,e))}function vg(t,e){if(ub(t=zt(t)))return cb("Unsupported field value:",e,t),lb(t,e);if(t instanceof ob)return function(n,r){if(!sb(r.ua))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ha&&e.ua!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=vg(s,r.da(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AP(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=st.fromDate(n);return{timestampValue:Vu(r.serializer,i)}}if(n instanceof st){const i=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vu(r.serializer,i)}}if(n instanceof mg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ro)return{bytesValue:IS(r.serializer,n._byteString)};if(n instanceof Qt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:tg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Yc(n)}`)}(t,e)}function lb(t,e){const n={};return nS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(t,(r,i)=>{const o=vg(i,e.aa(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ub(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof mg||t instanceof Ro||t instanceof Qt||t instanceof ob)}function cb(t,e,n){if(!ub(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Yc(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function DD(t,e,n){if((e=zt(e))instanceof pg)return e._internalPath;if(typeof e=="string")return fb(t,e);throw Hu("Field path arguments must be of type string or ",t,!1,void 0,n)}const MD=new RegExp("[~\\*/\\[\\]]");function fb(t,e,n){if(e.search(MD)>=0)throw Hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pg(...e.split("."))._internalPath}catch{throw Hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ae(X.INVALID_ARGUMENT,a+t+l)}function $D(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FD extends hb{data(){return super.data()}}function Jc(t,e){return typeof e=="string"?fb(t,e):e instanceof pg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class wg extends yg{}function db(t,e,...n){let r=[];e instanceof yg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof Eg).length,s=i.filter(a=>a instanceof Zc).length;if(o>1||o>0&&s>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zc extends wg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zc(e,n,r)}_apply(e){const n=this._parse(e);return pb(e._query,n),new Qr(e.firestore,e.converter,Hd(e._query,n))}_parse(e){const n=ab(e.firestore);return function(i,o,s,a,l,u,f){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){g0(f,u);const c=[];for(const d of f)c.push(m0(a,i,d));h={arrayValue:{values:c}}}else h=m0(a,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||g0(f,u),h=LD(s,o,f,u==="in"||u==="not-in");return nt.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function UD(t,e,n){const r=e,i=Jc("where",t);return Zc._create(i,r,n)}class Eg extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)pb(o,a),o=Hd(o,a)}(e._query,n),new Qr(e.firestore,e.converter,Hd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _g extends wg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _g(e,n)}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new fo(i,o);return function(a,l){if(Ym(a)===null){const u=Bc(a);u!==null&&mb(a,u,l.field)}}(r,s),s}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Ho(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function BD(t,e="asc"){const n=e,r=Jc("orderBy",t);return _g._create(r,n)}class Tg extends wg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Tg(e,n,r)}_apply(e){return new Qr(e.firestore,e.converter,Uu(e._query,this._limit,this._limitType))}}function qD(t){return OD("limit",t),Tg._create("limit",t,"F")}function m0(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fS(e)&&n.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!he.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jy(t,new he(r))}if(n instanceof Qt)return jy(t,n._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(n)}.`)}function g0(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(t,e){if(e.isInequality()){const r=Bc(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ae(X.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=Ym(t);o!==null&&mb(t,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mb(t,e,n){if(!n.isEqual(e))throw new ae(X.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class VD{convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new mg(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ha(e));default:return null}}convertTimestamp(e){const n=qr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Ue(PS(r));const i=new da(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gb extends hb{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hl extends gb{data(e={}){return super.data(e)}}class HD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hl(this._firestore,this._userDataWriter,r.key,r,new bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Hl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new bs(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Hl(r._firestore,r._userDataWriter,s.doc.key,s.doc,new bs(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:KD(s.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){t=Oi(t,Qt);const e=Oi(t.firestore,Wa);return SD(dg(e),t._key).then(n=>QD(e,t,n))}class vb extends VD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function yb(t){t=Oi(t,Qr);const e=Oi(t.firestore,Wa),n=dg(e),r=new vb(e);return jD(t._query),bD(n,t._query).then(i=>new HD(e,r,t,i))}function GD(t){return Eb(Oi(t.firestore,Wa),[new Xm(t._key,An.none())])}function wb(t,e){const n=Oi(t.firestore,Wa),r=hg(t),i=zD(t.converter,e);return Eb(n,[PD(ab(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function Eb(t,e){return function(n,r){const i=new Yn;return n.asyncQueue.enqueueAndForget(async()=>uD(await TD(n),r,i)),i.promise}(dg(t),e)}function QD(t,e,n){const r=n.docs.get(e._key),i=new vb(t);return new gb(t,i,e._key,r,new bs(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Vo=n})(Uo),bo(new _i("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Wa(new YR(n.getProvider("auth-internal")),new eP(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new da(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),$r(Ly,"3.11.0",t),$r(Ly,"3.11.0","esm2017")})();var YD="firebase",XD="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(YD,XD,"app");function Sg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _b(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JD=_b,Tb=new Aa("auth","Firebase",_b());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new vm("@firebase/auth");function ZD(t,...e){Ku.logLevel<=Ie.WARN&&Ku.warn(`Auth (${Uo}): ${t}`,...e)}function Kl(t,...e){Ku.logLevel<=Ie.ERROR&&Ku.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw bg(t,...e)}function Rn(t,...e){return bg(t,...e)}function Sb(t,e,n){const r=Object.assign(Object.assign({},JD()),{[e]:n});return new Aa("auth","Firebase",r).create(e,{appName:t.name})}function eM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dn(t,"argument-error"),Sb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Tb.create(t,...e)}function ge(t,e,...n){if(!t)throw bg(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kl(e),new Error(e)}function sr(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tM(){return v0()==="http:"||v0()==="https:"}function v0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tM()||N2()||"connection"in navigator)?navigator.onLine:!0}function rM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=O2()||I2()}get(){return nM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new Ga(3e4,6e4);function kb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qa(t,e,n,r,i={}){return Ob(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=xa(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bb.fetch()(Nb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function Ob(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iM),e);try{const i=new aM(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Il(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Il(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Il(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Il(t,"user-disabled",s);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Sb(t,f,u);Dn(t,f)}}catch(i){if(i instanceof cr)throw i;Dn(t,"network-request-failed",{message:String(i)})}}async function sM(t,e,n,r,i={}){const o=await Qa(t,e,n,r,i);return"mfaPendingCredential"in o&&Dn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Nb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?kg(t.config,i):`${t.config.apiScheme}://${i}`}class aM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),oM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Il(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){return Qa(t,"POST","/v1/accounts:delete",e)}async function uM(t,e){return Qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cM(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=Og(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Fs(ch(i.auth_time)),issuedAtTime:Fs(ch(i.iat)),expirationTime:Fs(ch(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ch(t){return Number(t)*1e3}function Og(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kl("JWT malformed, contained fewer than 3 sections"),null;try{const i=B_(n);return i?JSON.parse(i):(Kl("Failed to decode base64 JWT payload"),null)}catch(i){return Kl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fM(t){const e=Og(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&hM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fs(this.lastLoginAt),this.creationTime=Fs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ya(t,uM(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gM(o.providerUserInfo):[],a=mM(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ib(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function pM(t){const e=zt(t);await Wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gM(t){return t.map(e=>{var{providerId:n}=e,r=Sg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){const n=await Ob(t,{},async()=>{const r=xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Nb(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bb.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ge(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await vM(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new wa;return r&&(ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ib(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ya(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cM(this,e)}reload(){return pM(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ya(this,lM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,c=(i=n.email)!==null&&i!==void 0?i:void 0,d=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:y,emailVerified:g,isAnonymous:_,providerData:b,stsTokenManager:T}=n;ge(y&&T,e,"internal-error");const k=wa.fromJSON(this.name,T);ge(typeof y=="string",e,"internal-error"),dr(h,e.name),dr(c,e.name),ge(typeof g=="boolean",e,"internal-error"),ge(typeof _=="boolean",e,"internal-error"),dr(d,e.name),dr(w,e.name),dr(v,e.name),dr(E,e.name),dr(m,e.name),dr(p,e.name);const A=new di({uid:y,auth:e,email:c,emailVerified:g,displayName:h,isAnonymous:_,photoURL:w,phoneNumber:d,tenantId:v,stsTokenManager:k,createdAt:m,lastLoginAt:p});return b&&Array.isArray(b)&&(A.providerData=b.map(O=>Object.assign({},O))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new wa;i.updateFromServerResponse(n);const o=new di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wu(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function Kn(t){sr(t instanceof Function,"Expected a class definition");let e=y0.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cb.type="NONE";const w0=Cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Wl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(Kn(w0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Kn(w0);const s=Wl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(s);if(f){const h=di._fromJSON(e,f);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new mo(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new mo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lb(e))return"Blackberry";if(Db(e))return"Webos";if(Ng(e))return"Safari";if((e.includes("chrome/")||xb(e))&&!e.includes("edge/"))return"Chrome";if(Pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ab(t=xt()){return/firefox\//i.test(t)}function Ng(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xb(t=xt()){return/crios\//i.test(t)}function Rb(t=xt()){return/iemobile/i.test(t)}function Pb(t=xt()){return/android/i.test(t)}function Lb(t=xt()){return/blackberry/i.test(t)}function Db(t=xt()){return/webos/i.test(t)}function ef(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yM(t=xt()){var e;return ef(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wM(){return C2()&&document.documentMode===10}function Mb(t=xt()){return ef(t)||Pb(t)||Db(t)||Lb(t)||/windows phone/i.test(t)||Rb(t)}function EM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e=[]){let n;switch(t){case"Browser":n=E0(xt());break;case"Worker":n=`${E0(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}async function Fb(t,e){return Qa(t,"GET","/v2/recaptchaConfig",kb(t,e))}function _0(t){return t!==void 0&&t.enterprise!==void 0}class jb{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Ub(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Rn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_M().appendChild(r)})}function TM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const SM="https://www.google.com/recaptcha/enterprise.js?render=",bM="recaptcha-enterprise",kM="NO_RECAPTCHA";class OM{constructor(e){this.type=bM,this.auth=Ya(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Fb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new jb(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;_0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(kM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&_0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}Ub(SM+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new NM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?zt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}async initializeRecaptchaConfig(){const e=await Fb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new jb(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new OM(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Aa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ya(t){return zt(t)}class T0{constructor(e){this.auth=e,this.observer=null,this.addObserver=M2(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e){const n=wm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ou(o,e??{}))return i;Dn(i,"already-initialized")}return n.initialize({options:e})}function AM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xM(t,e,n){const r=Ya(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Bb(e),{host:s,port:a}=RM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PM()}function Bb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RM(t){const e=Bb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:S0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:S0(s)}}}function S0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return sM(t,"POST","/v1/accounts:signInWithIdp",kb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="http://localhost";class Ni extends qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Sg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ni(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:LM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Xa{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends Xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ni._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Un.credential(n,r)}catch{return null}}}Un.GOOGLE_SIGN_IN_METHOD="google.com";Un.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Xa{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Xa{constructor(){super("twitter.com")}static credential(e,n){return Ni._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await di._fromIdTokenResponse(e,r,i),s=b0(r);return new Po({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=b0(r);return new Po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function b0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends cr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gu(e,n,r,i)}}function Vb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gu._fromErrorAndOperation(t,o,e,r):o})}async function DM(t,e,n=!1){const r=await ya(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await ya(t,Vb(r,i,e,t),n);ge(o.idToken,r,"internal-error");const s=Og(o.idToken);ge(s,r,"internal-error");const{sub:a}=s;return ge(t.uid===a,r,"user-mismatch"),Po._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e,n=!1){const r="signIn",i=await Vb(t,r,e),o=await Po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function FM(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function jM(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function UM(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function BM(t){return zt(t).signOut()}const Qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qu,"1"),this.storage.removeItem(Qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(){const t=xt();return Ng(t)||ef(t)}const VM=1e3,zM=10;class Hb extends zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qM()&&EM(),this.fallbackToPolling=Mb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);wM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hb.type="LOCAL";const HM=Hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb extends zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Kb.type="SESSION";const Wb=Kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await KM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Cg("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const c=h;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(c.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function GM(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function QM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XM(){return Gb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="firebaseLocalStorageDb",JM=1,Yu="firebaseLocalStorage",Yb="fbase_key";class Ja{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(t,e){return t.transaction([Yu],e?"readwrite":"readonly").objectStore(Yu)}function ZM(){const t=indexedDB.deleteDatabase(Qb);return new Ja(t).toPromise()}function ep(){const t=indexedDB.open(Qb,JM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yu,{keyPath:Yb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yu)?e(r):(r.close(),await ZM(),e(await ep()))})})}async function k0(t,e,n){const r=nf(t,!0).put({[Yb]:e,value:n});return new Ja(r).toPromise()}async function e$(t,e){const n=nf(t,!1).get(e),r=await new Ja(n).toPromise();return r===void 0?null:r.value}function O0(t,e){const n=nf(t,!0).delete(e);return new Ja(n).toPromise()}const t$=800,n$=3;class Xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(XM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QM(),!this.activeServiceWorker)return;this.sender=new WM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await k0(e,Qu,"1"),await O0(e,Qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=nf(i,!1).getAll();return new Ja(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xb.type="LOCAL";const r$=Xb;new Ga(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e){return e?Kn(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends qb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i$(t){return $M(t.auth,new Ag(t),t.bypassAuthState)}function o$(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),MM(n,new Ag(t),t.bypassAuthState)}async function s$(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),DM(n,new Ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i$;case"linkViaPopup":case"linkViaRedirect":return s$;case"reauthViaPopup":case"reauthViaRedirect":return o$;default:Dn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=new Ga(2e3,1e4);async function l$(t,e,n){const r=Ya(t);eM(t,e,Ig);const i=Jb(r,n);return new ui(r,"signInViaPopup",e,i).executeNotNull()}class ui extends Zb{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ui.currentPopupAction&&ui.currentPopupAction.cancel(),ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a$.get())};e()}}ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="pendingRedirect",Gl=new Map;class c$ extends Zb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gl.get(this.auth._key());if(!e){try{const r=await f$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gl.set(this.auth._key(),e)}return this.bypassAuthState||Gl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f$(t,e){const n=p$(e),r=d$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function h$(t,e){Gl.set(t._key(),e)}function d$(t){return Kn(t._redirectPersistence)}function p$(t){return Wl(u$,t.config.apiKey,t.name)}async function m$(t,e,n=!1){const r=Ya(t),i=Jb(r,e),s=await new c$(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=10*60*1e3;class v${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ek(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g$&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(e))}saveEventToCache(e){this.cachedEventUids.add(N0(e)),this.lastProcessedEventTime=Date.now()}}function N0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ek({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ek(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t,e={}){return Qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_$=/^https?/;async function T$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w$(t);for(const n of e)try{if(S$(n))return}catch{}Dn(t,"unauthorized-domain")}function S$(t){const e=Zd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!_$.test(n))return!1;if(E$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=new Ga(3e4,6e4);function I0(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k$(t){return new Promise((e,n)=>{var r,i,o;function s(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(Rn(t,"network-request-failed"))},timeout:b$.get()})}if(!((i=(r=Pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Pn().gapi)===null||o===void 0)&&o.load)s();else{const a=TM("iframefcb");return Pn()[a]=()=>{gapi.load?s():n(Rn(t,"network-request-failed"))},Ub(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ql=null,e})}let Ql=null;function O$(t){return Ql=Ql||k$(t),Ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=new Ga(5e3,15e3),I$="__/auth/iframe",C$="emulator/auth/iframe",A$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R$(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kg(e,C$):`https://${t.config.authDomain}/${I$}`,r={apiKey:e.apiKey,appName:t.name,v:Uo},i=x$.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xa(r).slice(1)}`}async function P$(t){const e=await O$(t),n=Pn().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:R$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Rn(t,"network-request-failed"),a=Pn().setTimeout(()=>{o(s)},N$.get());function l(){Pn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D$=500,M$=600,$$="_blank",F$="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j$(t,e,n,r=D$,i=M$){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},L$),{width:r.toString(),height:i.toString(),top:o,left:s}),u=xt().toLowerCase();n&&(a=xb(u)?$$:n),Ab(u)&&(e=e||F$,l.scrollbars="yes");const f=Object.entries(l).reduce((c,[d,w])=>`${c}${d}=${w},`,"");if(yM(u)&&a!=="_self")return U$(e||"",a),new C0(null);const h=window.open(e||"",a,f);ge(h,t,"popup-blocked");try{h.focus()}catch{}return new C0(h)}function U$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="__/auth/handler",q$="emulator/auth/handler",V$=encodeURIComponent("fac");async function A0(t,e,n,r,i,o){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:i};if(e instanceof Ig){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",D2(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries(o||{}))s[f]=h}if(e instanceof Xa){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${V$}=${encodeURIComponent(l)}`:"";return`${z$(t)}?${xa(a).slice(1)}${u}`}function z$({config:t}){return t.emulator?kg(t,q$):`https://${t.authDomain}/${B$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="webStorageSupport";class H${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=m$,this._overrideRedirectResult=h$}async _openPopup(e,n,r,i){var o;sr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await A0(e,n,r,Zd(),i);return j$(e,s,Cg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await A0(e,n,r,Zd(),i);return GM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(sr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await P$(e),r=new v$(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fh,{type:fh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[fh];s!==void 0&&n(!!s),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mb()||Ng()||ef()}}const K$=H$;var x0="@firebase/auth",R0="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Q$(t){bo(new _i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),ge(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$b(t)},u=new IM(r,i,o,l);return AM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new _i("auth-internal",e=>{const n=Ya(e.getProvider("auth").getImmediate());return(r=>new W$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(x0,R0,G$(t)),$r(x0,R0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=5*60,X$=V_("authIdTokenMaxAge")||Y$;let P0=null;const J$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X$)return;const i=n==null?void 0:n.token;P0!==i&&(P0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Z$(t=W_()){const e=wm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CM(t,{popupRedirectResolver:K$,persistence:[r$,HM,Wb]}),r=V_("authTokenSyncURL");if(r){const o=J$(r);jM(n,o,()=>o(n.currentUser)),FM(n,s=>o(s))}const i=q_("auth");return i&&xM(n,`http://${i}`),n}Q$("Browser");const e4={apiKey:"AIzaSyDBZLyfmV-Qw5Rqe9lp8wJCjuU4IpzRZd8",authDomain:"lokman-blog.firebaseapp.com",projectId:"lokman-blog",storageBucket:"lokman-blog.appspot.com",messagingSenderId:"189504006380",appId:"1:189504006380:web:977571cde229fc2c421dc9"},tk=K_(e4),pi=CD(tk),Ea=Z$(tk),t4=new Un,n4=()=>{const[t,e]=D.useState([]);return D.useEffect(()=>{(async()=>{const i=db(va(pi,"posts"),BD("createdAt","desc"),qD(10)),s=(await yb(i)).docs.map(a=>({...a.data(),id:a.id}));e(s)})()},[]),le("div",{children:[j(f2,{images:[{src:"https://via.placeholder.com/900x200",alt:"First slide",caption:"insert text 1"},{src:"https://via.placeholder.com/900x200",alt:"Second slide",caption:"insert text 2"},{src:"https://via.placeholder.com/900x200",alt:"Third slide",caption:"insert text 3"}]}),j("hr",{}),le("div",{className:"bio-container",children:[j("h2",{children:"About Me"}),j("p",{children:"Thank you for visiting my personal website! My name is Lokman RAMDANI, and I'm a 21-year-old web developer who's passionate about the digital world. After obtaining a literary baccalaureate and studying the Japanese language abroad, I made the decision to reorient my career and focus on the field of web development."}),j("h2",{children:"Education"}),le("ul",{children:[j("li",{children:"2020: Baccalauréat Générale de Série L - Lycée George Clemenceau"}),j("li",{children:"2021: Japanese Language Course (6 months) - Tokyo Galaxy, Tokyo, Japan"}),j("li",{children:"2022-2023: Web Developer and Web Mobile Course - ADRAR"})]}),j("h2",{children:"Work Experience"}),le("ul",{children:[j("li",{children:"2021: Freelance Illustrator - Providing illustration services via the Fiverr platform."}),j("li",{children:"Mission Locale - Participated in an intensive program to facilitate education and employment opportunities."})]}),j("h2",{children:"Interests"}),le("ul",{children:[j("li",{children:"Digital drawing (cartoon, manga)"}),j("li",{children:"Computer technology (hardware and software)"}),j("li",{children:"Social media activities: sharing illustrations, streaming"}),j("li",{children:"Traveling: I've been to Japan and Germany."})]})]}),j("hr",{}),le("div",{className:"news-icons-wrapper",children:[le("div",{children:[j("h1",{children:"News:"}),j("ul",{children:t.map(r=>j("li",{children:le(to,{to:`/post/${r.id}`,children:[new Date(r.createdAt).toLocaleDateString()," - ",r.title]})},r.id))})]}),le("div",{className:"Projectsicon",children:[j("h1",{children:"Projects"}),j("div",{className:"project-container",children:le("a",{href:"https://www.example.com/amadeus",children:[j("img",{className:"project_icons",src:h2,alt:"Amadeus Fan-Project Realisation 2.0"}),j("span",{children:"Fan-Project: Amadeus Reborn (name subject to change)"})]})}),j("div",{className:"project-container",children:le("a",{href:"https://www.example.com/@chan",children:[j("img",{className:"project_icons",src:p2,alt:"@Chan"}),j("span",{children:"@Chan (still in development)"})]})}),j("div",{className:"project-container",children:le("a",{href:"https://www.example.com/rakugaki",children:[j("img",{className:"project_icons",src:d2,alt:"Rakugaki"}),j("span",{children:"Rakugaki"})]})})]})]})]})},_a={_origin:"https://api.emailjs.com"},r4=(t,e="https://api.emailjs.com")=>{_a._userID=t,_a._origin=e},nk=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class L0{constructor(e){this.status=e.status,this.text=e.responseText}}const rk=(t,e,n={})=>new Promise((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const a=new L0(s);a.status===200||a.text==="OK"?r(a):i(a)}),o.addEventListener("error",({target:s})=>{i(new L0(s))}),o.open("POST",_a._origin+t,!0),Object.keys(n).forEach(s=>{o.setRequestHeader(s,n[s])}),o.send(e)}),i4=(t,e,n,r)=>{const i=r||_a._userID;return nk(i,t,e),rk("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},o4=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},s4=(t,e,n,r)=>{const i=r||_a._userID,o=o4(n);nk(i,t,e);const s=new FormData(o);return s.append("lib_version","3.2.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",i),rk("/api/v1.0/email/send-form",s)},a4={init:r4,send:i4,sendForm:s4},l4=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,o]=D.useState(""),[s,a]=D.useState(""),[l,u]=D.useState(""),[f,h]=D.useState({});return le("div",{className:"container",children:[j("h1",{children:"Contact Me"}),le("form",{onSubmit:d=>{if(d.preventDefault(),!t||!n||!l){h({name:!t&&"Name is required",email:!n&&"Email is required",message:!l&&"Message is required"});return}const w={from_name:t,from_email:n,phone:i,subject:s||"New message from your website",message:l};a4.send({}.REACT_APP_EMAILJS_SERVICE_ID,{}.REACT_APP_EMAILJS_TEMPLATE_ID,w,{}.REACT_APP_EMAILJS_USER_ID).then(v=>{console.log(v.text),alert("Email sent successfully!"),e(""),r(""),o(""),a(""),u(""),h({})},v=>{console.log(v.text),alert("There was an error sending your email. Please try again later.")})},children:[le("div",{className:"form-group",children:[j("label",{htmlFor:"name",children:"Name"}),j("input",{type:"text",className:`form-control ${f.name?"is-invalid":""}`,id:"name",value:t,onChange:d=>e(d.target.value),required:!0}),f.name&&j("div",{className:"invalid-feedback",children:f.name})]}),le("div",{className:"form-group",children:[j("label",{htmlFor:"email",children:"Email"}),j("input",{type:"email",className:`form-control ${f.email?"is-invalid":""}`,id:"email",value:n,onChange:d=>r(d.target.value),required:!0}),f.email&&j("div",{className:"invalid-feedback",children:f.email})]}),le("div",{className:"form-group",children:[j("label",{htmlFor:"phone",children:"Phone (optional)"}),j("input",{type:"tel",className:`form-control ${f.phone?"is-invalid":""}`,id:"phone",value:i,onChange:d=>o(d.target.value)}),f.phone&&j("div",{className:"invalid-feedback",children:f.phone})]}),le("div",{className:"form-group",children:[j("label",{htmlFor:"subject",children:"Subject (optional)"}),j("input",{type:"text",className:"form-control",id:"subject",value:s,onChange:d=>a(d.target.value)})]}),le("div",{className:"form-group",children:[j("label",{htmlFor:"message",children:"Message"}),j("textarea",{className:`form-control ${f.message?"is-invalid":""}`,id:"message",rows:"5",value:l,onChange:d=>u(d.target.value),required:!0}),f.message&&j("div",{className:"invalid-feedback",children:f.message})]}),j("button",{type:"submit",className:"btn btn-primary",children:"Send"})]})]})},u4=({isAuth:t,setIsAuth:e})=>{let n=im();const r=()=>{BM(Ea).then(()=>{localStorage.clear(),e(!1),n("/lokman/blog")}).catch(i=>{console.error("Sign out error:",i)})};return t?j(mi,{children:j("button",{onClick:r,children:"Log Out"})}):null},ik=({isAuth:t,setIsAuth:e})=>{if(t)return null;let n=im();const r=()=>{l$(Ea,t4).then(i=>{localStorage.setItem("isAuth",!0),e(!0),n("/lokman/blog")})};return D.useEffect(()=>{t&&n("/blog")},[t,n]),le("div",{className:"login_page",children:[j("h1",{children:"Sign In with Google"}),j("button",{className:"login-with-google-btn",onClick:r,children:"Sign In with Google"})]})},c4=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(!0);return D.useEffect(()=>{const i=UM(Ea,o=>{o?(e(o.email),localStorage.setItem("email",o.email)):(e(""),localStorage.removeItem("email")),r(!1)});return()=>i()},[]),[t,n]};function f4(){this.__data__=[],this.size=0}var h4=f4;function d4(t,e){return t===e||t!==t&&e!==e}var ok=d4,p4=ok;function m4(t,e){for(var n=t.length;n--;)if(p4(t[n][0],e))return n;return-1}var rf=m4,g4=rf,v4=Array.prototype,y4=v4.splice;function w4(t){var e=this.__data__,n=g4(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():y4.call(e,n,1),--this.size,!0}var E4=w4,_4=rf;function T4(t){var e=this.__data__,n=_4(e,t);return n<0?void 0:e[n][1]}var S4=T4,b4=rf;function k4(t){return b4(this.__data__,t)>-1}var O4=k4,N4=rf;function I4(t,e){var n=this.__data__,r=N4(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var C4=I4,A4=h4,x4=E4,R4=S4,P4=O4,L4=C4;function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=A4;Go.prototype.delete=x4;Go.prototype.get=R4;Go.prototype.has=P4;Go.prototype.set=L4;var of=Go,D4=of;function M4(){this.__data__=new D4,this.size=0}var $4=M4;function F4(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var j4=F4;function U4(t){return this.__data__.get(t)}var B4=U4;function q4(t){return this.__data__.has(t)}var V4=q4,z4=typeof Kt=="object"&&Kt&&Kt.Object===Object&&Kt,sk=z4,H4=sk,K4=typeof self=="object"&&self&&self.Object===Object&&self,W4=H4||K4||Function("return this")(),fr=W4,G4=fr,Q4=G4.Symbol,xg=Q4,D0=xg,ak=Object.prototype,Y4=ak.hasOwnProperty,X4=ak.toString,ds=D0?D0.toStringTag:void 0;function J4(t){var e=Y4.call(t,ds),n=t[ds];try{t[ds]=void 0;var r=!0}catch{}var i=X4.call(t);return r&&(e?t[ds]=n:delete t[ds]),i}var Z4=J4,e3=Object.prototype,t3=e3.toString;function n3(t){return t3.call(t)}var r3=n3,M0=xg,i3=Z4,o3=r3,s3="[object Null]",a3="[object Undefined]",$0=M0?M0.toStringTag:void 0;function l3(t){return t==null?t===void 0?a3:s3:$0&&$0 in Object(t)?i3(t):o3(t)}var sf=l3;function u3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var lk=u3,c3=sf,f3=lk,h3="[object AsyncFunction]",d3="[object Function]",p3="[object GeneratorFunction]",m3="[object Proxy]";function g3(t){if(!f3(t))return!1;var e=c3(t);return e==d3||e==p3||e==h3||e==m3}var uk=g3,v3=fr,y3=v3["__core-js_shared__"],w3=y3,hh=w3,F0=function(){var t=/[^.]+$/.exec(hh&&hh.keys&&hh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function E3(t){return!!F0&&F0 in t}var _3=E3,T3=Function.prototype,S3=T3.toString;function b3(t){if(t!=null){try{return S3.call(t)}catch{}try{return t+""}catch{}}return""}var ck=b3,k3=uk,O3=_3,N3=lk,I3=ck,C3=/[\\^$.*+?()[\]{}|]/g,A3=/^\[object .+?Constructor\]$/,x3=Function.prototype,R3=Object.prototype,P3=x3.toString,L3=R3.hasOwnProperty,D3=RegExp("^"+P3.call(L3).replace(C3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function M3(t){if(!N3(t)||O3(t))return!1;var e=k3(t)?D3:A3;return e.test(I3(t))}var $3=M3;function F3(t,e){return t==null?void 0:t[e]}var j3=F3,U3=$3,B3=j3;function q3(t,e){var n=B3(t,e);return U3(n)?n:void 0}var Qo=q3,V3=Qo,z3=fr,H3=V3(z3,"Map"),Rg=H3,K3=Qo,W3=K3(Object,"create"),af=W3,j0=af;function G3(){this.__data__=j0?j0(null):{},this.size=0}var Q3=G3;function Y3(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var X3=Y3,J3=af,Z3="__lodash_hash_undefined__",e5=Object.prototype,t5=e5.hasOwnProperty;function n5(t){var e=this.__data__;if(J3){var n=e[t];return n===Z3?void 0:n}return t5.call(e,t)?e[t]:void 0}var r5=n5,i5=af,o5=Object.prototype,s5=o5.hasOwnProperty;function a5(t){var e=this.__data__;return i5?e[t]!==void 0:s5.call(e,t)}var l5=a5,u5=af,c5="__lodash_hash_undefined__";function f5(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=u5&&e===void 0?c5:e,this}var h5=f5,d5=Q3,p5=X3,m5=r5,g5=l5,v5=h5;function Yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yo.prototype.clear=d5;Yo.prototype.delete=p5;Yo.prototype.get=m5;Yo.prototype.has=g5;Yo.prototype.set=v5;var y5=Yo,U0=y5,w5=of,E5=Rg;function _5(){this.size=0,this.__data__={hash:new U0,map:new(E5||w5),string:new U0}}var T5=_5;function S5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var b5=S5,k5=b5;function O5(t,e){var n=t.__data__;return k5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var lf=O5,N5=lf;function I5(t){var e=N5(this,t).delete(t);return this.size-=e?1:0,e}var C5=I5,A5=lf;function x5(t){return A5(this,t).get(t)}var R5=x5,P5=lf;function L5(t){return P5(this,t).has(t)}var D5=L5,M5=lf;function $5(t,e){var n=M5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var F5=$5,j5=T5,U5=C5,B5=R5,q5=D5,V5=F5;function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=j5;Xo.prototype.delete=U5;Xo.prototype.get=B5;Xo.prototype.has=q5;Xo.prototype.set=V5;var fk=Xo,z5=of,H5=Rg,K5=fk,W5=200;function G5(t,e){var n=this.__data__;if(n instanceof z5){var r=n.__data__;if(!H5||r.length<W5-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new K5(r)}return n.set(t,e),this.size=n.size,this}var Q5=G5,Y5=of,X5=$4,J5=j4,Z5=B4,e9=V4,t9=Q5;function Jo(t){var e=this.__data__=new Y5(t);this.size=e.size}Jo.prototype.clear=X5;Jo.prototype.delete=J5;Jo.prototype.get=Z5;Jo.prototype.has=e9;Jo.prototype.set=t9;var n9=Jo,r9="__lodash_hash_undefined__";function i9(t){return this.__data__.set(t,r9),this}var o9=i9;function s9(t){return this.__data__.has(t)}var a9=s9,l9=fk,u9=o9,c9=a9;function Xu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new l9;++e<n;)this.add(t[e])}Xu.prototype.add=Xu.prototype.push=u9;Xu.prototype.has=c9;var f9=Xu;function h9(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var d9=h9;function p9(t,e){return t.has(e)}var m9=p9,g9=f9,v9=d9,y9=m9,w9=1,E9=2;function _9(t,e,n,r,i,o){var s=n&w9,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),f=o.get(e);if(u&&f)return u==e&&f==t;var h=-1,c=!0,d=n&E9?new g9:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var w=t[h],v=e[h];if(r)var E=s?r(v,w,h,e,t,o):r(w,v,h,t,e,o);if(E!==void 0){if(E)continue;c=!1;break}if(d){if(!v9(e,function(m,p){if(!y9(d,p)&&(w===m||i(w,m,n,r,o)))return d.push(p)})){c=!1;break}}else if(!(w===v||i(w,v,n,r,o))){c=!1;break}}return o.delete(t),o.delete(e),c}var hk=_9,T9=fr,S9=T9.Uint8Array,b9=S9;function k9(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var O9=k9;function N9(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var I9=N9,B0=xg,q0=b9,C9=ok,A9=hk,x9=O9,R9=I9,P9=1,L9=2,D9="[object Boolean]",M9="[object Date]",$9="[object Error]",F9="[object Map]",j9="[object Number]",U9="[object RegExp]",B9="[object Set]",q9="[object String]",V9="[object Symbol]",z9="[object ArrayBuffer]",H9="[object DataView]",V0=B0?B0.prototype:void 0,dh=V0?V0.valueOf:void 0;function K9(t,e,n,r,i,o,s){switch(n){case H9:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case z9:return!(t.byteLength!=e.byteLength||!o(new q0(t),new q0(e)));case D9:case M9:case j9:return C9(+t,+e);case $9:return t.name==e.name&&t.message==e.message;case U9:case q9:return t==e+"";case F9:var a=x9;case B9:var l=r&P9;if(a||(a=R9),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=L9,s.set(t,e);var f=A9(a(t),a(e),r,i,o,s);return s.delete(t),f;case V9:if(dh)return dh.call(t)==dh.call(e)}return!1}var W9=K9;function G9(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Q9=G9,Y9=Array.isArray,Pg=Y9,X9=Q9,J9=Pg;function Z9(t,e,n){var r=e(t);return J9(t)?r:X9(r,n(t))}var eF=Z9;function tF(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var nF=tF;function rF(){return[]}var iF=rF,oF=nF,sF=iF,aF=Object.prototype,lF=aF.propertyIsEnumerable,z0=Object.getOwnPropertySymbols,uF=z0?function(t){return t==null?[]:(t=Object(t),oF(z0(t),function(e){return lF.call(t,e)}))}:sF,cF=uF;function fF(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var hF=fF;function dF(t){return t!=null&&typeof t=="object"}var uf=dF,pF=sf,mF=uf,gF="[object Arguments]";function vF(t){return mF(t)&&pF(t)==gF}var yF=vF,H0=yF,wF=uf,dk=Object.prototype,EF=dk.hasOwnProperty,_F=dk.propertyIsEnumerable,TF=H0(function(){return arguments}())?H0:function(t){return wF(t)&&EF.call(t,"callee")&&!_F.call(t,"callee")},SF=TF,Ju={exports:{}};function bF(){return!1}var kF=bF;Ju.exports;(function(t,e){var n=fr,r=kF,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Ju,Ju.exports);var pk=Ju.exports,OF=9007199254740991,NF=/^(?:0|[1-9]\d*)$/;function IF(t,e){var n=typeof t;return e=e??OF,!!e&&(n=="number"||n!="symbol"&&NF.test(t))&&t>-1&&t%1==0&&t<e}var CF=IF,AF=9007199254740991;function xF(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=AF}var mk=xF,RF=sf,PF=mk,LF=uf,DF="[object Arguments]",MF="[object Array]",$F="[object Boolean]",FF="[object Date]",jF="[object Error]",UF="[object Function]",BF="[object Map]",qF="[object Number]",VF="[object Object]",zF="[object RegExp]",HF="[object Set]",KF="[object String]",WF="[object WeakMap]",GF="[object ArrayBuffer]",QF="[object DataView]",YF="[object Float32Array]",XF="[object Float64Array]",JF="[object Int8Array]",ZF="[object Int16Array]",ej="[object Int32Array]",tj="[object Uint8Array]",nj="[object Uint8ClampedArray]",rj="[object Uint16Array]",ij="[object Uint32Array]",$e={};$e[YF]=$e[XF]=$e[JF]=$e[ZF]=$e[ej]=$e[tj]=$e[nj]=$e[rj]=$e[ij]=!0;$e[DF]=$e[MF]=$e[GF]=$e[$F]=$e[QF]=$e[FF]=$e[jF]=$e[UF]=$e[BF]=$e[qF]=$e[VF]=$e[zF]=$e[HF]=$e[KF]=$e[WF]=!1;function oj(t){return LF(t)&&PF(t.length)&&!!$e[RF(t)]}var sj=oj;function aj(t){return function(e){return t(e)}}var lj=aj,Zu={exports:{}};Zu.exports;(function(t,e){var n=sk,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Zu,Zu.exports);var uj=Zu.exports,cj=sj,fj=lj,K0=uj,W0=K0&&K0.isTypedArray,hj=W0?fj(W0):cj,gk=hj,dj=hF,pj=SF,mj=Pg,gj=pk,vj=CF,yj=gk,wj=Object.prototype,Ej=wj.hasOwnProperty;function _j(t,e){var n=mj(t),r=!n&&pj(t),i=!n&&!r&&gj(t),o=!n&&!r&&!i&&yj(t),s=n||r||i||o,a=s?dj(t.length,String):[],l=a.length;for(var u in t)(e||Ej.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vj(u,l)))&&a.push(u);return a}var Tj=_j,Sj=Object.prototype;function bj(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Sj;return t===n}var kj=bj;function Oj(t,e){return function(n){return t(e(n))}}var Nj=Oj,Ij=Nj,Cj=Ij(Object.keys,Object),Aj=Cj,xj=kj,Rj=Aj,Pj=Object.prototype,Lj=Pj.hasOwnProperty;function Dj(t){if(!xj(t))return Rj(t);var e=[];for(var n in Object(t))Lj.call(t,n)&&n!="constructor"&&e.push(n);return e}var Mj=Dj,$j=uk,Fj=mk;function jj(t){return t!=null&&Fj(t.length)&&!$j(t)}var Uj=jj,Bj=Tj,qj=Mj,Vj=Uj;function zj(t){return Vj(t)?Bj(t):qj(t)}var Hj=zj,Kj=eF,Wj=cF,Gj=Hj;function Qj(t){return Kj(t,Gj,Wj)}var Yj=Qj,G0=Yj,Xj=1,Jj=Object.prototype,Zj=Jj.hasOwnProperty;function e6(t,e,n,r,i,o){var s=n&Xj,a=G0(t),l=a.length,u=G0(e),f=u.length;if(l!=f&&!s)return!1;for(var h=l;h--;){var c=a[h];if(!(s?c in e:Zj.call(e,c)))return!1}var d=o.get(t),w=o.get(e);if(d&&w)return d==e&&w==t;var v=!0;o.set(t,e),o.set(e,t);for(var E=s;++h<l;){c=a[h];var m=t[c],p=e[c];if(r)var y=s?r(p,m,c,e,t,o):r(m,p,c,t,e,o);if(!(y===void 0?m===p||i(m,p,n,r,o):y)){v=!1;break}E||(E=c=="constructor")}if(v&&!E){var g=t.constructor,_=e.constructor;g!=_&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(v=!1)}return o.delete(t),o.delete(e),v}var t6=e6,n6=Qo,r6=fr,i6=n6(r6,"DataView"),o6=i6,s6=Qo,a6=fr,l6=s6(a6,"Promise"),u6=l6,c6=Qo,f6=fr,h6=c6(f6,"Set"),d6=h6,p6=Qo,m6=fr,g6=p6(m6,"WeakMap"),v6=g6,tp=o6,np=Rg,rp=u6,ip=d6,op=v6,vk=sf,Zo=ck,Q0="[object Map]",y6="[object Object]",Y0="[object Promise]",X0="[object Set]",J0="[object WeakMap]",Z0="[object DataView]",w6=Zo(tp),E6=Zo(np),_6=Zo(rp),T6=Zo(ip),S6=Zo(op),ni=vk;(tp&&ni(new tp(new ArrayBuffer(1)))!=Z0||np&&ni(new np)!=Q0||rp&&ni(rp.resolve())!=Y0||ip&&ni(new ip)!=X0||op&&ni(new op)!=J0)&&(ni=function(t){var e=vk(t),n=e==y6?t.constructor:void 0,r=n?Zo(n):"";if(r)switch(r){case w6:return Z0;case E6:return Q0;case _6:return Y0;case T6:return X0;case S6:return J0}return e});var b6=ni,ph=n9,k6=hk,O6=W9,N6=t6,e1=b6,t1=Pg,n1=pk,I6=gk,C6=1,r1="[object Arguments]",i1="[object Array]",Cl="[object Object]",A6=Object.prototype,o1=A6.hasOwnProperty;function x6(t,e,n,r,i,o){var s=t1(t),a=t1(e),l=s?i1:e1(t),u=a?i1:e1(e);l=l==r1?Cl:l,u=u==r1?Cl:u;var f=l==Cl,h=u==Cl,c=l==u;if(c&&n1(t)){if(!n1(e))return!1;s=!0,f=!1}if(c&&!f)return o||(o=new ph),s||I6(t)?k6(t,e,n,r,i,o):O6(t,e,l,n,r,i,o);if(!(n&C6)){var d=f&&o1.call(t,"__wrapped__"),w=h&&o1.call(e,"__wrapped__");if(d||w){var v=d?t.value():t,E=w?e.value():e;return o||(o=new ph),i(v,E,n,r,o)}}return c?(o||(o=new ph),N6(t,e,n,r,i,o)):!1}var R6=x6,P6=R6,s1=uf;function yk(t,e,n,r,i){return t===e?!0:t==null||e==null||!s1(t)&&!s1(e)?t!==t&&e!==e:P6(t,e,n,r,yk,i)}var L6=yk,D6=L6;function M6(t,e){return D6(t,e)}var $6=M6,wk={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Kt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),f=i(47),h=i(48),c=i(49),d=i(12),w=i(32),v=i(33),E=i(31),m=i(1),p={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:f.default,Inline:u.default,Text:c.default,Attributor:{Attribute:d.default,Class:w.default,Style:v.default,Store:E.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)p.hasOwnProperty(y)&&(m[y]=p[y])};return function(m,p){E(m,p);function y(){this.constructor=m}m.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(E){o(m,E);function m(p){var y=this;return p="[Parchment] "+p,y=E.call(this,p)||this,y.message=p,y.name=y.constructor.name,y}return m}(Error);r.ParchmentError=s;var a={},l={},u={},f={};r.DATA_KEY="__blot";var h;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function c(E,m){var p=w(E);if(p==null)throw new s("Unable to create "+E+" blot");var y=p,g=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:y.create(m);return new y(g,m)}r.create=c;function d(E,m){return m===void 0&&(m=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:m?d(E.parentNode,m):null}r.find=d;function w(E,m){m===void 0&&(m=h.ANY);var p;if(typeof E=="string")p=f[E]||a[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)p=f.text;else if(typeof E=="number")E&h.LEVEL&h.BLOCK?p=f.block:E&h.LEVEL&h.INLINE&&(p=f.inline);else if(E instanceof HTMLElement){var y=(E.getAttribute("class")||"").split(/\s+/);for(var g in y)if(p=l[y[g]],p)break;p=p||u[E.tagName]}return p==null?null:m&h.LEVEL&p.scope&&m&h.TYPE&p.scope?p:null}r.query=w;function v(){for(var E=[],m=0;m<arguments.length;m++)E[m]=arguments[m];if(E.length>1)return E.map(function(g){return v(g)});var p=E[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(f[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(g){return g.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var y=Array.isArray(p.tagName)?p.tagName:[p.tagName];y.forEach(function(g){(u[g]==null||p.className==null)&&(u[g]=p)})}return p}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u=String.fromCharCode(0),f=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};f.prototype.insert=function(h,c){var d={};return h.length===0?this:(d.insert=h,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d))},f.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},f.prototype.retain=function(h,c){if(h<=0)return this;var d={retain:h};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d)},f.prototype.push=function(h){var c=this.ops.length,d=this.ops[c-1];if(h=a(!0,{},h),typeof d=="object"){if(typeof h.delete=="number"&&typeof d.delete=="number")return this.ops[c-1]={delete:d.delete+h.delete},this;if(typeof d.delete=="number"&&h.insert!=null&&(c-=1,d=this.ops[c-1],typeof d!="object"))return this.ops.unshift(h),this;if(s(h.attributes,d.attributes)){if(typeof h.insert=="string"&&typeof d.insert=="string")return this.ops[c-1]={insert:d.insert+h.insert},typeof h.attributes=="object"&&(this.ops[c-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof d.retain=="number")return this.ops[c-1]={retain:d.retain+h.retain},typeof h.attributes=="object"&&(this.ops[c-1].attributes=h.attributes),this}}return c===this.ops.length?this.ops.push(h):this.ops.splice(c,0,h),this},f.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},f.prototype.filter=function(h){return this.ops.filter(h)},f.prototype.forEach=function(h){this.ops.forEach(h)},f.prototype.map=function(h){return this.ops.map(h)},f.prototype.partition=function(h){var c=[],d=[];return this.forEach(function(w){var v=h(w)?c:d;v.push(w)}),[c,d]},f.prototype.reduce=function(h,c){return this.ops.reduce(h,c)},f.prototype.changeLength=function(){return this.reduce(function(h,c){return c.insert?h+l.length(c):c.delete?h-c.delete:h},0)},f.prototype.length=function(){return this.reduce(function(h,c){return h+l.length(c)},0)},f.prototype.slice=function(h,c){h=h||0,typeof c!="number"&&(c=1/0);for(var d=[],w=l.iterator(this.ops),v=0;v<c&&w.hasNext();){var E;v<h?E=w.next(h-v):(E=w.next(c-v),d.push(E)),v+=l.length(E)}return new f(d)},f.prototype.compose=function(h){var c=l.iterator(this.ops),d=l.iterator(h.ops),w=[],v=d.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var E=v.retain;c.peekType()==="insert"&&c.peekLength()<=E;)E-=c.peekLength(),w.push(c.next());v.retain-E>0&&d.next(v.retain-E)}for(var m=new f(w);c.hasNext()||d.hasNext();)if(d.peekType()==="insert")m.push(d.next());else if(c.peekType()==="delete")m.push(c.next());else{var p=Math.min(c.peekLength(),d.peekLength()),y=c.next(p),g=d.next(p);if(typeof g.retain=="number"){var _={};typeof y.retain=="number"?_.retain=p:_.insert=y.insert;var b=l.attributes.compose(y.attributes,g.attributes,typeof y.retain=="number");if(b&&(_.attributes=b),m.push(_),!d.hasNext()&&s(m.ops[m.ops.length-1],_)){var T=new f(c.rest());return m.concat(T).chop()}}else typeof g.delete=="number"&&typeof y.retain=="number"&&m.push(g)}return m.chop()},f.prototype.concat=function(h){var c=new f(this.ops.slice());return h.ops.length>0&&(c.push(h.ops[0]),c.ops=c.ops.concat(h.ops.slice(1))),c},f.prototype.diff=function(h,c){if(this.ops===h.ops)return new f;var d=[this,h].map(function(p){return p.map(function(y){if(y.insert!=null)return typeof y.insert=="string"?y.insert:u;var g=p===h?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),w=new f,v=o(d[0],d[1],c),E=l.iterator(this.ops),m=l.iterator(h.ops);return v.forEach(function(p){for(var y=p[1].length;y>0;){var g=0;switch(p[0]){case o.INSERT:g=Math.min(m.peekLength(),y),w.push(m.next(g));break;case o.DELETE:g=Math.min(y,E.peekLength()),E.next(g),w.delete(g);break;case o.EQUAL:g=Math.min(E.peekLength(),m.peekLength(),y);var _=E.next(g),b=m.next(g);s(_.insert,b.insert)?w.retain(g,l.attributes.diff(_.attributes,b.attributes)):w.push(b).delete(g);break}y-=g}}),w.chop()},f.prototype.eachLine=function(h,c){c=c||`
`;for(var d=l.iterator(this.ops),w=new f,v=0;d.hasNext();){if(d.peekType()!=="insert")return;var E=d.peek(),m=l.length(E)-d.peekLength(),p=typeof E.insert=="string"?E.insert.indexOf(c,m)-m:-1;if(p<0)w.push(d.next());else if(p>0)w.push(d.next(p));else{if(h(w,d.next(1).attributes||{},v)===!1)return;v+=1,w=new f}}w.length()>0&&h(w,{},v)},f.prototype.transform=function(h,c){if(c=!!c,typeof h=="number")return this.transformPosition(h,c);for(var d=l.iterator(this.ops),w=l.iterator(h.ops),v=new f;d.hasNext()||w.hasNext();)if(d.peekType()==="insert"&&(c||w.peekType()!=="insert"))v.retain(l.length(d.next()));else if(w.peekType()==="insert")v.push(w.next());else{var E=Math.min(d.peekLength(),w.peekLength()),m=d.next(E),p=w.next(E);if(m.delete)continue;p.delete?v.push(p):v.retain(E,l.attributes.transform(m.attributes,p.attributes,c))}return v.chop()},f.prototype.transformPosition=function(h,c){c=!!c;for(var d=l.iterator(this.ops),w=0;d.hasNext()&&w<=h;){var v=d.peekLength(),E=d.peekType();if(d.next(),E==="delete"){h-=Math.min(v,h-w);continue}else E==="insert"&&(w<h||!c)&&(h+=v);w+=v}return h},n.exports=f},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},u=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var w=i.call(d,"constructor"),v=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!w&&!v)return!1;var E;for(E in d);return typeof E>"u"||i.call(d,E)},f=function(d,w){s&&w.name==="__proto__"?s(d,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):d[w.name]=w.newValue},h=function(d,w){if(w==="__proto__")if(i.call(d,w)){if(a)return a(d,w).value}else return;return d[w]};n.exports=function c(){var d,w,v,E,m,p,y=arguments[0],g=1,_=arguments.length,b=!1;for(typeof y=="boolean"&&(b=y,y=arguments[1]||{},g=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});g<_;++g)if(d=arguments[g],d!=null)for(w in d)v=h(y,w),E=h(d,w),y!==E&&(b&&E&&(u(E)||(m=l(E)))?(m?(m=!1,p=v&&l(v)?v:[]):p=v&&u(v)?v:{},f(y,{name:w,newValue:c(b,p,E)})):typeof E<"u"&&f(y,{name:w,newValue:E}));return y}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function S(N,C){for(var P=0;P<C.length;P++){var $=C[P];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(N,$.key,$)}}return function(N,C,P){return C&&S(N.prototype,C),P&&S(N,P),N}}(),s=function S(N,C,P){N===null&&(N=Function.prototype);var $=Object.getOwnPropertyDescriptor(N,C);if($===void 0){var z=Object.getPrototypeOf(N);return z===null?void 0:S(z,C,P)}else{if("value"in $)return $.value;var B=$.get;return B===void 0?void 0:B.call(P)}},a=i(3),l=y(a),u=i(2),f=y(u),h=i(0),c=y(h),d=i(16),w=y(d),v=i(6),E=y(v),m=i(7),p=y(m);function y(S){return S&&S.__esModule?S:{default:S}}function g(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function _(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function b(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var T=1,k=function(S){b(N,S);function N(){return g(this,N),_(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"attach",value:function(){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,$){var z=c.default.query(P,c.default.Scope.BLOCK_ATTRIBUTE);z!=null&&this.attributes.attribute(z,$)}},{key:"formatAt",value:function(P,$,z,B){this.format(z,B)}},{key:"insertAt",value:function(P,$,z){if(typeof $=="string"&&$.endsWith(`
`)){var B=c.default.create(A.blotName);this.parent.insertBefore(B,P===0?this:this.next),B.insertAt(0,$.slice(0,-1))}else s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,P,$,z)}}]),N}(c.default.Embed);k.scope=c.default.Scope.BLOCK_BLOT;var A=function(S){b(N,S);function N(C){g(this,N);var P=_(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C));return P.cache={},P}return o(N,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(P,$){return $.length()===0?P:P.insert($.value(),O($))},new f.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(P,$){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,P,$),this.cache={}}},{key:"formatAt",value:function(P,$,z,B){$<=0||(c.default.query(z,c.default.Scope.BLOCK)?P+$===this.length()&&this.format(z,B):s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,P,Math.min($,this.length()-P-1),z,B),this.cache={})}},{key:"insertAt",value:function(P,$,z){if(z!=null)return s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,P,$,z);if($.length!==0){var B=$.split(`
`),H=B.shift();H.length>0&&(P<this.length()-1||this.children.tail==null?s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),H):this.children.tail.insertAt(this.children.tail.length(),H),this.cache={});var F=this;B.reduce(function(L,I){return F=F.split(L,!0),F.insertAt(0,I),I.length},P+H.length)}}},{key:"insertBefore",value:function(P,$){var z=this.children.head;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,P,$),z instanceof w.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(P,$){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"moveChildren",this).call(this,P,$),this.cache={}}},{key:"optimize",value:function(P){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($&&(P===0||P>=this.length()-T)){var z=this.clone();return P===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}else{var B=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"split",this).call(this,P,$);return this.cache={},B}}}]),N}(c.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[E.default,c.default.Embed,p.default];function O(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(N=(0,l.default)(N,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?N:O(S.parent,N)}r.bubbleFormats=O,r.BlockEmbed=k,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s=function(){function F(L,I){var R=[],M=!0,V=!1,q=void 0;try{for(var x=L[Symbol.iterator](),U;!(M=(U=x.next()).done)&&(R.push(U.value),!(I&&R.length===I));M=!0);}catch(K){V=!0,q=K}finally{try{!M&&x.return&&x.return()}finally{if(V)throw q}}return R}return function(L,I){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return F(L,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function F(L,I){for(var R=0;R<I.length;R++){var M=I[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(L,M.key,M)}}return function(L,I,R){return I&&F(L.prototype,I),R&&F(L,R),L}}();i(50);var l=i(2),u=O(l),f=i(14),h=O(f),c=i(8),d=O(c),w=i(9),v=O(w),E=i(0),m=O(E),p=i(15),y=O(p),g=i(3),_=O(g),b=i(10),T=O(b),k=i(34),A=O(k);function O(F){return F&&F.__esModule?F:{default:F}}function S(F,L,I){return L in F?Object.defineProperty(F,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):F[L]=I,F}function N(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}var C=(0,T.default)("quill"),P=function(){a(F,null,[{key:"debug",value:function(I){I===!0&&(I="log"),T.default.level(I)}},{key:"find",value:function(I){return I.__quill||m.default.find(I)}},{key:"import",value:function(I){return this.imports[I]==null&&C.error("Cannot import "+I+". Are you sure it was registered?"),this.imports[I]}},{key:"register",value:function(I,R){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof I!="string"){var q=I.attrName||I.blotName;typeof q=="string"?this.register("formats/"+q,I,R):Object.keys(I).forEach(function(x){M.register(x,I[x],R)})}else this.imports[I]!=null&&!V&&C.warn("Overwriting "+I+" with",R),this.imports[I]=R,(I.startsWith("blots/")||I.startsWith("formats/"))&&R.blotName!=="abstract"?m.default.register(R):I.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function F(L){var I=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,F),this.options=$(L,R),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",L);this.options.debug&&F.debug(this.options.debug);var M=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new y.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(q){q===d.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(q,x){var U=I.selection.lastRange,K=U&&U.length===0?U.index:void 0;z.call(I,function(){return I.editor.update(null,x,K)},q)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+M+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(F,[{key:"addContainer",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof I=="string"){var M=I;I=document.createElement("div"),I.classList.add(M)}return this.container.insertBefore(I,R),I}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(I,R,M){var V=this,q=B(I,R,M),x=s(q,4);return I=x[0],R=x[1],M=x[3],z.call(this,function(){return V.editor.deleteText(I,R)},M,I,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(I),this.container.classList.toggle("ql-disabled",!I)}},{key:"focus",value:function(){var I=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=I,this.scrollIntoView()}},{key:"format",value:function(I,R){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return z.call(this,function(){var q=M.getSelection(!0),x=new u.default;if(q==null)return x;if(m.default.query(I,m.default.Scope.BLOCK))x=M.editor.formatLine(q.index,q.length,S({},I,R));else{if(q.length===0)return M.selection.format(I,R),x;x=M.editor.formatText(q.index,q.length,S({},I,R))}return M.setSelection(q,d.default.sources.SILENT),x},V)}},{key:"formatLine",value:function(I,R,M,V,q){var x=this,U=void 0,K=B(I,R,M,V,q),W=s(K,4);return I=W[0],R=W[1],U=W[2],q=W[3],z.call(this,function(){return x.editor.formatLine(I,R,U)},q,I,0)}},{key:"formatText",value:function(I,R,M,V,q){var x=this,U=void 0,K=B(I,R,M,V,q),W=s(K,4);return I=W[0],R=W[1],U=W[2],q=W[3],z.call(this,function(){return x.editor.formatText(I,R,U)},q,I,0)}},{key:"getBounds",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=void 0;typeof I=="number"?M=this.selection.getBounds(I,R):M=this.selection.getBounds(I.index,I.length);var V=this.container.getBoundingClientRect();return{bottom:M.bottom-V.top,height:M.height,left:M.left-V.left,right:M.right-V.left,top:M.top-V.top,width:M.width}}},{key:"getContents",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,M=B(I,R),V=s(M,2);return I=V[0],R=V[1],this.editor.getContents(I,R)}},{key:"getFormat",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof I=="number"?this.editor.getFormat(I,R):this.editor.getFormat(I.index,I.length)}},{key:"getIndex",value:function(I){return I.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(I){return this.scroll.leaf(I)}},{key:"getLine",value:function(I){return this.scroll.line(I)}},{key:"getLines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof I!="number"?this.scroll.lines(I.index,I.length):this.scroll.lines(I,R)}},{key:"getModule",value:function(I){return this.theme.modules[I]}},{key:"getSelection",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return I&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,M=B(I,R),V=s(M,2);return I=V[0],R=V[1],this.editor.getText(I,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(I,R,M){var V=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F.sources.API;return z.call(this,function(){return V.editor.insertEmbed(I,R,M)},q,I)}},{key:"insertText",value:function(I,R,M,V,q){var x=this,U=void 0,K=B(I,0,M,V,q),W=s(K,4);return I=W[0],U=W[2],q=W[3],z.call(this,function(){return x.editor.insertText(I,R,U)},q,I,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(I,R,M){this.clipboard.dangerouslyPasteHTML(I,R,M)}},{key:"removeFormat",value:function(I,R,M){var V=this,q=B(I,R,M),x=s(q,4);return I=x[0],R=x[1],M=x[3],z.call(this,function(){return V.editor.removeFormat(I,R)},M,I)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(I){var R=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return z.call(this,function(){I=new u.default(I);var V=R.getLength(),q=R.editor.deleteText(0,V),x=R.editor.applyDelta(I),U=x.ops[x.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),x.delete(1));var K=q.compose(x);return K},M)}},{key:"setSelection",value:function(I,R,M){if(I==null)this.selection.setRange(null,R||F.sources.API);else{var V=B(I,R,M),q=s(V,4);I=q[0],R=q[1],M=q[3],this.selection.setRange(new p.Range(I,R),M),M!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,M=new u.default().insert(I);return this.setContents(M,R)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,R=this.scroll.update(I);return this.selection.update(I),R}},{key:"updateContents",value:function(I){var R=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return z.call(this,function(){return I=new u.default(I),R.editor.applyDelta(I,M)},M,!0)}}]),F}();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=d.default.events,P.sources=d.default.sources,P.version="1.3.7",P.imports={delta:u.default,parchment:m.default,"core/module":v.default,"core/theme":A.default};function $(F,L){if(L=(0,_.default)(!0,{container:F,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===P.DEFAULTS.theme)L.theme=A.default;else if(L.theme=P.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var I=(0,_.default)(!0,{},L.theme.DEFAULTS);[I,L].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(q){V.modules[q]===!0&&(V.modules[q]={})})});var R=Object.keys(I.modules).concat(Object.keys(L.modules)),M=R.reduce(function(V,q){var x=P.import("modules/"+q);return x==null?C.error("Cannot load "+q+" module. Are you sure you registered it?"):V[q]=x.DEFAULTS||{},V},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,_.default)(!0,{},P.DEFAULTS,{modules:M},I,L),["bounds","container","scrollingContainer"].forEach(function(V){typeof L[V]=="string"&&(L[V]=document.querySelector(L[V]))}),L.modules=Object.keys(L.modules).reduce(function(V,q){return L.modules[q]&&(V[q]=L.modules[q]),V},{}),L}function z(F,L,I,R){if(this.options.strict&&!this.isEnabled()&&L===d.default.sources.USER)return new u.default;var M=I==null?null:this.getSelection(),V=this.editor.delta,q=F();if(M!=null&&(I===!0&&(I=M.index),R==null?M=H(M,q,L):R!==0&&(M=H(M,I,R,L)),this.setSelection(M,d.default.sources.SILENT)),q.length()>0){var x,U=[d.default.events.TEXT_CHANGE,q,V,L];if((x=this.emitter).emit.apply(x,[d.default.events.EDITOR_CHANGE].concat(U)),L!==d.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,U)}}return q}function B(F,L,I,R,M){var V={};return typeof F.index=="number"&&typeof F.length=="number"?typeof L!="number"?(M=R,R=I,I=L,L=F.length,F=F.index):(L=F.length,F=F.index):typeof L!="number"&&(M=R,R=I,I=L,L=0),(typeof I>"u"?"undefined":o(I))==="object"?(V=I,M=R):typeof I=="string"&&(R!=null?V[I]=R:M=I),M=M||d.default.sources.API,[F,L,V,M]}function H(F,L,I,R){if(F==null)return null;var M=void 0,V=void 0;if(L instanceof u.default){var q=[F.index,F.index+F.length].map(function(W){return L.transformPosition(W,R!==d.default.sources.USER)}),x=s(q,2);M=x[0],V=x[1]}else{var U=[F.index,F.index+F.length].map(function(W){return W<L||W===L&&R===d.default.sources.USER?W:I>=0?W+I:Math.max(L,W+I)}),K=s(U,2);M=K[0],V=K[1]}return new p.Range(M,V-M)}r.expandConfig=$,r.overload=B,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),s=function E(m,p,y){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,y)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(y)}},a=i(7),l=h(a),u=i(0),f=h(u);function h(E){return E&&E.__esModule?E:{default:E}}function c(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function d(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function w(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var v=function(E){w(m,E);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"formatAt",value:function(y,g,_,b){if(m.compare(this.statics.blotName,_)<0&&f.default.query(_,f.default.Scope.BLOT)){var T=this.isolate(y,g);b&&T.wrap(_,b)}else s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,y,g,_,b)}},{key:"optimize",value:function(y){if(s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,y),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(y,g){var _=m.order.indexOf(y),b=m.order.indexOf(g);return _>=0||b>=0?_-b:y===g?0:y<g?-1:1}}]),m}(f.default.Inline);v.allowedChildren=[v,f.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(y,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,g,_){return g&&p(y.prototype,g),_&&p(y,_),y}}(),s=function p(y,g,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,g);if(b===void 0){var T=Object.getPrototypeOf(y);return T===null?void 0:p(T,g,_)}else{if("value"in b)return b.value;var k=b.get;return k===void 0?void 0:k.call(_)}},a=i(54),l=h(a),u=i(10),f=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function c(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function d(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function w(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var v=(0,f.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(p){document.addEventListener(p,function(){for(var y=arguments.length,g=Array(y),_=0;_<y;_++)g[_]=arguments[_];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(b){if(b.__quill&&b.__quill.emitter){var T;(T=b.__quill.emitter).handleDOM.apply(T,g)}})})});var m=function(p){w(y,p);function y(){c(this,y);var g=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return g.listeners={},g.on("error",v.error),g}return o(y,[{key:"emit",value:function(){v.log.apply(v,arguments),s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(_){for(var b=arguments.length,T=Array(b>1?b-1:0),k=1;k<b;k++)T[k-1]=arguments[k];(this.listeners[_.type]||[]).forEach(function(A){var O=A.node,S=A.handler;(_.target===O||O.contains(_.target))&&S.apply(void 0,[_].concat(T))})}},{key:"listenDOM",value:function(_,b,T){this.listeners[_]||(this.listeners[_]=[]),this.listeners[_].push({node:b,handler:T})}}]),y}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var f,h=arguments.length,c=Array(h>1?h-1:0),d=1;d<h;d++)c[d-1]=arguments[d];(f=console)[u].apply(f,c)}}function l(u){return o.reduce(function(f,h){return f[h]=a.bind(console,h,u),f},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(c,d,w){return w||(w={}),c===d?!0:c instanceof Date&&d instanceof Date?c.getTime()===d.getTime():!c||!d||typeof c!="object"&&typeof d!="object"?w.strict?c===d:c==d:h(c,d,w)};function u(c){return c==null}function f(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function h(c,d,w){var v,E;if(u(c)||u(d)||c.prototype!==d.prototype)return!1;if(a(c))return a(d)?(c=o.call(c),d=o.call(d),l(c,d,w)):!1;if(f(c)){if(!f(d)||c.length!==d.length)return!1;for(v=0;v<c.length;v++)if(c[v]!==d[v])return!1;return!0}try{var m=s(c),p=s(d)}catch{return!1}if(m.length!=p.length)return!1;for(m.sort(),p.sort(),v=m.length-1;v>=0;v--)if(m[v]!=p[v])return!1;for(v=m.length-1;v>=0;v--)if(E=m[v],!l(c[E],d[E],w))return!1;return typeof c==typeof d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,f){f===void 0&&(f={}),this.attrName=l,this.keyName=u;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var f=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function k(A,O){var S=[],N=!0,C=!1,P=void 0;try{for(var $=A[Symbol.iterator](),z;!(N=(z=$.next()).done)&&(S.push(z.value),!(O&&S.length===O));N=!0);}catch(B){C=!0,P=B}finally{try{!N&&$.return&&$.return()}finally{if(C)throw P}}return S}return function(A,O){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(A,O){for(var S=0;S<O.length;S++){var N=O[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,O,S){return O&&k(A.prototype,O),S&&k(A,S),A}}(),a=function k(A,O,S){A===null&&(A=Function.prototype);var N=Object.getOwnPropertyDescriptor(A,O);if(N===void 0){var C=Object.getPrototypeOf(A);return C===null?void 0:k(C,O,S)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(S)}},l=i(2),u=p(l),f=i(0),h=p(f),c=i(4),d=p(c),w=i(6),v=p(w),E=i(7),m=p(E);function p(k){return k&&k.__esModule?k:{default:k}}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function g(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function _(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var b=function(k){_(A,k);function A(){return y(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(v.default);b.blotName="code",b.tagName="CODE";var T=function(k){_(A,k);function A(){return y(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"delta",value:function(){var S=this,N=this.domNode.textContent;return N.endsWith(`
`)&&(N=N.slice(0,-1)),N.split(`
`).reduce(function(C,P){return C.insert(P).insert(`
`,S.formats())},new u.default)}},{key:"format",value:function(S,N){if(!(S===this.statics.blotName&&N)){var C=this.descendant(m.default,this.length()-1),P=o(C,1),$=P[0];$!=null&&$.deleteAt($.length()-1,1),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,S,N)}}},{key:"formatAt",value:function(S,N,C,P){if(N!==0&&!(h.default.query(C,h.default.Scope.BLOCK)==null||C===this.statics.blotName&&P===this.statics.formats(this.domNode))){var $=this.newlineIndex(S);if(!($<0||$>=S+N)){var z=this.newlineIndex(S,!0)+1,B=$-z+1,H=this.isolate(z,B),F=H.next;H.format(C,P),F instanceof A&&F.formatAt(0,S-z+N-B,C,P)}}}},{key:"insertAt",value:function(S,N,C){if(C==null){var P=this.descendant(m.default,S),$=o(P,2),z=$[0],B=$[1];z.insertAt(B,N)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var C=this.domNode.textContent.slice(S).indexOf(`
`);return C>-1?S+C:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,S);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===N.statics.formats(N.domNode)&&(N.optimize(S),N.moveChildren(this),N.remove())}},{key:"replace",value:function(S){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(N){var C=h.default.find(N);C==null?N.parentNode.removeChild(N):C instanceof h.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(S){var N=a(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,S);return N.setAttribute("spellcheck",!1),N}},{key:"formats",value:function(){return!0}}]),A}(d.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",r.Code=b,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s=function(){function F(L,I){var R=[],M=!0,V=!1,q=void 0;try{for(var x=L[Symbol.iterator](),U;!(M=(U=x.next()).done)&&(R.push(U.value),!(I&&R.length===I));M=!0);}catch(K){V=!0,q=K}finally{try{!M&&x.return&&x.return()}finally{if(V)throw q}}return R}return function(L,I){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return F(L,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function F(L,I){for(var R=0;R<I.length;R++){var M=I[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(L,M.key,M)}}return function(L,I,R){return I&&F(L.prototype,I),R&&F(L,R),L}}(),l=i(2),u=N(l),f=i(20),h=N(f),c=i(0),d=N(c),w=i(13),v=N(w),E=i(24),m=N(E),p=i(4),y=N(p),g=i(16),_=N(g),b=i(21),T=N(b),k=i(11),A=N(k),O=i(3),S=N(O);function N(F){return F&&F.__esModule?F:{default:F}}function C(F,L,I){return L in F?Object.defineProperty(F,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):F[L]=I,F}function P(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}var $=/^[ -~]*$/,z=function(){function F(L){P(this,F),this.scroll=L,this.delta=this.getDelta()}return a(F,[{key:"applyDelta",value:function(I){var R=this,M=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),I=H(I),I.reduce(function(q,x){var U=x.retain||x.delete||x.insert.length||1,K=x.attributes||{};if(x.insert!=null){if(typeof x.insert=="string"){var W=x.insert;W.endsWith(`
`)&&M&&(M=!1,W=W.slice(0,-1)),q>=V&&!W.endsWith(`
`)&&(M=!0),R.scroll.insertAt(q,W);var Y=R.scroll.line(q),te=s(Y,2),ce=te[0],de=te[1],ue=(0,S.default)({},(0,p.bubbleFormats)(ce));if(ce instanceof y.default){var Te=ce.descendant(d.default.Leaf,de),at=s(Te,1),ze=at[0];ue=(0,S.default)(ue,(0,p.bubbleFormats)(ze))}K=h.default.attributes.diff(ue,K)||{}}else if(o(x.insert)==="object"){var G=Object.keys(x.insert)[0];if(G==null)return q;R.scroll.insertAt(q,G,x.insert[G])}V+=U}return Object.keys(K).forEach(function(Q){R.scroll.formatAt(q,U,Q,K[Q])}),q+U},0),I.reduce(function(q,x){return typeof x.delete=="number"?(R.scroll.deleteAt(q,x.delete),q):q+(x.retain||x.insert.length||1)},0),this.scroll.batchEnd(),this.update(I)}},{key:"deleteText",value:function(I,R){return this.scroll.deleteAt(I,R),this.update(new u.default().retain(I).delete(R))}},{key:"formatLine",value:function(I,R){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(q){if(!(M.scroll.whitelist!=null&&!M.scroll.whitelist[q])){var x=M.scroll.lines(I,Math.max(R,1)),U=R;x.forEach(function(K){var W=K.length();if(!(K instanceof v.default))K.format(q,V[q]);else{var Y=I-K.offset(M.scroll),te=K.newlineIndex(Y+U)-Y+1;K.formatAt(Y,te,q,V[q])}U-=W})}}),this.scroll.optimize(),this.update(new u.default().retain(I).retain(R,(0,T.default)(V)))}},{key:"formatText",value:function(I,R){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(q){M.scroll.formatAt(I,R,q,V[q])}),this.update(new u.default().retain(I).retain(R,(0,T.default)(V)))}},{key:"getContents",value:function(I,R){return this.delta.slice(I,I+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(I,R){return I.concat(R.delta())},new u.default)}},{key:"getFormat",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=[],V=[];R===0?this.scroll.path(I).forEach(function(x){var U=s(x,1),K=U[0];K instanceof y.default?M.push(K):K instanceof d.default.Leaf&&V.push(K)}):(M=this.scroll.lines(I,R),V=this.scroll.descendants(d.default.Leaf,I,R));var q=[M,V].map(function(x){if(x.length===0)return{};for(var U=(0,p.bubbleFormats)(x.shift());Object.keys(U).length>0;){var K=x.shift();if(K==null)return U;U=B((0,p.bubbleFormats)(K),U)}return U});return S.default.apply(S.default,q)}},{key:"getText",value:function(I,R){return this.getContents(I,R).filter(function(M){return typeof M.insert=="string"}).map(function(M){return M.insert}).join("")}},{key:"insertEmbed",value:function(I,R,M){return this.scroll.insertAt(I,R,M),this.update(new u.default().retain(I).insert(C({},R,M)))}},{key:"insertText",value:function(I,R){var M=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(I,R),Object.keys(V).forEach(function(q){M.scroll.formatAt(I,R.length,q,V[q])}),this.update(new u.default().retain(I).insert(R,(0,T.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var I=this.scroll.children.head;return I.statics.blotName!==y.default.blotName||I.children.length>1?!1:I.children.head instanceof _.default}},{key:"removeFormat",value:function(I,R){var M=this.getText(I,R),V=this.scroll.line(I+R),q=s(V,2),x=q[0],U=q[1],K=0,W=new u.default;x!=null&&(x instanceof v.default?K=x.newlineIndex(U)-U+1:K=x.length()-U,W=x.delta().slice(U,U+K-1).insert(`
`));var Y=this.getContents(I,R+K),te=Y.diff(new u.default().insert(M).concat(W)),ce=new u.default().retain(I).concat(te);return this.applyDelta(ce)}},{key:"update",value:function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match($)&&d.default.find(R[0].target)){var q=d.default.find(R[0].target),x=(0,p.bubbleFormats)(q),U=q.offset(this.scroll),K=R[0].oldValue.replace(m.default.CONTENTS,""),W=new u.default().insert(K),Y=new u.default().insert(q.value()),te=new u.default().retain(U).concat(W.diff(Y,M));I=te.reduce(function(ce,de){return de.insert?ce.insert(de.insert,x):ce.push(de)},new u.default),this.delta=V.compose(I)}else this.delta=this.getDelta(),(!I||!(0,A.default)(V.compose(I),this.delta))&&(I=V.diff(this.delta,M));return I}}]),F}();function B(F,L){return Object.keys(L).reduce(function(I,R){return F[R]==null||(L[R]===F[R]?I[R]=L[R]:Array.isArray(L[R])?L[R].indexOf(F[R])<0&&(I[R]=L[R].concat([F[R]])):I[R]=[L[R],F[R]]),I},{})}function H(F){return F.reduce(function(L,I){if(I.insert===1){var R=(0,T.default)(I.attributes);return delete R.image,L.insert({image:I.attributes.image},R)}if(I.attributes!=null&&(I.attributes.list===!0||I.attributes.bullet===!0)&&(I=(0,T.default)(I),I.attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),typeof I.insert=="string"){var M=I.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert(M,I.attributes)}return L.push(I)},new u.default)}r.default=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function k(A,O){var S=[],N=!0,C=!1,P=void 0;try{for(var $=A[Symbol.iterator](),z;!(N=(z=$.next()).done)&&(S.push(z.value),!(O&&S.length===O));N=!0);}catch(B){C=!0,P=B}finally{try{!N&&$.return&&$.return()}finally{if(C)throw P}}return S}return function(A,O){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(A,O){for(var S=0;S<O.length;S++){var N=O[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}}return function(A,O,S){return O&&k(A.prototype,O),S&&k(A,S),A}}(),a=i(0),l=m(a),u=i(21),f=m(u),h=i(11),c=m(h),d=i(8),w=m(d),v=i(10),E=m(v);function m(k){return k&&k.__esModule?k:{default:k}}function p(k){if(Array.isArray(k)){for(var A=0,O=Array(k.length);A<k.length;A++)O[A]=k[A];return O}else return Array.from(k)}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}var g=(0,E.default)("quill:selection"),_=function k(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;y(this,k),this.index=A,this.length=O},b=function(){function k(A,O){var S=this;y(this,k),this.emitter=O,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new _(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(N,C){N===w.default.events.TEXT_CHANGE&&C.length()>0&&S.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var N=S.getNativeRange();N!=null&&N.start.node!==S.cursor.textNode&&S.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(N,C){if(C.range){var P=C.range,$=P.startNode,z=P.startOffset,B=P.endNode,H=P.endOffset;S.setNativeRange($,z,B,H)}}),this.update(w.default.sources.SILENT)}return s(k,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var S=O.cursor.restore();if(!S)return;setTimeout(function(){O.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var N=this.getNativeRange();if(!(N==null||!N.native.collapsed||l.default.query(O,l.default.Scope.BLOCK))){if(N.start.node!==this.cursor.textNode){var C=l.default.find(N.start.node,!1);if(C==null)return;if(C instanceof l.default.Leaf){var P=C.split(N.start.offset);C.parent.insertBefore(this.cursor,P)}else C.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(O,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();O=Math.min(O,N-1),S=Math.min(O+S,N-1)-O;var C=void 0,P=this.scroll.leaf(O),$=o(P,2),z=$[0],B=$[1];if(z==null)return null;var H=z.position(B,!0),F=o(H,2);C=F[0],B=F[1];var L=document.createRange();if(S>0){L.setStart(C,B);var I=this.scroll.leaf(O+S),R=o(I,2);if(z=R[0],B=R[1],z==null)return null;var M=z.position(B,!0),V=o(M,2);return C=V[0],B=V[1],L.setEnd(C,B),L.getBoundingClientRect()}else{var q="left",x=void 0;return C instanceof Text?(B<C.data.length?(L.setStart(C,B),L.setEnd(C,B+1)):(L.setStart(C,B-1),L.setEnd(C,B),q="right"),x=L.getBoundingClientRect()):(x=z.domNode.getBoundingClientRect(),B>0&&(q="right")),{bottom:x.top+x.height,height:x.height,left:x[q],right:x[q],top:x.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var S=O.getRangeAt(0);if(S==null)return null;var N=this.normalizeNative(S);return g.info("getNativeRange",N),N}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var S=this.normalizedToRange(O);return[S,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var S=this,N=[[O.start.node,O.start.offset]];O.native.collapsed||N.push([O.end.node,O.end.offset]);var C=N.map(function(z){var B=o(z,2),H=B[0],F=B[1],L=l.default.find(H,!0),I=L.offset(S.scroll);return F===0?I:L instanceof l.default.Container?I+L.length():I+L.index(H,F)}),P=Math.min(Math.max.apply(Math,p(C)),this.scroll.length()-1),$=Math.min.apply(Math,[P].concat(p(C)));return new _($,P-$)}},{key:"normalizeNative",value:function(O){if(!T(this.root,O.startContainer)||!O.collapsed&&!T(this.root,O.endContainer))return null;var S={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[S.start,S.end].forEach(function(N){for(var C=N.node,P=N.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>P)C=C.childNodes[P],P=0;else if(C.childNodes.length===P)C=C.lastChild,P=C instanceof Text?C.data.length:C.childNodes.length+1;else break;N.node=C,N.offset=P}),S}},{key:"rangeToNative",value:function(O){var S=this,N=O.collapsed?[O.index]:[O.index,O.index+O.length],C=[],P=this.scroll.length();return N.forEach(function($,z){$=Math.min(P-1,$);var B=void 0,H=S.scroll.leaf($),F=o(H,2),L=F[0],I=F[1],R=L.position(I,z!==0),M=o(R,2);B=M[0],I=M[1],C.push(B,I)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(O){var S=this.lastRange;if(S!=null){var N=this.getBounds(S.index,S.length);if(N!=null){var C=this.scroll.length()-1,P=this.scroll.line(Math.min(S.index,C)),$=o(P,1),z=$[0],B=z;if(S.length>0){var H=this.scroll.line(Math.min(S.index+S.length,C)),F=o(H,1);B=F[0]}if(!(z==null||B==null)){var L=O.getBoundingClientRect();N.top<L.top?O.scrollTop-=L.top-N.top:N.bottom>L.bottom&&(O.scrollTop+=N.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(O,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",O,S,N,C),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||N.parentNode==null))){var $=document.getSelection();if($!=null)if(O!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||P||O!==z.startContainer||S!==z.startOffset||N!==z.endContainer||C!==z.endOffset){O.tagName=="BR"&&(S=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),N.tagName=="BR"&&(C=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var B=document.createRange();B.setStart(O,S),B.setEnd(N,C),$.removeAllRanges(),$.addRange(B)}}else $.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof S=="string"&&(N=S,S=!1),g.info("setRange",O),O!=null){var C=this.rangeToNative(O);this.setNativeRange.apply(this,p(C).concat([S]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,S=this.lastRange,N=this.getRange(),C=o(N,2),P=C[0],$=C[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(S,this.lastRange)){var z;!this.composing&&$!=null&&$.native.collapsed&&$.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[w.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(S),O];if((z=this.emitter).emit.apply(z,[w.default.events.EDITOR_CHANGE].concat(B)),O!==w.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,B)}}}}]),k}();function T(k,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),k.contains(A)}r.Range=_,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(0),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(m,p){m.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,m,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var w in d)d.hasOwnProperty(w)&&(c[w]=d[w])};return function(c,d){h(c,d);function w(){this.constructor=c}c.prototype=d===null?Object.create(d):(w.prototype=d.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(h){o(c,h);function c(d){var w=h.call(this,d)||this;return w.build(),w}return c.prototype.appendChild=function(d){this.insertBefore(d)},c.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},c.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var v=f(w);d.insertBefore(v,d.children.head||void 0)}catch(E){if(E instanceof l.ParchmentError)return;throw E}})},c.prototype.deleteAt=function(d,w){if(d===0&&w===this.length())return this.remove();this.children.forEachAt(d,w,function(v,E,m){v.deleteAt(E,m)})},c.prototype.descendant=function(d,w){var v=this.children.find(w),E=v[0],m=v[1];return d.blotName==null&&d(E)||d.blotName!=null&&E instanceof d?[E,m]:E instanceof c?E.descendant(d,m):[null,-1]},c.prototype.descendants=function(d,w,v){w===void 0&&(w=0),v===void 0&&(v=Number.MAX_VALUE);var E=[],m=v;return this.children.forEachAt(w,v,function(p,y,g){(d.blotName==null&&d(p)||d.blotName!=null&&p instanceof d)&&E.push(p),p instanceof c&&(E=E.concat(p.descendants(d,y,m))),m-=g}),E},c.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),h.prototype.detach.call(this)},c.prototype.formatAt=function(d,w,v,E){this.children.forEachAt(d,w,function(m,p,y){m.formatAt(p,y,v,E)})},c.prototype.insertAt=function(d,w,v){var E=this.children.find(d),m=E[0],p=E[1];if(m)m.insertAt(p,w,v);else{var y=v==null?l.create("text",w):l.create(w,v);this.appendChild(y)}},c.prototype.insertBefore=function(d,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return d instanceof v}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,w)},c.prototype.length=function(){return this.children.reduce(function(d,w){return d+w.length()},0)},c.prototype.moveChildren=function(d,w){this.children.forEach(function(v){d.insertBefore(v,w)})},c.prototype.optimize=function(d){if(h.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var w=l.create(this.statics.defaultChild);this.appendChild(w),w.optimize(d)}else this.remove()},c.prototype.path=function(d,w){w===void 0&&(w=!1);var v=this.children.find(d,w),E=v[0],m=v[1],p=[[this,d]];return E instanceof c?p.concat(E.path(m,w)):(E!=null&&p.push([E,m]),p)},c.prototype.removeChild=function(d){this.children.remove(d)},c.prototype.replace=function(d){d instanceof c&&d.moveChildren(this),h.prototype.replace.call(this,d)},c.prototype.split=function(d,w){if(w===void 0&&(w=!1),!w){if(d===0)return this;if(d===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(d,this.length(),function(E,m,p){E=E.split(m,w),v.appendChild(E)}),v},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(d,w){var v=this,E=[],m=[];d.forEach(function(p){p.target===v.domNode&&p.type==="childList"&&(E.push.apply(E,p.addedNodes),m.push.apply(m,p.removedNodes))}),m.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var y=l.find(p);y!=null&&(y.domNode.parentNode==null||y.domNode.parentNode===v.domNode)&&y.detach()}}),E.filter(function(p){return p.parentNode==v.domNode}).sort(function(p,y){return p===y?0:p.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var y=null;p.nextSibling!=null&&(y=l.find(p.nextSibling));var g=f(p);(g.next!=y||g.next==null)&&(g.parent!=null&&g.parent.removeChild(v),v.insertBefore(g,y||void 0))})},c}(a.default);function f(h){var c=l.find(h);if(c==null)try{c=l.create(h)}catch{c=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(w){c.domNode.appendChild(w)}),h.parentNode&&h.parentNode.replaceChild(c.domNode,h),c.attach()}return c}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var w in d)d.hasOwnProperty(w)&&(c[w]=d[w])};return function(c,d){h(c,d);function w(){this.constructor=c}c.prototype=d===null?Object.create(d):(w.prototype=d.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),f=function(h){o(c,h);function c(d){var w=h.call(this,d)||this;return w.attributes=new a.default(w.domNode),w}return c.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},c.prototype.format=function(d,w){var v=u.query(d);v instanceof s.default?this.attributes.attribute(v,w):w&&v!=null&&(d!==this.statics.blotName||this.formats()[d]!==w)&&this.replaceWith(d,w)},c.prototype.formats=function(){var d=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(d[this.statics.blotName]=w),d},c.prototype.replaceWith=function(d,w){var v=h.prototype.replaceWith.call(this,d,w);return this.attributes.copy(v),v},c.prototype.update=function(d,w){var v=this;h.prototype.update.call(this,d,w),d.some(function(E){return E.target===v.domNode&&E.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(d,w){var v=h.prototype.wrap.call(this,d,w);return v instanceof c&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},c}(l.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.value=function(h){return!0},f.prototype.index=function(h,c){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},f.prototype.position=function(h,c){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(d+=1),[this.parent.domNode,d]},f.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},f.scope=a.Scope.INLINE_BLOT,f}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,f,h){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var c=s(!0,{},f);h||(c=Object.keys(c).reduce(function(w,v){return c[v]!=null&&(w[v]=c[v]),w},{}));for(var d in u)u[d]!==void 0&&f[d]===void 0&&(c[d]=u[d]);return Object.keys(c).length>0?c:void 0},diff:function(u,f){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var h=Object.keys(u).concat(Object.keys(f)).reduce(function(c,d){return o(u[d],f[d])||(c[d]=f[d]===void 0?null:f[d]),c},{});return Object.keys(h).length>0?h:void 0},transform:function(u,f,h){if(typeof u!="object")return f;if(typeof f=="object"){if(!h)return f;var c=Object.keys(f).reduce(function(d,w){return u[w]===void 0&&(d[w]=f[w]),d},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var f=this.ops[this.index];if(f){var h=this.offset,c=a.length(f);if(u>=c-h?(u=c-h,this.index+=1,this.offset=0):this.offset+=u,typeof f.delete=="number")return{delete:u};var d={};return f.attributes&&(d.attributes=f.attributes),typeof f.retain=="number"?d.retain=u:typeof f.insert=="string"?d.insert=f.insert.substr(h,u):d.insert=f.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,f=this.index,h=this.next(),c=this.ops.slice(this.index);return this.offset=u,this.index=f,[h].concat(c)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,E){return E!=null&&v instanceof E}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,E,m,p,y){typeof E=="object"&&(m=E.depth,p=E.prototype,y=E.includeNonEnumerable,E=E.circular);var g=[],_=[],b=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof m>"u"&&(m=1/0);function T(k,A){if(k===null)return null;if(A===0)return k;var O,S;if(typeof k!="object")return k;if(o(k,s))O=new s;else if(o(k,a))O=new a;else if(o(k,l))O=new l(function(L,I){k.then(function(R){L(T(R,A-1))},function(R){I(T(R,A-1))})});else if(u.__isArray(k))O=[];else if(u.__isRegExp(k))O=new RegExp(k.source,w(k)),k.lastIndex&&(O.lastIndex=k.lastIndex);else if(u.__isDate(k))O=new Date(k.getTime());else{if(b&&Buffer.isBuffer(k))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(k.length):O=new Buffer(k.length),k.copy(O),O;o(k,Error)?O=Object.create(k):typeof p>"u"?(S=Object.getPrototypeOf(k),O=Object.create(S)):(O=Object.create(p),S=p)}if(E){var N=g.indexOf(k);if(N!=-1)return _[N];g.push(k),_.push(O)}o(k,s)&&k.forEach(function(L,I){var R=T(I,A-1),M=T(L,A-1);O.set(R,M)}),o(k,a)&&k.forEach(function(L){var I=T(L,A-1);O.add(I)});for(var C in k){var P;S&&(P=Object.getOwnPropertyDescriptor(S,C)),!(P&&P.set==null)&&(O[C]=T(k[C],A-1))}if(Object.getOwnPropertySymbols)for(var $=Object.getOwnPropertySymbols(k),C=0;C<$.length;C++){var z=$[C],B=Object.getOwnPropertyDescriptor(k,z);B&&!B.enumerable&&!y||(O[z]=T(k[z],A-1),B.enumerable||Object.defineProperty(O,z,{enumerable:!1}))}if(y)for(var H=Object.getOwnPropertyNames(k),C=0;C<H.length;C++){var F=H[C],B=Object.getOwnPropertyDescriptor(k,F);B&&B.enumerable||(O[F]=T(k[F],A-1),Object.defineProperty(O,F,{enumerable:!1}))}return O}return T(v,m)}u.clonePrototype=function(E){if(E===null)return null;var m=function(){};return m.prototype=E,new m};function f(v){return Object.prototype.toString.call(v)}u.__objToStr=f;function h(v){return typeof v=="object"&&f(v)==="[object Date]"}u.__isDate=h;function c(v){return typeof v=="object"&&f(v)==="[object Array]"}u.__isArray=c;function d(v){return typeof v=="object"&&f(v)==="[object RegExp]"}u.__isRegExp=d;function w(v){var E="";return v.global&&(E+="g"),v.ignoreCase&&(E+="i"),v.multiline&&(E+="m"),E}return u.__getRegExpFlags=w,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function O(S,N){var C=[],P=!0,$=!1,z=void 0;try{for(var B=S[Symbol.iterator](),H;!(P=(H=B.next()).done)&&(C.push(H.value),!(N&&C.length===N));P=!0);}catch(F){$=!0,z=F}finally{try{!P&&B.return&&B.return()}finally{if($)throw z}}return C}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return O(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(S,N){for(var C=0;C<N.length;C++){var P=N[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,N,C){return N&&O(S.prototype,N),C&&O(S,C),S}}(),a=function O(S,N,C){S===null&&(S=Function.prototype);var P=Object.getOwnPropertyDescriptor(S,N);if(P===void 0){var $=Object.getPrototypeOf(S);return $===null?void 0:O($,N,C)}else{if("value"in P)return P.value;var z=P.get;return z===void 0?void 0:z.call(C)}},l=i(0),u=g(l),f=i(8),h=g(f),c=i(4),d=g(c),w=i(16),v=g(w),E=i(13),m=g(E),p=i(25),y=g(p);function g(O){return O&&O.__esModule?O:{default:O}}function _(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}function b(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:O}function T(O,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}function k(O){return O instanceof d.default||O instanceof c.BlockEmbed}var A=function(O){T(S,O);function S(N,C){_(this,S);var P=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N));return P.emitter=C.emitter,Array.isArray(C.whitelist)&&(P.whitelist=C.whitelist.reduce(function($,z){return $[z]=!0,$},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,P){var $=this.line(C),z=o($,2),B=z[0],H=z[1],F=this.line(C+P),L=o(F,1),I=L[0];if(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,C,P),I!=null&&B!==I&&H>0){if(B instanceof c.BlockEmbed||I instanceof c.BlockEmbed){this.optimize();return}if(B instanceof m.default){var R=B.newlineIndex(B.length(),!0);if(R>-1&&(B=B.split(R+1),B===I)){this.optimize();return}}else if(I instanceof m.default){var M=I.newlineIndex(0);M>-1&&I.split(M+1)}var V=I.children.head instanceof v.default?null:I.children.head;B.moveChildren(I,V),B.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,P,$,z){this.whitelist!=null&&!this.whitelist[$]||(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,C,P,$,z),this.optimize())}},{key:"insertAt",value:function(C,P,$){if(!($!=null&&this.whitelist!=null&&!this.whitelist[P])){if(C>=this.length())if($==null||u.default.query(P,u.default.Scope.BLOCK)==null){var z=u.default.create(this.statics.defaultChild);this.appendChild(z),$==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),z.insertAt(0,P,$)}else{var B=u.default.create(P,$);this.appendChild(B)}else a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,C,P,$);this.optimize()}}},{key:"insertBefore",value:function(C,P){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var $=u.default.create(this.statics.defaultChild);$.appendChild(C),C=$}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,C,P)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(k,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,$=function z(B,H,F){var L=[],I=F;return B.children.forEachAt(H,F,function(R,M,V){k(R)?L.push(R):R instanceof u.default.Container&&(L=L.concat(z(R,M,I))),I-=V}),L};return $(this,C,P)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,C,P),C.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,C,P))}},{key:"path",value:function(C){return a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var P=h.default.sources.USER;typeof C=="string"&&(P=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,P,C),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,P,C)}}}]),S}(u.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[d.default,c.BlockEmbed,y.default],r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s=function(){function x(U,K){var W=[],Y=!0,te=!1,ce=void 0;try{for(var de=U[Symbol.iterator](),ue;!(Y=(ue=de.next()).done)&&(W.push(ue.value),!(K&&W.length===K));Y=!0);}catch(Te){te=!0,ce=Te}finally{try{!Y&&de.return&&de.return()}finally{if(te)throw ce}}return W}return function(U,K){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return x(U,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function x(U,K){for(var W=0;W<K.length;W++){var Y=K[W];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(U,Y.key,Y)}}return function(U,K,W){return K&&x(U.prototype,K),W&&x(U,W),U}}(),l=i(21),u=O(l),f=i(11),h=O(f),c=i(3),d=O(c),w=i(2),v=O(w),E=i(20),m=O(E),p=i(0),y=O(p),g=i(5),_=O(g),b=i(10),T=O(b),k=i(9),A=O(k);function O(x){return x&&x.__esModule?x:{default:x}}function S(x,U,K){return U in x?Object.defineProperty(x,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):x[U]=K,x}function N(x,U){if(!(x instanceof U))throw new TypeError("Cannot call a class as a function")}function C(x,U){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:x}function P(x,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);x.prototype=Object.create(U&&U.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(x,U):x.__proto__=U)}var $=(0,T.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(x){P(U,x),a(U,null,[{key:"match",value:function(W,Y){return Y=q(Y),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!Y[te]!==W[te]&&Y[te]!==null})?!1:Y.key===(W.which||W.keyCode)}}]);function U(K,W){N(this,U);var Y=C(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,W));return Y.bindings={},Object.keys(Y.options.bindings).forEach(function(te){te==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||Y.options.bindings[te]&&Y.addBinding(Y.options.bindings[te])}),Y.addBinding({key:U.keys.ENTER,shiftKey:null},R),Y.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Y.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},F),Y.addBinding({key:U.keys.DELETE},{collapsed:!0},L)):(Y.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},F),Y.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),Y.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},I),Y.addBinding({key:U.keys.DELETE},{collapsed:!1},I),Y.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},F),Y.listen(),Y}return a(U,[{key:"addBinding",value:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=q(W);if(ce==null||ce.key==null)return $.warn("Attempted to add invalid keyboard binding",ce);typeof Y=="function"&&(Y={handler:Y}),typeof te=="function"&&(te={handler:te}),ce=(0,d.default)(ce,Y,te),this.bindings[ce.key]=this.bindings[ce.key]||[],this.bindings[ce.key].push(ce)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(Y){if(!Y.defaultPrevented){var te=Y.which||Y.keyCode,ce=(W.bindings[te]||[]).filter(function(Be){return U.match(Y,Be)});if(ce.length!==0){var de=W.quill.getSelection();if(!(de==null||!W.quill.hasFocus())){var ue=W.quill.getLine(de.index),Te=s(ue,2),at=Te[0],ze=Te[1],G=W.quill.getLeaf(de.index),Q=s(G,2),ne=Q[0],re=Q[1],J=de.length===0?[ne,re]:W.quill.getLeaf(de.index+de.length),ye=s(J,2),me=ye[0],oe=ye[1],Xe=ne instanceof y.default.Text?ne.value().slice(0,re):"",Ft=me instanceof y.default.Text?me.value().slice(oe):"",De={collapsed:de.length===0,empty:de.length===0&&at.length()<=1,format:W.quill.getFormat(de),offset:ze,prefix:Xe,suffix:Ft},Za=ce.some(function(Be){if(Be.collapsed!=null&&Be.collapsed!==De.collapsed||Be.empty!=null&&Be.empty!==De.empty||Be.offset!=null&&Be.offset!==De.offset)return!1;if(Array.isArray(Be.format)){if(Be.format.every(function(un){return De.format[un]==null}))return!1}else if(o(Be.format)==="object"&&!Object.keys(Be.format).every(function(un){return Be.format[un]===!0?De.format[un]!=null:Be.format[un]===!1?De.format[un]==null:(0,h.default)(Be.format[un],De.format[un])}))return!1;return Be.prefix!=null&&!Be.prefix.test(De.prefix)||Be.suffix!=null&&!Be.suffix.test(De.suffix)?!1:Be.handler.call(W,de,De)!==!0});Za&&Y.preventDefault()}}}})}}]),U}(A.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",_.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",_.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,K){K.format.indent!=null?this.quill.format("indent","-1",_.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,_.default.sources.USER)}},"indent code-block":M(!0),"outdent code-block":M(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,_.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(U){this.quill.history.cutoff();var K=new v.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(K,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,_.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,K){this.quill.format("list",!1,_.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,_.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var K=this.quill.getLine(U.index),W=s(K,2),Y=W[0],te=W[1],ce=(0,d.default)({},Y.formats(),{list:"checked"}),de=new v.default().retain(U.index).insert(`
`,ce).retain(Y.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(de,_.default.sources.USER),this.quill.setSelection(U.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,K){var W=this.quill.getLine(U.index),Y=s(W,2),te=Y[0],ce=Y[1],de=new v.default().retain(U.index).insert(`
`,K.format).retain(te.length()-ce-1).retain(1,{header:null});this.quill.updateContents(de,_.default.sources.USER),this.quill.setSelection(U.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,K){var W=K.prefix.length,Y=this.quill.getLine(U.index),te=s(Y,2),ce=te[0],de=te[1];if(de>W)return!0;var ue=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":ue="unchecked";break;case"[x]":ue="checked";break;case"-":case"*":ue="bullet";break;default:ue="ordered"}this.quill.insertText(U.index," ",_.default.sources.USER),this.quill.history.cutoff();var Te=new v.default().retain(U.index-de).delete(W+1).retain(ce.length()-2-de).retain(1,{list:ue});this.quill.updateContents(Te,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-W,_.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var K=this.quill.getLine(U.index),W=s(K,2),Y=W[0],te=W[1],ce=new v.default().retain(U.index+Y.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ce,_.default.sources.USER)}},"embed left":H(B.keys.LEFT,!1),"embed left shift":H(B.keys.LEFT,!0),"embed right":H(B.keys.RIGHT,!1),"embed right shift":H(B.keys.RIGHT,!0)}};function H(x,U){var K,W=x===B.keys.LEFT?"prefix":"suffix";return K={key:x,shiftKey:U,altKey:null},S(K,W,/^$/),S(K,"handler",function(te){var ce=te.index;x===B.keys.RIGHT&&(ce+=te.length+1);var de=this.quill.getLeaf(ce),ue=s(de,1),Te=ue[0];return Te instanceof y.default.Embed?(x===B.keys.LEFT?U?this.quill.setSelection(te.index-1,te.length+1,_.default.sources.USER):this.quill.setSelection(te.index-1,_.default.sources.USER):U?this.quill.setSelection(te.index,te.length+1,_.default.sources.USER):this.quill.setSelection(te.index+te.length+1,_.default.sources.USER),!1):!0}),K}function F(x,U){if(!(x.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(x.index),W=s(K,1),Y=W[0],te={};if(U.offset===0){var ce=this.quill.getLine(x.index-1),de=s(ce,1),ue=de[0];if(ue!=null&&ue.length()>1){var Te=Y.formats(),at=this.quill.getFormat(x.index-1,1);te=m.default.attributes.diff(Te,at)||{}}}var ze=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(x.index-ze,ze,_.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(x.index-ze,ze,te,_.default.sources.USER),this.quill.focus()}}function L(x,U){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(x.index>=this.quill.getLength()-K)){var W={},Y=0,te=this.quill.getLine(x.index),ce=s(te,1),de=ce[0];if(U.offset>=de.length()-1){var ue=this.quill.getLine(x.index+1),Te=s(ue,1),at=Te[0];if(at){var ze=de.formats(),G=this.quill.getFormat(x.index,1);W=m.default.attributes.diff(ze,G)||{},Y=at.length()}}this.quill.deleteText(x.index,K,_.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(x.index+Y-1,K,W,_.default.sources.USER)}}function I(x){var U=this.quill.getLines(x),K={};if(U.length>1){var W=U[0].formats(),Y=U[U.length-1].formats();K=m.default.attributes.diff(Y,W)||{}}this.quill.deleteText(x,_.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(x.index,1,K,_.default.sources.USER),this.quill.setSelection(x.index,_.default.sources.SILENT),this.quill.focus()}function R(x,U){var K=this;x.length>0&&this.quill.scroll.deleteAt(x.index,x.length);var W=Object.keys(U.format).reduce(function(Y,te){return y.default.query(te,y.default.Scope.BLOCK)&&!Array.isArray(U.format[te])&&(Y[te]=U.format[te]),Y},{});this.quill.insertText(x.index,`
`,W,_.default.sources.USER),this.quill.setSelection(x.index+1,_.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(Y){W[Y]==null&&(Array.isArray(U.format[Y])||Y!=="link"&&K.quill.format(Y,U.format[Y],_.default.sources.USER))})}function M(x){return{key:B.keys.TAB,shiftKey:!x,format:{"code-block":!0},handler:function(K){var W=y.default.query("code-block"),Y=K.index,te=K.length,ce=this.quill.scroll.descendant(W,Y),de=s(ce,2),ue=de[0],Te=de[1];if(ue!=null){var at=this.quill.getIndex(ue),ze=ue.newlineIndex(Te,!0)+1,G=ue.newlineIndex(at+Te+te),Q=ue.domNode.textContent.slice(ze,G).split(`
`);Te=0,Q.forEach(function(ne,re){x?(ue.insertAt(ze+Te,W.TAB),Te+=W.TAB.length,re===0?Y+=W.TAB.length:te+=W.TAB.length):ne.startsWith(W.TAB)&&(ue.deleteAt(ze+Te,W.TAB.length),Te-=W.TAB.length,re===0?Y-=W.TAB.length:te-=W.TAB.length),Te+=ne.length+1}),this.quill.update(_.default.sources.USER),this.quill.setSelection(Y,te,_.default.sources.SILENT)}}}}function V(x){return{key:x[0].toUpperCase(),shortKey:!0,handler:function(K,W){this.quill.format(x,!W.format[x],_.default.sources.USER)}}}function q(x){if(typeof x=="string"||typeof x=="number")return q({key:x});if((typeof x>"u"?"undefined":o(x))==="object"&&(x=(0,u.default)(x,!1)),typeof x.key=="string")if(B.keys[x.key.toUpperCase()]!=null)x.key=B.keys[x.key.toUpperCase()];else if(x.key.length===1)x.key=x.key.toUpperCase().charCodeAt(0);else return null;return x.shortKey&&(x[z]=x.shortKey,delete x.shortKey),x}r.default=B,r.SHORTKEY=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,y){var g=[],_=!0,b=!1,T=void 0;try{for(var k=p[Symbol.iterator](),A;!(_=(A=k.next()).done)&&(g.push(A.value),!(y&&g.length===y));_=!0);}catch(O){b=!0,T=O}finally{try{!_&&k.return&&k.return()}finally{if(b)throw T}}return g}return function(p,y){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function m(p,y,g){p===null&&(p=Function.prototype);var _=Object.getOwnPropertyDescriptor(p,y);if(_===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:m(b,y,g)}else{if("value"in _)return _.value;var T=_.get;return T===void 0?void 0:T.call(g)}},a=function(){function m(p,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,y,g){return y&&m(p.prototype,y),g&&m(p,g),p}}(),l=i(0),u=c(l),f=i(7),h=c(f);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function w(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function v(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var E=function(m){v(p,m),a(p,null,[{key:"value",value:function(){}}]);function p(y,g){d(this,p);var _=w(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y));return _.selection=g,_.textNode=document.createTextNode(p.CONTENTS),_.domNode.appendChild(_.textNode),_._length=0,_}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,_){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,g,_);for(var b=this,T=0;b!=null&&b.statics.scope!==u.default.Scope.BLOCK_BLOT;)T+=b.offset(b.parent),b=b.parent;b!=null&&(this._length=p.CONTENTS.length,b.optimize(),b.formatAt(T,p.CONTENTS.length,g,_),this._length=0)}},{key:"index",value:function(g,_){return g===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,_)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,_=this.selection.getNativeRange(),b=void 0,T=void 0,k=void 0;if(_!=null&&_.start.node===g&&_.end.node===g){var A=[g,_.start.offset,_.end.offset];b=A[0],T=A[1],k=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var O=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof h.default?(b=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=p.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var S=[T,k].map(function(C){return Math.max(0,Math.min(b.data.length,C-1))}),N=o(S,2);return T=N[0],k=N[1],{startNode:b,startOffset:T,endNode:b,endOffset:k}}}}},{key:"update",value:function(g,_){var b=this;if(g.some(function(k){return k.type==="characterData"&&k.target===b.textNode})){var T=this.restore();T&&(_.range=T)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);d.allowedChildren=[l.default,a.BlockEmbed,d],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),s=function E(m,p,y){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,y)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(y)}},a=i(0),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function f(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function h(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function c(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var d=function(E){c(m,E);function m(){return f(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(y){var g=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,y);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(_){return("00"+parseInt(_).toString(16)).slice(-2)}).join("")):g}}]),m}(l.default.Attributor.Style),w=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new d("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=w,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(E,m){for(var p=0;p<m.length;p++){var y=m[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}return function(E,m,p){return m&&v(E.prototype,m),p&&v(E,p),E}}(),s=function v(E,m,p){E===null&&(E=Function.prototype);var y=Object.getOwnPropertyDescriptor(E,m);if(y===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:v(g,m,p)}else{if("value"in y)return y.value;var _=y.get;return _===void 0?void 0:_.call(p)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function h(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function c(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var d=function(v){c(E,v);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(p,y){if(p!==this.statics.blotName||!y)return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,p,y);y=this.constructor.sanitize(y),this.domNode.setAttribute("href",y)}}],[{key:"create",value:function(p){var y=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,p);return p=this.sanitize(p),y.setAttribute("href",p),y.setAttribute("rel","noopener noreferrer"),y.setAttribute("target","_blank"),y}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return w(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),E}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(v,E){var m=document.createElement("a");m.href=v;var p=m.href.slice(0,m.href.indexOf(":"));return E.indexOf(p)>-1}r.default=d,r.sanitize=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),a=i(23),l=h(a),u=i(107),f=h(u);function h(E){return E&&E.__esModule?E:{default:E}}function c(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}var d=0;function w(E,m){E.setAttribute(m,E.getAttribute(m)!=="true")}var v=function(){function E(m){var p=this;c(this,E),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(y){switch(y.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),y.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var y=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),p.hasAttribute("value")&&g.setAttribute("data-value",p.getAttribute("value")),p.textContent&&g.setAttribute("data-label",p.textContent),g.addEventListener("click",function(){y.selectItem(g,!0)}),g.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:y.selectItem(g,!0),_.preventDefault();break;case l.default.keys.ESCAPE:y.escape(),_.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=f.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,[].slice.call(this.select.options).forEach(function(g){var _=p.buildItem(g);y.appendChild(_),g.selected===!0&&p.selectItem(_)}),this.container.appendChild(y)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(y){p.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(p!==g&&(g!=null&&g.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),y))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var _=document.createEvent("Event");_.initEvent("change",!0,!0),this.select.dispatchEvent(_)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);var g=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),E}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=$(o),a=i(5),l=$(a),u=i(4),f=$(u),h=i(16),c=$(h),d=i(25),w=$(d),v=i(24),E=$(v),m=i(35),p=$(m),y=i(6),g=$(y),_=i(22),b=$(_),T=i(7),k=$(T),A=i(55),O=$(A),S=i(42),N=$(S),C=i(23),P=$(C);function $(z){return z&&z.__esModule?z:{default:z}}l.default.register({"blots/block":f.default,"blots/block/embed":u.BlockEmbed,"blots/break":c.default,"blots/container":w.default,"blots/cursor":E.default,"blots/embed":p.default,"blots/inline":g.default,"blots/scroll":b.default,"blots/text":k.default,"modules/clipboard":O.default,"modules/history":N.default,"modules/keyboard":P.default}),s.default.register(f.default,c.default,E.default,g.default,b.default,k.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var f=this.isolate(l,u);f.remove()},a.prototype.formatAt=function(l,u,f,h){var c=this.isolate(l,u);if(o.query(f,o.Scope.BLOT)!=null&&h)c.wrap(f,h);else if(o.query(f,o.Scope.ATTRIBUTE)!=null){var d=o.create(this.statics.scope);c.wrap(d),d.format(f,h)}},a.prototype.insertAt=function(l,u,f){var h=f==null?o.create("text",u):o.create(u,f),c=this.split(l);this.parent.insertBefore(h,c)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var f=null;l.children.insertBefore(this,u),u!=null&&(f=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=f)&&l.domNode.insertBefore(this.domNode,f),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var f=this.split(l);return f.split(u),f},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var f=typeof l=="string"?o.create(l,u):l;return f.replace(this),f},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var f=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function f(h){this.attributes={},this.domNode=h,this.build()}return f.prototype.attribute=function(h,c){c?h.add(this.domNode,c)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},f.prototype.build=function(){var h=this;this.attributes={};var c=o.default.keys(this.domNode),d=s.default.keys(this.domNode),w=a.default.keys(this.domNode);c.concat(d).concat(w).forEach(function(v){var E=l.query(v,l.Scope.ATTRIBUTE);E instanceof o.default&&(h.attributes[E.attrName]=E)})},f.prototype.copy=function(h){var c=this;Object.keys(this.attributes).forEach(function(d){var w=c.attributes[d].value(c.domNode);h.format(d,w)})},f.prototype.move=function(h){var c=this;this.copy(h),Object.keys(this.attributes).forEach(function(d){c.attributes[d].remove(c.domNode)}),this.attributes={}},f.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(c,d){return c[d]=h.attributes[d].value(h.domNode),c},{})},f}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,f){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(c){return c.indexOf(f+"-")===0})}var l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},f.prototype.add=function(h,c){return this.canAdd(h,c)?(this.remove(h),h.classList.add(this.keyName+"-"+c),!0):!1},f.prototype.remove=function(h){var c=a(h,this.keyName);c.forEach(function(d){h.classList.remove(d)}),h.classList.length===0&&h.removeAttribute("class")},f.prototype.value=function(h){var c=a(h,this.keyName)[0]||"",d=c.slice(this.keyName.length+1);return this.canAdd(h,d)?d:""},f}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var f=u.split("-"),h=f.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return f[0]+h}var l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(c){var d=c.split(":");return d[0].trim()})},f.prototype.add=function(h,c){return this.canAdd(h,c)?(h.style[a(this.keyName)]=c,!0):!1},f.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},f.prototype.value=function(h){var c=h.style[a(this.keyName)];return this.canAdd(h,c)?c:""},f}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,f){for(var h=0;h<f.length;h++){var c=f[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,f,h){return f&&l(u.prototype,f),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,f){s(this,l),this.quill=u,this.options=f,this.modules={}}return o(l,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(h){f.modules[h]==null&&f.addModule(h)})}},{key:"addModule",value:function(f){var h=this.quill.constructor.import("modules/"+f);return this.modules[f]=new h(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,y,g){return y&&m(p.prototype,y),g&&m(p,g),p}}(),s=function m(p,y,g){p===null&&(p=Function.prototype);var _=Object.getOwnPropertyDescriptor(p,y);if(_===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:m(b,y,g)}else{if("value"in _)return _.value;var T=_.get;return T===void 0?void 0:T.call(g)}},a=i(0),l=h(a),u=i(7),f=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function w(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var v="\uFEFF",E=function(m){w(p,m);function p(y){c(this,p);var g=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(_){g.contentNode.appendChild(_)}),g.leftGuard=document.createTextNode(v),g.rightGuard=document.createTextNode(v),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(p,[{key:"index",value:function(g,_){return g===this.leftGuard?0:g===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,_)}},{key:"restore",value:function(g){var _=void 0,b=void 0,T=g.data.split(v).join("");if(g===this.leftGuard)if(this.prev instanceof f.default){var k=this.prev.length();this.prev.insertAt(k,T),_={startNode:this.prev.domNode,startOffset:k+T.length}}else b=document.createTextNode(T),this.parent.insertBefore(l.default.create(b),this),_={startNode:b,startOffset:T.length};else g===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,T),_={startNode:this.next.domNode,startOffset:T.length}):(b=document.createTextNode(T),this.parent.insertBefore(l.default.create(b),this.next),_={startNode:b,startOffset:T.length}));return g.data=v,_}},{key:"update",value:function(g,_){var b=this;g.forEach(function(T){if(T.type==="characterData"&&(T.target===b.leftGuard||T.target===b.rightGuard)){var k=b.restore(T.target);k&&(_.range=k)}})}}]),p}(l.default.Embed);r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),f=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=f,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),f=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),f=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=f,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function m(p,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,y,g){return y&&m(p.prototype,y),g&&m(p,g),p}}(),s=function m(p,y,g){p===null&&(p=Function.prototype);var _=Object.getOwnPropertyDescriptor(p,y);if(_===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:m(b,y,g)}else{if("value"in _)return _.value;var T=_.get;return T===void 0?void 0:T.call(g)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function h(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function c(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new l.default.Attributor.Class("font","ql-font",d),v=function(m){c(p,m);function p(){return f(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(g){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),E=new v("font","font-family",d);r.FontStyle=E,r.FontClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function y(g,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,_,b){return _&&y(g.prototype,_),b&&y(g,b),g}}(),s=i(0),a=c(s),l=i(5),u=c(l),f=i(9),h=c(f);function c(y){return y&&y.__esModule?y:{default:y}}function d(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function w(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function v(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var E=function(y){v(g,y);function g(_,b){d(this,g);var T=w(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,b));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(u.default.events.EDITOR_CHANGE,function(k,A,O,S){k!==u.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||S===u.default.sources.USER?T.record(A,O):T.transform(A))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return o(g,[{key:"change",value:function(b,T){if(this.stack[b].length!==0){var k=this.stack[b].pop();this.stack[T].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[b],u.default.sources.USER),this.ignoreChange=!1;var A=p(k[b]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(b,T){if(b.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(T),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var O=this.stack.undo.pop();k=k.compose(O.undo),b=O.redo.compose(b)}else this.lastRecorded=A;this.stack.undo.push({redo:b,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(b){this.stack.undo.forEach(function(T){T.undo=b.transform(T.undo,!0),T.redo=b.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=b.transform(T.undo,!0),T.redo=b.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(h.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(y){var g=y.ops[y.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(_){return a.default.query(_,a.default.Scope.BLOCK)!=null}):!1}function p(y){var g=y.reduce(function(b,T){return b+=T.delete||0,b},0),_=y.length()-g;return m(y)&&(_-=1),_}r.default=E,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function R(M,V){for(var q=0;q<V.length;q++){var x=V[q];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(M,x.key,x)}}return function(M,V,q){return V&&R(M.prototype,V),q&&R(M,q),M}}(),s=function R(M,V,q){M===null&&(M=Function.prototype);var x=Object.getOwnPropertyDescriptor(M,V);if(x===void 0){var U=Object.getPrototypeOf(M);return U===null?void 0:R(U,V,q)}else{if("value"in x)return x.value;var K=x.get;return K===void 0?void 0:K.call(q)}},a=i(3),l=A(a),u=i(2),f=A(u),h=i(8),c=A(h),d=i(23),w=A(d),v=i(34),E=A(v),m=i(59),p=A(m),y=i(60),g=A(y),_=i(28),b=A(_),T=i(61),k=A(T);function A(R){return R&&R.__esModule?R:{default:R}}function O(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function S(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function N(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var C=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],$=[!1,"serif","monospace"],z=["1","2","3",!1],B=["small",!1,"large","huge"],H=function(R){N(M,R);function M(V,q){O(this,M);var x=S(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,V,q)),U=function K(W){if(!document.body.contains(V.root))return document.body.removeEventListener("click",K);x.tooltip!=null&&!x.tooltip.root.contains(W.target)&&document.activeElement!==x.tooltip.textbox&&!x.quill.hasFocus()&&x.tooltip.hide(),x.pickers!=null&&x.pickers.forEach(function(Y){Y.container.contains(W.target)||Y.close()})};return V.emitter.listenDOM("click",document.body,U),x}return o(M,[{key:"addModule",value:function(q){var x=s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"addModule",this).call(this,q);return q==="toolbar"&&this.extendToolbar(x),x}},{key:"buildButtons",value:function(q,x){q.forEach(function(U){var K=U.getAttribute("class")||"";K.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),x[W]!=null))if(W==="direction")U.innerHTML=x[W][""]+x[W].rtl;else if(typeof x[W]=="string")U.innerHTML=x[W];else{var Y=U.value||"";Y!=null&&x[W][Y]&&(U.innerHTML=x[W][Y])}})})}},{key:"buildPickers",value:function(q,x){var U=this;this.pickers=q.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&I(W,C),new g.default(W,x.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var Y=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&I(W,P,Y==="background"?"#ffffff":"#000000"),new p.default(W,x[Y])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?I(W,$):W.classList.contains("ql-header")?I(W,z):W.classList.contains("ql-size")&&I(W,B)),new b.default(W)});var K=function(){U.pickers.forEach(function(Y){Y.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,K)}}]),M}(E.default);H.DEFAULTS=(0,l.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var M=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var q=new FileReader;q.onload=function(x){var U=M.quill.getSelection(!0);M.quill.updateContents(new f.default().retain(U.index).delete(U.length).insert({image:x.target.result}),c.default.sources.USER),M.quill.setSelection(U.index+1,c.default.sources.SILENT),V.value=""},q.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var F=function(R){N(M,R);function M(V,q){O(this,M);var x=S(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,V,q));return x.textbox=x.root.querySelector('input[type="text"]'),x.listen(),x}return o(M,[{key:"listen",value:function(){var q=this;this.textbox.addEventListener("keydown",function(x){w.default.match(x,"enter")?(q.save(),x.preventDefault()):w.default.match(x,"escape")&&(q.cancel(),x.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),x!=null?this.textbox.value=x:q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+q)||""),this.root.setAttribute("data-mode",q)}},{key:"restoreFocus",value:function(){var q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=q}},{key:"save",value:function(){var q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var x=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,c.default.sources.USER)),this.quill.root.scrollTop=x;break}case"video":q=L(q);case"formula":{if(!q)break;var U=this.quill.getSelection(!0);if(U!=null){var K=U.index+U.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),q,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",c.default.sources.USER),this.quill.setSelection(K+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),M}(k.default);function L(R){var M=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return M?(M[1]||"https")+"://www.youtube.com/embed/"+M[2]+"?showinfo=0":(M=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(M[1]||"https")+"://player.vimeo.com/video/"+M[2]+"/":R}function I(R,M){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;M.forEach(function(q){var x=document.createElement("option");q===V?x.setAttribute("selected","selected"):x.setAttribute("value",q),R.appendChild(x)})}r.BaseTooltip=F,r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,f=this.iterator();u=f();){var h=u.length();if(a<h||l&&a===h&&(u.next==null||u.next.length()!==0))return[u,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var f=this.find(a),h=f[0],c=f[1],d,w=a-c,v=this.iterator(h);(d=v())&&w<a+l;){var E=d.length();a>w?u(d,a-w,Math.min(l,w+E-a)):u(d,0,Math.min(E,a+l-w)),w+=E}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,f=this.iterator();u=f();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var w in d)d.hasOwnProperty(w)&&(c[w]=d[w])};return function(c,d){h(c,d);function w(){this.constructor=c}c.prototype=d===null?Object.create(d):(w.prototype=d.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,f=function(h){o(c,h);function c(d){var w=h.call(this,d)||this;return w.scroll=w,w.observer=new MutationObserver(function(v){w.update(v)}),w.observer.observe(w.domNode,l),w.attach(),w}return c.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(d,w){this.update(),d===0&&w===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,d,w)},c.prototype.formatAt=function(d,w,v,E){this.update(),h.prototype.formatAt.call(this,d,w,v,E)},c.prototype.insertAt=function(d,w,v){this.update(),h.prototype.insertAt.call(this,d,w,v)},c.prototype.optimize=function(d,w){var v=this;d===void 0&&(d=[]),w===void 0&&(w={}),h.prototype.optimize.call(this,w);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)d.push(E.pop());for(var m=function(_,b){b===void 0&&(b=!0),!(_==null||_===v)&&_.domNode.parentNode!=null&&(_.domNode[a.DATA_KEY].mutations==null&&(_.domNode[a.DATA_KEY].mutations=[]),b&&m(_.parent))},p=function(_){_.domNode[a.DATA_KEY]==null||_.domNode[a.DATA_KEY].mutations==null||(_ instanceof s.default&&_.children.forEach(p),_.optimize(w))},y=d,g=0;y.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(y.forEach(function(_){var b=a.find(_.target,!0);b!=null&&(b.domNode===_.target&&(_.type==="childList"?(m(a.find(_.previousSibling,!1)),[].forEach.call(_.addedNodes,function(T){var k=a.find(T,!1);m(k,!1),k instanceof s.default&&k.children.forEach(function(A){m(A,!1)})})):_.type==="attributes"&&m(b.prev)),m(b))}),this.children.forEach(p),y=[].slice.call(this.observer.takeRecords()),E=y.slice();E.length>0;)d.push(E.pop())}},c.prototype.update=function(d,w){var v=this;w===void 0&&(w={}),d=d||this.observer.takeRecords(),d.map(function(E){var m=a.find(E.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[E],m):(m.domNode[a.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===v||E.domNode[a.DATA_KEY]==null||E.update(E.domNode[a.DATA_KEY].mutations||[],w)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,w),this.optimize(d,w)},c.blotName="scroll",c.defaultChild="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="DIV",c}(s.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)c.hasOwnProperty(d)&&(h[d]=c[d])};return function(h,c){f(h,c);function d(){this.constructor=h}h.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(f,h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(var c in f)if(f[c]!==h[c])return!1;return!0}var u=function(f){o(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(c){if(c.tagName!==h.tagName)return f.formats.call(this,c)},h.prototype.format=function(c,d){var w=this;c===this.statics.blotName&&!d?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(h.blotName,!0)),w.attributes.copy(v)}),this.unwrap()):f.prototype.format.call(this,c,d)},h.prototype.formatAt=function(c,d,w,v){if(this.formats()[w]!=null||a.query(w,a.Scope.ATTRIBUTE)){var E=this.isolate(c,d);E.format(w,v)}else f.prototype.formatAt.call(this,c,d,w,v)},h.prototype.optimize=function(c){f.prototype.optimize.call(this,c);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var w=this.next;w instanceof h&&w.prev===this&&l(d,w.formats())&&(w.moveChildren(this),w.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){var c=a.query(f.blotName).tagName;if(h.tagName!==c)return u.formats.call(this,h)},f.prototype.format=function(h,c){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!c?this.replaceWith(f.blotName):u.prototype.format.call(this,h,c))},f.prototype.formatAt=function(h,c,d,w){a.query(d,a.Scope.BLOCK)!=null?this.format(d,w):u.prototype.formatAt.call(this,h,c,d,w)},f.prototype.insertAt=function(h,c,d){if(d==null||a.query(c,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,c,d);else{var w=this.split(h),v=a.create(c,d);w.parent.insertBefore(v,w)}},f.prototype.update=function(h,c){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,c)},f.blotName="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="P",f}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){l(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(f){},u.prototype.format=function(f,h){l.prototype.formatAt.call(this,0,this.length(),f,h)},u.prototype.formatAt=function(f,h,c,d){f===0&&h===this.length()?this.format(c,d):l.prototype.formatAt.call(this,f,h,c,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var c in h)h.hasOwnProperty(c)&&(f[c]=h[c])};return function(f,h){u(f,h);function c(){this.constructor=f}f.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(f,u);function f(h){var c=u.call(this,h)||this;return c.text=c.statics.value(c.domNode),c}return f.create=function(h){return document.createTextNode(h)},f.value=function(h){var c=h.data;return c.normalize&&(c=c.normalize()),c},f.prototype.deleteAt=function(h,c){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+c)},f.prototype.index=function(h,c){return this.domNode===h?c:-1},f.prototype.insertAt=function(h,c,d){d==null?(this.text=this.text.slice(0,h)+c+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,c,d)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(h,c){return[this.domNode,h]},f.prototype.split=function(h,c){if(c===void 0&&(c=!1),!c){if(h===0)return this;if(h===this.length())return this.next}var d=a.create(this.domNode.splitText(h));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},f.prototype.update=function(h,c){var d=this;h.some(function(w){return w.type==="characterData"&&w.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=a.Scope.INLINE_BLOT,f}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var f=u.indexOf(a,l);return f!==-1&&f===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),f=u.length>>>0,h=arguments[1],c,d=0;d<f;d++)if(c=u[d],l.call(h,c,d,u))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,_,b){if(g==_)return g?[[s,g]]:[];(b<0||g.length<b)&&(b=null);var T=h(g,_),k=g.substring(0,T);g=g.substring(T),_=_.substring(T),T=c(g,_);var A=g.substring(g.length-T);g=g.substring(0,g.length-T),_=_.substring(0,_.length-T);var O=l(g,_);return k&&O.unshift([s,k]),A&&O.push([s,A]),w(O),b!=null&&(O=m(O,b)),O=p(O),O}function l(g,_){var b;if(!g)return[[o,_]];if(!_)return[[i,g]];var T=g.length>_.length?g:_,k=g.length>_.length?_:g,A=T.indexOf(k);if(A!=-1)return b=[[o,T.substring(0,A)],[s,k],[o,T.substring(A+k.length)]],g.length>_.length&&(b[0][0]=b[2][0]=i),b;if(k.length==1)return[[i,g],[o,_]];var O=d(g,_);if(O){var S=O[0],N=O[1],C=O[2],P=O[3],$=O[4],z=a(S,C),B=a(N,P);return z.concat([[s,$]],B)}return u(g,_)}function u(g,_){for(var b=g.length,T=_.length,k=Math.ceil((b+T)/2),A=k,O=2*k,S=new Array(O),N=new Array(O),C=0;C<O;C++)S[C]=-1,N[C]=-1;S[A+1]=0,N[A+1]=0;for(var P=b-T,$=P%2!=0,z=0,B=0,H=0,F=0,L=0;L<k;L++){for(var I=-L+z;I<=L-B;I+=2){var R=A+I,M;I==-L||I!=L&&S[R-1]<S[R+1]?M=S[R+1]:M=S[R-1]+1;for(var V=M-I;M<b&&V<T&&g.charAt(M)==_.charAt(V);)M++,V++;if(S[R]=M,M>b)B+=2;else if(V>T)z+=2;else if($){var q=A+P-I;if(q>=0&&q<O&&N[q]!=-1){var x=b-N[q];if(M>=x)return f(g,_,M,V)}}}for(var U=-L+H;U<=L-F;U+=2){var q=A+U,x;U==-L||U!=L&&N[q-1]<N[q+1]?x=N[q+1]:x=N[q-1]+1;for(var K=x-U;x<b&&K<T&&g.charAt(b-x-1)==_.charAt(T-K-1);)x++,K++;if(N[q]=x,x>b)F+=2;else if(K>T)H+=2;else if(!$){var R=A+P-U;if(R>=0&&R<O&&S[R]!=-1){var M=S[R],V=A+M-R;if(x=b-x,M>=x)return f(g,_,M,V)}}}}return[[i,g],[o,_]]}function f(g,_,b,T){var k=g.substring(0,b),A=_.substring(0,T),O=g.substring(b),S=_.substring(T),N=a(k,A),C=a(O,S);return N.concat(C)}function h(g,_){if(!g||!_||g.charAt(0)!=_.charAt(0))return 0;for(var b=0,T=Math.min(g.length,_.length),k=T,A=0;b<k;)g.substring(A,k)==_.substring(A,k)?(b=k,A=b):T=k,k=Math.floor((T-b)/2+b);return k}function c(g,_){if(!g||!_||g.charAt(g.length-1)!=_.charAt(_.length-1))return 0;for(var b=0,T=Math.min(g.length,_.length),k=T,A=0;b<k;)g.substring(g.length-k,g.length-A)==_.substring(_.length-k,_.length-A)?(b=k,A=b):T=k,k=Math.floor((T-b)/2+b);return k}function d(g,_){var b=g.length>_.length?g:_,T=g.length>_.length?_:g;if(b.length<4||T.length*2<b.length)return null;function k(B,H,F){for(var L=B.substring(F,F+Math.floor(B.length/4)),I=-1,R="",M,V,q,x;(I=H.indexOf(L,I+1))!=-1;){var U=h(B.substring(F),H.substring(I)),K=c(B.substring(0,F),H.substring(0,I));R.length<K+U&&(R=H.substring(I-K,I)+H.substring(I,I+U),M=B.substring(0,F-K),V=B.substring(F+U),q=H.substring(0,I-K),x=H.substring(I+U))}return R.length*2>=B.length?[M,V,q,x,R]:null}var A=k(b,T,Math.ceil(b.length/4)),O=k(b,T,Math.ceil(b.length/2)),S;if(!A&&!O)return null;O?A?S=A[4].length>O[4].length?A:O:S=O:S=A;var N,C,P,$;g.length>_.length?(N=S[0],C=S[1],P=S[2],$=S[3]):(P=S[0],$=S[1],N=S[2],C=S[3]);var z=S[4];return[N,C,P,$,z]}function w(g){g.push([s,""]);for(var _=0,b=0,T=0,k="",A="",O;_<g.length;)switch(g[_][0]){case o:T++,A+=g[_][1],_++;break;case i:b++,k+=g[_][1],_++;break;case s:b+T>1?(b!==0&&T!==0&&(O=h(A,k),O!==0&&(_-b-T>0&&g[_-b-T-1][0]==s?g[_-b-T-1][1]+=A.substring(0,O):(g.splice(0,0,[s,A.substring(0,O)]),_++),A=A.substring(O),k=k.substring(O)),O=c(A,k),O!==0&&(g[_][1]=A.substring(A.length-O)+g[_][1],A=A.substring(0,A.length-O),k=k.substring(0,k.length-O))),b===0?g.splice(_-T,b+T,[o,A]):T===0?g.splice(_-b,b+T,[i,k]):g.splice(_-b-T,b+T,[i,k],[o,A]),_=_-b-T+(b?1:0)+(T?1:0)+1):_!==0&&g[_-1][0]==s?(g[_-1][1]+=g[_][1],g.splice(_,1)):_++,T=0,b=0,k="",A="";break}g[g.length-1][1]===""&&g.pop();var S=!1;for(_=1;_<g.length-1;)g[_-1][0]==s&&g[_+1][0]==s&&(g[_][1].substring(g[_][1].length-g[_-1][1].length)==g[_-1][1]?(g[_][1]=g[_-1][1]+g[_][1].substring(0,g[_][1].length-g[_-1][1].length),g[_+1][1]=g[_-1][1]+g[_+1][1],g.splice(_-1,1),S=!0):g[_][1].substring(0,g[_+1][1].length)==g[_+1][1]&&(g[_-1][1]+=g[_+1][1],g[_][1]=g[_][1].substring(g[_+1][1].length)+g[_+1][1],g.splice(_+1,1),S=!0)),_++;S&&w(g)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function E(g,_){if(_===0)return[s,g];for(var b=0,T=0;T<g.length;T++){var k=g[T];if(k[0]===i||k[0]===s){var A=b+k[1].length;if(_===A)return[T+1,g];if(_<A){g=g.slice();var O=_-b,S=[k[0],k[1].slice(0,O)],N=[k[0],k[1].slice(O)];return g.splice(T,1,S,N),[T+1,g]}else b=A}}throw new Error("cursor_pos is out of bounds!")}function m(g,_){var b=E(g,_),T=b[1],k=b[0],A=T[k],O=T[k+1];if(A==null)return g;if(A[0]!==s)return g;if(O!=null&&A[1]+O[1]===O[1]+A[1])return T.splice(k,2,O,A),y(T,k,2);if(O!=null&&O[1].indexOf(A[1])===0){T.splice(k,2,[O[0],A[1]],[0,A[1]]);var S=O[1].slice(A[1].length);return S.length>0&&T.splice(k+2,0,[O[0],S]),y(T,k,3)}else return g}function p(g){for(var _=!1,b=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},T=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},k=2;k<g.length;k+=1)g[k-2][0]===s&&T(g[k-2][1])&&g[k-1][0]===i&&b(g[k-1][1])&&g[k][0]===o&&b(g[k][1])&&(_=!0,g[k-1][1]=g[k-2][1].slice(-1)+g[k-1][1],g[k][1]=g[k-2][1].slice(-1)+g[k][1],g[k-2][1]=g[k-2][1].slice(0,-1));if(!_)return g;for(var A=[],k=0;k<g.length;k+=1)g[k][1].length>0&&A.push(g[k]);return A}function y(g,_,b){for(var T=_+b-1;T>=0&&T>=_-1;T--)if(T+1<g.length){var k=g[T],A=g[T+1];k[0]===A[1]&&g.splice(T,2,[k[0],k[1]+A[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,c;if(this._eventsCount===0)return f;for(c in h=this._events)i.call(h,c)&&f.push(o?c.slice(1):c);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f,h){var c=o?o+f:f,d=this._events[c];if(h)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var w=0,v=d.length,E=new Array(v);w<v;w++)E[w]=d[w].fn;return E},l.prototype.emit=function(f,h,c,d,w,v){var E=o?o+f:f;if(!this._events[E])return!1;var m=this._events[E],p=arguments.length,y,g;if(m.fn){switch(m.once&&this.removeListener(f,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,c),!0;case 4:return m.fn.call(m.context,h,c,d),!0;case 5:return m.fn.call(m.context,h,c,d,w),!0;case 6:return m.fn.call(m.context,h,c,d,w,v),!0}for(g=1,y=new Array(p-1);g<p;g++)y[g-1]=arguments[g];m.fn.apply(m.context,y)}else{var _=m.length,b;for(g=0;g<_;g++)switch(m[g].once&&this.removeListener(f,m[g].fn,void 0,!0),p){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,h);break;case 3:m[g].fn.call(m[g].context,h,c);break;case 4:m[g].fn.call(m[g].context,h,c,d);break;default:if(!y)for(b=1,y=new Array(p-1);b<p;b++)y[b-1]=arguments[b];m[g].fn.apply(m[g].context,y)}}return!0},l.prototype.on=function(f,h,c){var d=new a(h,c||this),w=o?o+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],d]:this._events[w].push(d):(this._events[w]=d,this._eventsCount++),this},l.prototype.once=function(f,h,c){var d=new a(h,c||this,!0),w=o?o+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],d]:this._events[w].push(d):(this._events[w]=d,this._eventsCount++),this},l.prototype.removeListener=function(f,h,c,d){var w=o?o+f:f;if(!this._events[w])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[w],this;var v=this._events[w];if(v.fn)v.fn===h&&(!d||v.once)&&(!c||v.context===c)&&(--this._eventsCount===0?this._events=new s:delete this._events[w]);else{for(var E=0,m=[],p=v.length;E<p;E++)(v[E].fn!==h||d&&!v[E].once||c&&v[E].context!==c)&&m.push(v[E]);m.length?this._events[w]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new s:delete this._events[w]}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=o?o+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},s=function(){function G(Q,ne){var re=[],J=!0,ye=!1,me=void 0;try{for(var oe=Q[Symbol.iterator](),Xe;!(J=(Xe=oe.next()).done)&&(re.push(Xe.value),!(ne&&re.length===ne));J=!0);}catch(Ft){ye=!0,me=Ft}finally{try{!J&&oe.return&&oe.return()}finally{if(ye)throw me}}return re}return function(Q,ne){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return G(Q,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function G(Q,ne){for(var re=0;re<ne.length;re++){var J=ne[re];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Q,J.key,J)}}return function(Q,ne,re){return ne&&G(Q.prototype,ne),re&&G(Q,re),Q}}(),l=i(3),u=N(l),f=i(2),h=N(f),c=i(0),d=N(c),w=i(5),v=N(w),E=i(10),m=N(E),p=i(9),y=N(p),g=i(36),_=i(37),b=i(13),T=N(b),k=i(26),A=i(38),O=i(39),S=i(40);function N(G){return G&&G.__esModule?G:{default:G}}function C(G,Q,ne){return Q in G?Object.defineProperty(G,Q,{value:ne,enumerable:!0,configurable:!0,writable:!0}):G[Q]=ne,G}function P(G,Q){if(!(G instanceof Q))throw new TypeError("Cannot call a class as a function")}function $(G,Q){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:G}function z(G,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);G.prototype=Object.create(Q&&Q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Q):G.__proto__=Q)}var B=(0,m.default)("quill:clipboard"),H="__ql-matcher",F=[[Node.TEXT_NODE,ze],[Node.TEXT_NODE,ue],["br",te],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,Te],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,at],["li",de],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",ce]],L=[g.AlignAttribute,A.DirectionAttribute].reduce(function(G,Q){return G[Q.keyName]=Q,G},{}),I=[g.AlignStyle,_.BackgroundStyle,k.ColorStyle,A.DirectionStyle,O.FontStyle,S.SizeStyle].reduce(function(G,Q){return G[Q.keyName]=Q,G},{}),R=function(G){z(Q,G);function Q(ne,re){P(this,Q);var J=$(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ne,re));return J.quill.root.addEventListener("paste",J.onPaste.bind(J)),J.container=J.quill.addContainer("ql-clipboard"),J.container.setAttribute("contenteditable",!0),J.container.setAttribute("tabindex",-1),J.matchers=[],F.concat(J.options.matchers).forEach(function(ye){var me=s(ye,2),oe=me[0],Xe=me[1];!re.matchVisual&&Xe===Te||J.addMatcher(oe,Xe)}),J}return a(Q,[{key:"addMatcher",value:function(re,J){this.matchers.push([re,J])}},{key:"convert",value:function(re){if(typeof re=="string")return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var J=this.quill.getFormat(this.quill.selection.savedRange.index);if(J[T.default.blotName]){var ye=this.container.innerText;return this.container.innerHTML="",new h.default().insert(ye,C({},T.default.blotName,J[T.default.blotName]))}var me=this.prepareMatching(),oe=s(me,2),Xe=oe[0],Ft=oe[1],De=U(this.container,Xe,Ft);return q(De,`
`)&&De.ops[De.ops.length-1].attributes==null&&(De=De.compose(new h.default().retain(De.length()-1).delete(1))),B.log("convert",this.container.innerHTML,De),this.container.innerHTML="",De}},{key:"dangerouslyPasteHTML",value:function(re,J){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof re=="string")this.quill.setContents(this.convert(re),J),this.quill.setSelection(0,v.default.sources.SILENT);else{var me=this.convert(J);this.quill.updateContents(new h.default().retain(re).concat(me),ye),this.quill.setSelection(re+me.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var J=this;if(!(re.defaultPrevented||!this.quill.isEnabled())){var ye=this.quill.getSelection(),me=new h.default().retain(ye.index),oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){me=me.concat(J.convert()).delete(ye.length),J.quill.updateContents(me,v.default.sources.USER),J.quill.setSelection(me.length()-ye.length,v.default.sources.SILENT),J.quill.scrollingContainer.scrollTop=oe,J.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,J=[],ye=[];return this.matchers.forEach(function(me){var oe=s(me,2),Xe=oe[0],Ft=oe[1];switch(Xe){case Node.TEXT_NODE:ye.push(Ft);break;case Node.ELEMENT_NODE:J.push(Ft);break;default:[].forEach.call(re.container.querySelectorAll(Xe),function(De){De[H]=De[H]||[],De[H].push(Ft)});break}}),[J,ye]}}]),Q}(y.default);R.DEFAULTS={matchers:[],matchVisual:!0};function M(G,Q,ne){return(typeof Q>"u"?"undefined":o(Q))==="object"?Object.keys(Q).reduce(function(re,J){return M(re,J,Q[J])},G):G.reduce(function(re,J){return J.attributes&&J.attributes[Q]?re.push(J):re.insert(J.insert,(0,u.default)({},C({},Q,ne),J.attributes))},new h.default)}function V(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var Q="__ql-computed-style";return G[Q]||(G[Q]=window.getComputedStyle(G))}function q(G,Q){for(var ne="",re=G.ops.length-1;re>=0&&ne.length<Q.length;--re){var J=G.ops[re];if(typeof J.insert!="string")break;ne=J.insert+ne}return ne.slice(-1*Q.length)===Q}function x(G){if(G.childNodes.length===0)return!1;var Q=V(G);return["block","list-item"].indexOf(Q.display)>-1}function U(G,Q,ne){return G.nodeType===G.TEXT_NODE?ne.reduce(function(re,J){return J(G,re)},new h.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(re,J){var ye=U(J,Q,ne);return J.nodeType===G.ELEMENT_NODE&&(ye=Q.reduce(function(me,oe){return oe(J,me)},ye),ye=(J[H]||[]).reduce(function(me,oe){return oe(J,me)},ye)),re.concat(ye)},new h.default):new h.default}function K(G,Q,ne){return M(ne,G,!0)}function W(G,Q){var ne=d.default.Attributor.Attribute.keys(G),re=d.default.Attributor.Class.keys(G),J=d.default.Attributor.Style.keys(G),ye={};return ne.concat(re).concat(J).forEach(function(me){var oe=d.default.query(me,d.default.Scope.ATTRIBUTE);oe!=null&&(ye[oe.attrName]=oe.value(G),ye[oe.attrName])||(oe=L[me],oe!=null&&(oe.attrName===me||oe.keyName===me)&&(ye[oe.attrName]=oe.value(G)||void 0),oe=I[me],oe!=null&&(oe.attrName===me||oe.keyName===me)&&(oe=I[me],ye[oe.attrName]=oe.value(G)||void 0))}),Object.keys(ye).length>0&&(Q=M(Q,ye)),Q}function Y(G,Q){var ne=d.default.query(G);if(ne==null)return Q;if(ne.prototype instanceof d.default.Embed){var re={},J=ne.value(G);J!=null&&(re[ne.blotName]=J,Q=new h.default().insert(re,ne.formats(G)))}else typeof ne.formats=="function"&&(Q=M(Q,ne.blotName,ne.formats(G)));return Q}function te(G,Q){return q(Q,`
`)||Q.insert(`
`),Q}function ce(){return new h.default}function de(G,Q){var ne=d.default.query(G);if(ne==null||ne.blotName!=="list-item"||!q(Q,`
`))return Q;for(var re=-1,J=G.parentNode;!J.classList.contains("ql-clipboard");)(d.default.query(J)||{}).blotName==="list"&&(re+=1),J=J.parentNode;return re<=0?Q:Q.compose(new h.default().retain(Q.length()-1).retain(1,{indent:re}))}function ue(G,Q){return q(Q,`
`)||(x(G)||Q.length()>0&&G.nextSibling&&x(G.nextSibling))&&Q.insert(`
`),Q}function Te(G,Q){if(x(G)&&G.nextElementSibling!=null&&!q(Q,`

`)){var ne=G.offsetHeight+parseFloat(V(G).marginTop)+parseFloat(V(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+ne*1.5&&Q.insert(`
`)}return Q}function at(G,Q){var ne={},re=G.style||{};return re.fontStyle&&V(G).fontStyle==="italic"&&(ne.italic=!0),re.fontWeight&&(V(G).fontWeight.startsWith("bold")||parseInt(V(G).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(Q=M(Q,ne)),parseFloat(re.textIndent||0)>0&&(Q=new h.default().insert("	").concat(Q)),Q}function ze(G,Q){var ne=G.data;if(G.parentNode.tagName==="O:P")return Q.insert(ne.trim());if(ne.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return Q;if(!V(G.parentNode).whiteSpace.startsWith("pre")){var re=function(ye,me){return me=me.replace(/[^\u00a0]/g,""),me.length<1&&ye?" ":me};ne=ne.replace(/\r\n/g," ").replace(/\n/g," "),ne=ne.replace(/\s\s+/g,re.bind(re,!0)),(G.previousSibling==null&&x(G.parentNode)||G.previousSibling!=null&&x(G.previousSibling))&&(ne=ne.replace(/^\s+/,re.bind(re,!1))),(G.nextSibling==null&&x(G.parentNode)||G.nextSibling!=null&&x(G.nextSibling))&&(ne=ne.replace(/\s+$/,re.bind(re,!1)))}return Q.insert(ne)}r.default=R,r.matchAttributor=W,r.matchBlot=Y,r.matchNewline=ue,r.matchSpacing=Te,r.matchText=ze},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(m){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function S(N,C){var P=[],$=!0,z=!1,B=void 0;try{for(var H=N[Symbol.iterator](),F;!($=(F=H.next()).done)&&(P.push(F.value),!(C&&P.length===C));$=!0);}catch(L){z=!0,B=L}finally{try{!$&&H.return&&H.return()}finally{if(z)throw B}}return P}return function(N,C){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return S(N,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(N,C){for(var P=0;P<C.length;P++){var $=C[P];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(N,$.key,$)}}return function(N,C,P){return C&&S(N.prototype,C),P&&S(N,P),N}}(),a=i(2),l=m(a),u=i(0),f=m(u),h=i(5),c=m(h),d=i(10),w=m(d),v=i(9),E=m(v);function m(S){return S&&S.__esModule?S:{default:S}}function p(S,N,C){return N in S?Object.defineProperty(S,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[N]=C,S}function y(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function g(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function _(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var b=(0,w.default)("quill:toolbar"),T=function(S){_(N,S);function N(C,P){y(this,N);var $=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C,P));if(Array.isArray($.options.container)){var z=document.createElement("div");A(z,$.options.container),C.container.parentNode.insertBefore(z,C.container),$.container=z}else typeof $.options.container=="string"?$.container=document.querySelector($.options.container):$.container=$.options.container;if(!($.container instanceof HTMLElement)){var B;return B=b.error("Container required for toolbar",$.options),g($,B)}return $.container.classList.add("ql-toolbar"),$.controls=[],$.handlers={},Object.keys($.options.handlers).forEach(function(H){$.addHandler(H,$.options.handlers[H])}),[].forEach.call($.container.querySelectorAll("button, select"),function(H){$.attach(H)}),$.quill.on(c.default.events.EDITOR_CHANGE,function(H,F){H===c.default.events.SELECTION_CHANGE&&$.update(F)}),$.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var H=$.quill.selection.getRange(),F=o(H,1),L=F[0];$.update(L)}),$}return s(N,[{key:"addHandler",value:function(P,$){this.handlers[P]=$}},{key:"attach",value:function(P){var $=this,z=[].find.call(P.classList,function(H){return H.indexOf("ql-")===0});if(z){if(z=z.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null){b.warn("ignoring attaching to disabled format",z,P);return}if(f.default.query(z)==null){b.warn("ignoring attaching to nonexistent format",z,P);return}}var B=P.tagName==="SELECT"?"change":"click";P.addEventListener(B,function(H){var F=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var L=P.options[P.selectedIndex];L.hasAttribute("selected")?F=!1:F=L.value||!1}else P.classList.contains("ql-active")?F=!1:F=P.value||!P.hasAttribute("value"),H.preventDefault();$.quill.focus();var I=$.quill.selection.getRange(),R=o(I,1),M=R[0];if($.handlers[z]!=null)$.handlers[z].call($,F);else if(f.default.query(z).prototype instanceof f.default.Embed){if(F=prompt("Enter "+z),!F)return;$.quill.updateContents(new l.default().retain(M.index).delete(M.length).insert(p({},z,F)),c.default.sources.USER)}else $.quill.format(z,F,c.default.sources.USER);$.update(M)}),this.controls.push([z,P])}}},{key:"update",value:function(P){var $=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(z){var B=o(z,2),H=B[0],F=B[1];if(F.tagName==="SELECT"){var L=void 0;if(P==null)L=null;else if($[H]==null)L=F.querySelector("option[selected]");else if(!Array.isArray($[H])){var I=$[H];typeof I=="string"&&(I=I.replace(/\"/g,'\\"')),L=F.querySelector('option[value="'+I+'"]')}L==null?(F.value="",F.selectedIndex=-1):L.selected=!0}else if(P==null)F.classList.remove("ql-active");else if(F.hasAttribute("value")){var R=$[H]===F.getAttribute("value")||$[H]!=null&&$[H].toString()===F.getAttribute("value")||$[H]==null&&!F.getAttribute("value");F.classList.toggle("ql-active",R)}else F.classList.toggle("ql-active",$[H]!=null)})}}]),N}(E.default);T.DEFAULTS={};function k(S,N,C){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+N),C!=null&&(P.value=C),S.appendChild(P)}function A(S,N){Array.isArray(N[0])||(N=[N]),N.forEach(function(C){var P=document.createElement("span");P.classList.add("ql-formats"),C.forEach(function($){if(typeof $=="string")k(P,$);else{var z=Object.keys($)[0],B=$[z];Array.isArray(B)?O(P,z,B):k(P,z,B)}}),S.appendChild(P)})}function O(S,N,C){var P=document.createElement("select");P.classList.add("ql-"+N),C.forEach(function($){var z=document.createElement("option");$!==!1?z.setAttribute("value",$):z.setAttribute("selected","selected"),P.appendChild(z)}),S.appendChild(P)}T.DEFAULTS={container:null,handlers:{clean:function(){var N=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function($){f.default.query($,f.default.Scope.INLINE)!=null&&N.quill.format($,!1)})}else this.quill.removeFormat(C,c.default.sources.USER)},direction:function(N){var C=this.quill.getFormat().align;N==="rtl"&&C==null?this.quill.format("align","right",c.default.sources.USER):!N&&C==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",N,c.default.sources.USER)},indent:function(N){var C=this.quill.getSelection(),P=this.quill.getFormat(C),$=parseInt(P.indent||0);if(N==="+1"||N==="-1"){var z=N==="+1"?1:-1;P.direction==="rtl"&&(z*=-1),this.quill.format("indent",$+z,c.default.sources.USER)}},link:function(N){N===!0&&(N=prompt("Enter link URL:")),this.quill.format("link",N,c.default.sources.USER)},list:function(N){var C=this.quill.getSelection(),P=this.quill.getFormat(C);N==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",N,c.default.sources.USER)}}},r.default=T,r.addControls=A},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(E,m){f(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return p.label.innerHTML=m,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(y){y.classList.add("ql-primary")}),p}return o(v,[{key:"buildItem",value:function(m){var p=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,m);return p.style.backgroundColor=m.getAttribute("value")||"",p}},{key:"selectItem",value:function(m,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,p);var y=this.label.querySelector(".ql-color-label"),g=m&&m.getAttribute("data-value")||"";y&&(y.tagName==="line"?y.style.stroke=g:y.style.fill=g)}}]),v}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(E,m){f(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(y){y.innerHTML=m[y.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(v,[{key:"selectItem",value:function(m,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,p),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),v}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,f){for(var h=0;h<f.length;h++){var c=f[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,f,h){return f&&l(u.prototype,f),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,f){var h=this;s(this,l),this.quill=u,this.boundsContainer=f||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var h=f.left+f.width/2-this.root.offsetWidth/2,c=f.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),v=0;if(w.right>d.right&&(v=d.right-w.right,this.root.style.left=h+v+"px"),w.left<d.left&&(v=d.left-w.left,this.root.style.left=h+v+"px"),w.bottom>d.bottom){var E=w.bottom-w.top,m=f.bottom-f.top+E;this.root.style.top=c-m+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function O(S,N){var C=[],P=!0,$=!1,z=void 0;try{for(var B=S[Symbol.iterator](),H;!(P=(H=B.next()).done)&&(C.push(H.value),!(N&&C.length===N));P=!0);}catch(F){$=!0,z=F}finally{try{!P&&B.return&&B.return()}finally{if($)throw z}}return C}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return O(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function O(S,N,C){S===null&&(S=Function.prototype);var P=Object.getOwnPropertyDescriptor(S,N);if(P===void 0){var $=Object.getPrototypeOf(S);return $===null?void 0:O($,N,C)}else{if("value"in P)return P.value;var z=P.get;return z===void 0?void 0:z.call(C)}},a=function(){function O(S,N){for(var C=0;C<N.length;C++){var P=N[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,N,C){return N&&O(S.prototype,N),C&&O(S,C),S}}(),l=i(3),u=y(l),f=i(8),h=y(f),c=i(43),d=y(c),w=i(27),v=y(w),E=i(15),m=i(41),p=y(m);function y(O){return O&&O.__esModule?O:{default:O}}function g(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}function _(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:O}function b(O,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(O){b(S,O);function S(N,C){g(this,S),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=T);var P=_(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,C));return P.quill.container.classList.add("ql-snow"),P}return a(S,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),p.default),this.tooltip=new A(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,$){C.handlers.link.call(C,!$.format.link)})}}]),S}(d.default);k.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var N=this.quill.getSelection();if(N==null||N.length==0)return;var C=this.quill.getText(N);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var P=this.quill.theme.tooltip;P.edit("link",C)}else this.quill.format("link",!1)}}}}});var A=function(O){b(S,O);function S(N,C){g(this,S);var P=_(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,C));return P.preview=P.root.querySelector("a.ql-preview"),P}return a(S,[{key:"listen",value:function(){var C=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(C.linkRange!=null){var $=C.linkRange;C.restoreFocus(),C.quill.formatText($,"link",!1,h.default.sources.USER),delete C.linkRange}P.preventDefault(),C.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(P,$,z){if(P!=null){if(P.length===0&&z===h.default.sources.USER){var B=C.quill.scroll.descendant(v.default,P.index),H=o(B,2),F=H[0],L=H[1];if(F!=null){C.linkRange=new E.Range(P.index-L,F.length());var I=v.default.formats(F.domNode);C.preview.textContent=I,C.preview.setAttribute("href",I),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(c.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=J(o),a=i(36),l=i(38),u=i(64),f=i(65),h=J(f),c=i(66),d=J(c),w=i(67),v=J(w),E=i(37),m=i(26),p=i(39),y=i(40),g=i(56),_=J(g),b=i(68),T=J(b),k=i(27),A=J(k),O=i(69),S=J(O),N=i(70),C=J(N),P=i(71),$=J(P),z=i(72),B=J(z),H=i(73),F=J(H),L=i(13),I=J(L),R=i(74),M=J(R),V=i(75),q=J(V),x=i(57),U=J(x),K=i(41),W=J(K),Y=i(28),te=J(Y),ce=i(59),de=J(ce),ue=i(60),Te=J(ue),at=i(61),ze=J(at),G=i(108),Q=J(G),ne=i(62),re=J(ne);function J(ye){return ye&&ye.__esModule?ye:{default:ye}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":y.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":p.FontClass,"formats/size":y.SizeClass,"formats/blockquote":h.default,"formats/code-block":I.default,"formats/header":d.default,"formats/list":v.default,"formats/bold":_.default,"formats/code":L.Code,"formats/italic":T.default,"formats/link":A.default,"formats/script":S.default,"formats/strike":C.default,"formats/underline":$.default,"formats/image":B.default,"formats/video":F.default,"formats/list/item":w.ListItem,"modules/formula":M.default,"modules/syntax":q.default,"modules/toolbar":U.default,"themes/bubble":Q.default,"themes/snow":re.default,"ui/icons":W.default,"ui/picker":te.default,"ui/icon-picker":Te.default,"ui/color-picker":de.default,"ui/tooltip":ze.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(E,m){for(var p=0;p<m.length;p++){var y=m[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}return function(E,m,p){return m&&v(E.prototype,m),p&&v(E,p),E}}(),s=function v(E,m,p){E===null&&(E=Function.prototype);var y=Object.getOwnPropertyDescriptor(E,m);if(y===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:v(g,m,p)}else{if("value"in y)return y.value;var _=y.get;return _===void 0?void 0:_.call(p)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function h(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function c(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var d=function(v){c(E,v);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"add",value:function(p,y){if(y==="+1"||y==="-1"){var g=this.value(p)||0;y=y==="+1"?g+1:g-1}return y===0?(this.remove(p),!0):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,p,y)}},{key:"canAdd",value:function(p,y){return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,y)||s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,parseInt(y))}},{key:"value",value:function(p){return parseInt(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,p))||void 0}}]),E}(l.default.Attributor.Class),w=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(w,v){for(var E=0;E<v.length;E++){var m=v[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(w,m.key,m)}}return function(w,v,E){return v&&d(w.prototype,v),E&&d(w,E),w}}(),s=i(4),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}function u(d,w){if(!(d instanceof w))throw new TypeError("Cannot call a class as a function")}function f(d,w){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:d}function h(d,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);d.prototype=Object.create(w&&w.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(d,w):d.__proto__=w)}var c=function(d){h(w,d);function w(){return u(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),w}(a.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(_,b){for(var T=0;T<b.length;T++){var k=b[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,b,T){return b&&g(_.prototype,b),T&&g(_,T),_}}(),s=function g(_,b,T){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,b);if(k===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:g(A,b,T)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(T)}},a=i(0),l=d(a),u=i(4),f=d(u),h=i(25),c=d(h);function d(g){return g&&g.__esModule?g:{default:g}}function w(g,_,b){return _ in g?Object.defineProperty(g,_,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[_]=b,g}function v(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function E(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function m(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var p=function(g){m(_,g);function _(){return v(this,_),E(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(T,k){T===y.blotName&&!k?this.replaceWith(l.default.create(this.statics.scope)):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,T,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,k){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,k),this):(this.parent.unwrap(),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,T,k))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:s(_.__proto__||Object.getPrototypeOf(_),"formats",this).call(this,T)}}]),_}(f.default);p.blotName="list-item",p.tagName="LI";var y=function(g){m(_,g),o(_,null,[{key:"create",value:function(T){var k=T==="ordered"?"OL":"UL",A=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,k);return(T==="checked"||T==="unchecked")&&A.setAttribute("data-checked",T==="checked"),A}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function _(b){v(this,_);var T=E(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,b)),k=function(O){if(O.target.parentNode===b){var S=T.statics.formats(b),N=l.default.find(O.target);S==="checked"?N.format("list","unchecked"):S==="unchecked"&&N.format("list","checked")}};return b.addEventListener("touchstart",k),b.addEventListener("mousedown",k),T}return o(_,[{key:"format",value:function(T,k){this.children.length>0&&this.children.tail.format(T,k)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,k){if(T instanceof p)s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,T,k);else{var A=k==null?this.length():k.offset(this),O=this.split(A);O.parent.insertBefore(T,O)}}},{key:"optimize",value:function(T){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,T);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var k=l.default.create(this.statics.defaultChild);T.moveChildren(k),this.appendChild(k)}s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replace",this).call(this,T)}}]),_}(c.default);y.blotName="list",y.scope=l.default.Scope.BLOCK_BLOT,y.tagName=["OL","UL"],y.defaultChild="list-item",y.allowedChildren=[p],r.ListItem=p,r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,m){return E&&w(v.prototype,E),m&&w(v,m),v}}(),s=function w(v,E,m){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var y=Object.getPrototypeOf(v);return y===null?void 0:w(y,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function c(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var d=function(w){c(v,w);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),v}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function f(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var h=function(c){f(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),s=function E(m,p,y){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,y)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(y)}},a=i(0),l=f(a),u=i(27);function f(E){return E&&E.__esModule?E:{default:E}}function h(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function c(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function d(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var w=["alt","height","width"],v=function(E){d(m,E);function m(){return h(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(y,g){w.indexOf(y)>-1?g?this.domNode.setAttribute(y,g):this.domNode.removeAttribute(y):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,g)}}],[{key:"create",value:function(y){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,y);return typeof y=="string"&&g.setAttribute("src",this.sanitize(y)),g}},{key:"formats",value:function(y){return w.reduce(function(g,_){return y.hasAttribute(_)&&(g[_]=y.getAttribute(_)),g},{})}},{key:"match",value:function(y){return/\.(jpe?g|gif|png)$/.test(y)||/^data:image\/.+;base64/.test(y)}},{key:"sanitize",value:function(y){return(0,u.sanitize)(y,["http","https","data"])?y:"//:0"}},{key:"value",value:function(y){return y.getAttribute("src")}}]),m}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,y){return p&&E(m.prototype,p),y&&E(m,y),m}}(),s=function E(m,p,y){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:E(_,p,y)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(y)}},a=i(4),l=i(27),u=f(l);function f(E){return E&&E.__esModule?E:{default:E}}function h(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function c(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function d(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var w=["height","width"],v=function(E){d(m,E);function m(){return h(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(y,g){w.indexOf(y)>-1?g?this.domNode.setAttribute(y,g):this.domNode.removeAttribute(y):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,g)}}],[{key:"create",value:function(y){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,y);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(y)),g}},{key:"formats",value:function(y){return w.reduce(function(g,_){return y.hasAttribute(_)&&(g[_]=y.getAttribute(_)),g},{})}},{key:"sanitize",value:function(y){return u.default.sanitize(y)}},{key:"value",value:function(y){return y.getAttribute("src")}}]),m}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function y(g,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,_,b){return _&&y(g.prototype,_),b&&y(g,b),g}}(),s=function y(g,_,b){g===null&&(g=Function.prototype);var T=Object.getOwnPropertyDescriptor(g,_);if(T===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:y(k,_,b)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(b)}},a=i(35),l=d(a),u=i(5),f=d(u),h=i(9),c=d(h);function d(y){return y&&y.__esModule?y:{default:y}}function w(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function v(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function E(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var m=function(y){E(g,y);function g(){return w(this,g),v(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(b){var T=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,b);return typeof b=="string"&&(window.katex.render(b,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",b)),T}},{key:"value",value:function(b){return b.getAttribute("data-value")}}]),g}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var p=function(y){E(g,y),o(g,null,[{key:"register",value:function(){f.default.register(m,!0)}}]);function g(){w(this,g);var _=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return _}return g}(c.default);r.FormulaBlot=m,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function b(T,k){for(var A=0;A<k.length;A++){var O=k[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}return function(T,k,A){return k&&b(T.prototype,k),A&&b(T,A),T}}(),s=function b(T,k,A){T===null&&(T=Function.prototype);var O=Object.getOwnPropertyDescriptor(T,k);if(O===void 0){var S=Object.getPrototypeOf(T);return S===null?void 0:b(S,k,A)}else{if("value"in O)return O.value;var N=O.get;return N===void 0?void 0:N.call(A)}},a=i(0),l=v(a),u=i(5),f=v(u),h=i(9),c=v(h),d=i(13),w=v(d);function v(b){return b&&b.__esModule?b:{default:b}}function E(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function m(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function p(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var y=function(b){p(T,b);function T(){return E(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),T}(w.default);y.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),_=function(b){p(T,b),o(T,null,[{key:"register",value:function(){f.default.register(g,!0),f.default.register(y,!0)}}]);function T(k,A){E(this,T);var O=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k,A));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return O.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){O.highlight(),S=null},O.options.interval)}),O.highlight(),O}return o(T,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(y).forEach(function(S){S.highlight(A.options.highlight)}),this.quill.update(f.default.sources.SILENT),O!=null&&this.quill.setSelection(O,f.default.sources.SILENT)}}}]),T}(c.default);_.DEFAULTS={highlight:function(){return window.hljs==null?null:function(b){var T=window.hljs.highlightAuto(b);return T.value}}(),interval:1e3},r.CodeBlock=y,r.CodeToken=g,r.default=_},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function T(k,A,O){k===null&&(k=Function.prototype);var S=Object.getOwnPropertyDescriptor(k,A);if(S===void 0){var N=Object.getPrototypeOf(k);return N===null?void 0:T(N,A,O)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(O)}},s=function(){function T(k,A){for(var O=0;O<A.length;O++){var S=A[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(k,S.key,S)}}return function(k,A,O){return A&&T(k.prototype,A),O&&T(k,O),k}}(),a=i(3),l=E(a),u=i(8),f=E(u),h=i(43),c=E(h),d=i(15),w=i(41),v=E(w);function E(T){return T&&T.__esModule?T:{default:T}}function m(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function p(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function y(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],_=function(T){y(k,T);function k(A,O){m(this,k),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=g);var S=p(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,O));return S.quill.container.classList.add("ql-bubble"),S}return s(k,[{key:"extendToolbar",value:function(O){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),v.default)}}]),k}(c.default);_.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var b=function(T){y(k,T);function k(A,O){m(this,k);var S=p(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,O));return S.quill.on(f.default.events.EDITOR_CHANGE,function(N,C,P,$){if(N===f.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&$===f.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var z=S.quill.getLines(C.index,C.length);if(z.length===1)S.position(S.quill.getBounds(C));else{var B=z[z.length-1],H=S.quill.getIndex(B),F=Math.min(B.length()-1,C.index+C.length-H),L=S.quill.getBounds(new d.Range(H,F));S.position(L)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(k,[{key:"listen",value:function(){var O=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var S=O.quill.getSelection();S!=null&&O.position(O.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var S=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,O),N=this.root.querySelector(".ql-tooltip-arrow");if(N.style.marginLeft="",S===0)return S;N.style.marginLeft=-1*S-N.offsetWidth/2+"px"}}]),k}(h.BaseTooltip);b.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=b,r.default=_},function(n,r,i){n.exports=i(63)}]).default})})(wk);var F6=wk.exports,j6=Kt&&Kt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ec=Kt&&Kt.__assign||function(){return ec=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ec.apply(this,arguments)},U6=Kt&&Kt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},cf=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Sn=cf(D),B6=cf(tm),ps=cf($6),a1=cf(F6),q6=function(t){j6(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,f,h,c;o==="text-change"?(f=(u=r).onEditorChangeText)===null||f===void 0||f.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((c=(h=r).onEditorChangeSelection)===null||c===void 0||c.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Sn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Sn.default.Children.count(n.children)){var i=Sn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),U6(this.cleanProps,this.dirtyProps).some(function(l){return!ps.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!ps.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),l1(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new a1.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?ps.default(n.ops,r.ops):ps.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),l1(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=B6.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return Sn.default.Children.count(i)?Sn.default.cloneElement(Sn.default.Children.only(i),a):o?Sn.default.createElement("pre",ec({},a)):Sn.default.createElement("div",ec({},a))},e.prototype.render=function(){var n;return Sn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,f;if(this.editor){var h=this.getEditorSelection(),c=!h&&n,d=h&&!n;ps.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),c?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):d&&((f=(u=this.props).onBlur)===null||f===void 0||f.call(u,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=a1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Sn.default.Component);function l1(t){Promise.resolve().then(t)}var V6=q6;const z6=Ta(V6);const Ek=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,o]=D.useState(!1),[s,a]=D.useState(""),l=()=>{e(""),r(""),a(""),o(!1)},u=()=>o(!0),f=va(pi,"posts"),h=async()=>{if(t.trim()===""){a("Title field is required.");return}await wb(f,{title:t,postText:n,author:{name:Ea.currentUser.displayName,id:Ea.currentUser.uid},createdAt:new Date().toISOString()}),l()};return le("div",{className:"createPostPage",children:[j("h1",{children:"Create a post"}),le("div",{className:"cpContainer",children:[j(jf,{variant:"primary",onClick:u,children:"Create Post"}),le(cs,{show:i,onHide:l,children:[j(cs.Header,{closeButton:!0,children:j(cs.Title,{children:"Create a post"})}),j(cs.Body,{children:le($i,{children:[le($i.Group,{controlId:"formTitle",children:[j($i.Label,{children:"Title:"}),j($i.Control,{type:"text",placeholder:"Title...",value:t,onChange:c=>e(c.target.value),required:!0}),s&&j("div",{className:"text-danger",children:s})]}),le($i.Group,{controlId:"formPost",children:[j($i.Label,{children:"Post:"}),j(z6,{className:"react-quill",theme:"snow",value:n,onChange:r})]})]})}),le(cs.Footer,{children:[j(jf,{variant:"secondary",onClick:l,children:"Close"}),j(jf,{className:"submitPostBtn",variant:"primary",onClick:h,children:"Submit Post"})]})]})]})]})},H6=({isOpen:t,onClose:e,onConfirm:n})=>t?j("div",{className:"modal",children:le("div",{className:"modal-content",children:[j("h2",{children:"Are you sure?"}),j("p",{children:"Do you want to delete this post?"}),le("div",{className:"modal-actions",children:[j("button",{onClick:e,children:"Cancel"}),j("button",{onClick:n,children:"Delete"})]})]})}):null,K6=()=>{const[t,e]=c4(),[n,r]=D.useState([]),i=va(pi,"posts"),[o,s]=D.useState(!1);D.useEffect(()=>{(async()=>{const _=(await yb(i)).docs.map(b=>({...b.data(),id:b.id})).sort((b,T)=>new Date(T.createdAt)-new Date(b.createdAt));console.log(_),r(_)})()},[]);const a=async p=>{const y=hg(pi,"posts",p);await GD(y)},[l,u]=D.useState(!1),[f,h]=D.useState(null),c=p=>{h(p),u(!0)},d=()=>{u(!1)},w=async()=>{f&&await a(f),d()},v=()=>{t==="ramdani.lokman@gmail.com"&&s(!o)},E=t==="ramdani.lokman@gmail.com",m=E&&o;return le(mi,{children:[j(ik,{isAuth:!!t}),j(u4,{isAuth:!!t}),j("div",{children:E&&j("button",{onClick:v,children:o?"View as Normal User":"View as Admin"})}),m&&j(Ek,{}),j(H6,{isOpen:l,onClose:d,onConfirm:w}),j("div",{children:n.map(p=>le("div",{className:"post",children:[m&&j("button",{onClick:()=>c(p.id),children:"delete"}),j(to,{to:`/post/${p.id}`,children:j("h1",{children:p.title})}),le("h3",{children:["@",p.author.name]}),j("p",{children:new Date(p.createdAt).toLocaleString()}),j("hr",{})]},p.id))})]})},W6=()=>{const{id:t}=wI(),[e,n]=D.useState(null),[r,i]=D.useState([]),[o,s]=D.useState(""),[a,l]=D.useState("");D.useEffect(()=>{const f=async()=>{try{const c=hg(pi,"posts",t),d=await WD(c);d.exists()?(console.log("Post data:",d.data()),n({...d.data(),id:d.id})):console.error("No post found with the given id:",t)}catch(c){console.error("Error fetching the post:",c)}},h=async()=>{try{const c=db(va(pi,"comments"),UD("postId","==",t)),d=await getDocs(c);i(d.docs.map(w=>({...w.data(),id:w.id})))}catch(c){console.error("Error fetching comments:",c)}};f(),h()},[t]);const u=async f=>{if(f.preventDefault(),!(!o.trim()||!a.trim()))try{await wb(va(pi,"comments"),{postId:t,authorName:o,commentText:a,createdAt:new Date().toISOString()}),s(""),l(""),fetchComments()}catch(h){console.error("Error adding comment:",h)}};return e?le("div",{className:"post-page",children:[j("h1",{children:e.title}),j("div",{dangerouslySetInnerHTML:{__html:e.postText}}),le("h3",{children:["@",e.author.name]}),j("p",{children:new Date(e.createdAt).toLocaleString()}),le("div",{className:"comments-section",children:[j("h2",{children:"Comments"}),le("form",{onSubmit:u,children:[le("div",{className:"form-group",children:[j("label",{htmlFor:"authorName",children:"Name:"}),j("input",{type:"text",className:"form-control",id:"authorName",value:o,onChange:f=>s(f.target.value),required:!0})]}),le("div",{className:"form-group",children:[j("label",{htmlFor:"commentText",children:"Comment:"}),j("textarea",{className:"form-control",id:"commentText",value:a,onChange:f=>l(f.target.value),required:!0})]}),j("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]}),j("div",{className:"comments-list",children:r.map(f=>le("div",{className:"comment",children:[le("div",{className:"comment-header",children:[j("span",{className:"comment-author",children:f.authorName}),j("span",{className:"comment-date",children:new Date(f.createdAt).toLocaleString()})]}),j("div",{className:"comment-body",children:f.commentText})]},f.id))})]})]}):j("div",{children:"Loading..."})};function G6(){const[t,e]=D.useState(!1);return le("div",{className:"App",children:[j(FI,{children:j("div",{className:"table-container",children:j("table",{children:le("tbody",{children:[j("tr",{children:j("td",{children:j(u2,{})})}),j("tr",{children:j("td",{children:le(PI,{children:[j(Zr,{path:"/",element:j(n4,{})}),j(Zr,{path:"/lokman/contact",element:j(l4,{})}),j(Zr,{path:"/lokman/blog",element:j(K6,{})}),j(Zr,{path:"/lokman/createpost",element:j(Ek,{})}),j(Zr,{path:"/lokman/login",element:j(ik,{setIsAuth:e})}),j(Zr,{path:"/post/:id",element:j(W6,{})})]})})})]})})})}),j("div",{className:"copyrights",children:j("p",{children:"2023 Lokman RAMDANI"})}),j("div",{}),j("div",{className:"nixie_clock",children:j(c2,{})})]})}mh.createRoot(document.getElementById("root")).render(j(mn.StrictMode,{children:j(G6,{})}));
